/* /themes/horoshop_default/layout/js/vendor/modernizr.custom.js */
/*! modernizr 3.3.1 (Custom Build) | MIT *
 * http://modernizr.com/download/?-csscolumns-csstransforms3d-flexbox-objectfit-svg-setclasses !*/
!function(e, t, n) {
    function r(e, t) {
        return typeof e === t
    }
    function s() {
        var e, t, n, s, o, i, a;
        for (var f in C)
            if (C.hasOwnProperty(f)) {
                if (e = [],
                t = C[f],
                t.name && (e.push(t.name.toLowerCase()),
                t.options && t.options.aliases && t.options.aliases.length))
                    for (n = 0; n < t.options.aliases.length; n++)
                        e.push(t.options.aliases[n].toLowerCase());
                for (s = r(t.fn, "function") ? t.fn() : t.fn,
                o = 0; o < e.length; o++)
                    i = e[o],
                    a = i.split("."),
                    1 === a.length ? Modernizr[a[0]] = s : (!Modernizr[a[0]] || Modernizr[a[0]]instanceof Boolean || (Modernizr[a[0]] = new Boolean(Modernizr[a[0]])),
                    Modernizr[a[0]][a[1]] = s),
                    y.push((s ? "" : "no-") + a.join("-"))
            }
    }
    function o(e) {
        var t = S.className
          , n = Modernizr._config.classPrefix || "";
        if (x && (t = t.baseVal),
        Modernizr._config.enableJSClass) {
            var r = new RegExp("(^|\\s)" + n + "no-js(\\s|$)");
            t = t.replace(r, "$1" + n + "js$2")
        }
        Modernizr._config.enableClasses && (t += " " + n + e.join(" " + n),
        x ? S.className.baseVal = t : S.className = t)
    }
    function i(e) {
        return e.replace(/([a-z])-([a-z])/g, function(e, t, n) {
            return t + n.toUpperCase()
        }).replace(/^-/, "")
    }
    function a(e, t) {
        return !!~("" + e).indexOf(t)
    }
    function f() {
        return "function" != typeof t.createElement ? t.createElement(arguments[0]) : x ? t.createElementNS.call(t, "http://www.w3.org/2000/svg", arguments[0]) : t.createElement.apply(t, arguments)
    }
    function l(e, t) {
        return function() {
            return e.apply(t, arguments)
        }
    }
    function u(e, t, n) {
        var s;
        for (var o in e)
            if (e[o]in t)
                return n === !1 ? e[o] : (s = t[e[o]],
                r(s, "function") ? l(s, n || t) : s);
        return !1
    }
    function d(e) {
        return e.replace(/([A-Z])/g, function(e, t) {
            return "-" + t.toLowerCase()
        }).replace(/^ms-/, "-ms-")
    }
    function p() {
        var e = t.body;
        return e || (e = f(x ? "svg" : "body"),
        e.fake = !0),
        e
    }
    function c(e, n, r, s) {
        var o, i, a, l, u = "modernizr", d = f("div"), c = p();
        if (parseInt(r, 10))
            for (; r--; )
                a = f("div"),
                a.id = s ? s[r] : u + (r + 1),
                d.appendChild(a);
        return o = f("style"),
        o.type = "text/css",
        o.id = "s" + u,
        (c.fake ? c : d).appendChild(o),
        c.appendChild(d),
        o.styleSheet ? o.styleSheet.cssText = e : o.appendChild(t.createTextNode(e)),
        d.id = u,
        c.fake && (c.style.background = "",
        c.style.overflow = "hidden",
        l = S.style.overflow,
        S.style.overflow = "hidden",
        S.appendChild(c)),
        i = n(d, e),
        c.fake ? (c.parentNode.removeChild(c),
        S.style.overflow = l,
        S.offsetHeight) : d.parentNode.removeChild(d),
        !!i
    }
    function m(t, r) {
        var s = t.length;
        if ("CSS"in e && "supports"in e.CSS) {
            for (; s--; )
                if (e.CSS.supports(d(t[s]), r))
                    return !0;
            return !1
        }
        if ("CSSSupportsRule"in e) {
            for (var o = []; s--; )
                o.push("(" + d(t[s]) + ":" + r + ")");
            return o = o.join(" or "),
            c("@supports (" + o + ") { #modernizr { position: absolute; } }", function(e) {
                return "absolute" == getComputedStyle(e, null).position
            })
        }
        return n
    }
    function v(e, t, s, o) {
        function l() {
            d && (delete P.style,
            delete P.modElem)
        }
        if (o = r(o, "undefined") ? !1 : o,
        !r(s, "undefined")) {
            var u = m(e, s);
            if (!r(u, "undefined"))
                return u
        }
        for (var d, p, c, v, h, g = ["modernizr", "tspan"]; !P.style; )
            d = !0,
            P.modElem = f(g.shift()),
            P.style = P.modElem.style;
        for (c = e.length,
        p = 0; c > p; p++)
            if (v = e[p],
            h = P.style[v],
            a(v, "-") && (v = i(v)),
            P.style[v] !== n) {
                if (o || r(s, "undefined"))
                    return l(),
                    "pfx" == t ? v : !0;
                try {
                    P.style[v] = s
                } catch (y) {}
                if (P.style[v] != h)
                    return l(),
                    "pfx" == t ? v : !0
            }
        return l(),
        !1
    }
    function h(e, t, n, s, o) {
        var i = e.charAt(0).toUpperCase() + e.slice(1)
          , a = (e + " " + _.join(i + " ") + i).split(" ");
        return r(t, "string") || r(t, "undefined") ? v(a, t, s, o) : (a = (e + " " + T.join(i + " ") + i).split(" "),
        u(a, t, n))
    }
    function g(e, t, r) {
        return h(e, n, n, t, r)
    }
    var y = []
      , C = []
      , w = {
        _version: "3.3.1",
        _config: {
            classPrefix: "",
            enableClasses: !0,
            enableJSClass: !0,
            usePrefixes: !0
        },
        _q: [],
        on: function(e, t) {
            var n = this;
            setTimeout(function() {
                t(n[e])
            }, 0)
        },
        addTest: function(e, t, n) {
            C.push({
                name: e,
                fn: t,
                options: n
            })
        },
        addAsyncTest: function(e) {
            C.push({
                name: null,
                fn: e
            })
        }
    }
      , Modernizr = function() {};
    Modernizr.prototype = w,
    Modernizr = new Modernizr,
    Modernizr.addTest("svg", !!t.createElementNS && !!t.createElementNS("http://www.w3.org/2000/svg", "svg").createSVGRect);
    var S = t.documentElement
      , x = "svg" === S.nodeName.toLowerCase()
      , b = "Moz O ms Webkit"
      , _ = w._config.usePrefixes ? b.split(" ") : [];
    w._cssomPrefixes = _;
    var k = function(t) {
        var r, s = prefixes.length, o = e.CSSRule;
        if ("undefined" == typeof o)
            return n;
        if (!t)
            return !1;
        if (t = t.replace(/^@/, ""),
        r = t.replace(/-/g, "_").toUpperCase() + "_RULE",
        r in o)
            return "@" + t;
        for (var i = 0; s > i; i++) {
            var a = prefixes[i]
              , f = a.toUpperCase() + "_" + r;
            if (f in o)
                return "@-" + a.toLowerCase() + "-" + t
        }
        return !1
    };
    w.atRule = k;
    var T = w._config.usePrefixes ? b.toLowerCase().split(" ") : [];
    w._domPrefixes = T;
    var E = {
        elem: f("modernizr")
    };
    Modernizr._q.push(function() {
        delete E.elem
    });
    var P = {
        style: E.elem.style
    };
    Modernizr._q.unshift(function() {
        delete P.style
    }),
    w.testAllProps = h,
    w.testAllProps = g,
    function() {
        Modernizr.addTest("csscolumns", function() {
            var e = !1
              , t = g("columnCount");
            try {
                (e = !!t) && (e = new Boolean(e))
            } catch (n) {}
            return e
        });
        for (var e, t, n = ["Width", "Span", "Fill", "Gap", "Rule", "RuleColor", "RuleStyle", "RuleWidth", "BreakBefore", "BreakAfter", "BreakInside"], r = 0; r < n.length; r++)
            e = n[r].toLowerCase(),
            t = g("column" + n[r]),
            ("breakbefore" === e || "breakafter" === e || "breakinside" == e) && (t = t || g(n[r])),
            Modernizr.addTest("csscolumns." + e, t)
    }(),
    Modernizr.addTest("flexbox", g("flexBasis", "1px", !0));
    var z = w.prefixed = function(e, t, n) {
        return 0 === e.indexOf("@") ? k(e) : (-1 != e.indexOf("-") && (e = i(e)),
        t ? h(e, t, n) : h(e, "pfx"))
    }
    ;
    Modernizr.addTest("objectfit", !!z("objectFit"), {
        aliases: ["object-fit"]
    });
    var N = w.testStyles = c
      , R = "CSS"in e && "supports"in e.CSS
      , j = "supportsCSS"in e;
    Modernizr.addTest("supports", R || j),
    Modernizr.addTest("csstransforms3d", function() {
        var e = !!g("perspective", "1px", !0)
          , t = Modernizr._config.usePrefixes;
        if (e && (!t || "webkitPerspective"in S.style)) {
            var n, r = "#modernizr{width:0;height:0}";
            Modernizr.supports ? n = "@supports (perspective: 1px)" : (n = "@media (transform-3d)",
            t && (n += ",(-webkit-transform-3d)")),
            n += "{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}",
            N(r + n, function(t) {
                e = 7 === t.offsetWidth && 18 === t.offsetHeight
            })
        }
        return e
    }),
    s(),
    o(y),
    delete w.addTest,
    delete w.addAsyncTest;
    for (var B = 0; B < Modernizr._q.length; B++)
        Modernizr._q[B]();
    e.Modernizr = Modernizr
}(window, document);
/* /vendor/jquery/jquery-1.11.1.min.js */
/*! jQuery v1.11.1 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(a, b) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = a.document ? b(a, !0) : function(a) {
        if (!a.document)
            throw new Error("jQuery requires a window with a document");
        return b(a)
    }
    : b(a)
}("undefined" != typeof window ? window : this, function(a, b) {
    var c = []
      , d = c.slice
      , e = c.concat
      , f = c.push
      , g = c.indexOf
      , h = {}
      , i = h.toString
      , j = h.hasOwnProperty
      , k = {}
      , l = "1.11.1"
      , m = function(a, b) {
        return new m.fn.init(a,b)
    }
      , n = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
      , o = /^-ms-/
      , p = /-([\da-z])/gi
      , q = function(a, b) {
        return b.toUpperCase()
    };
    m.fn = m.prototype = {
        jquery: l,
        constructor: m,
        selector: "",
        length: 0,
        toArray: function() {
            return d.call(this)
        },
        get: function(a) {
            return null != a ? 0 > a ? this[a + this.length] : this[a] : d.call(this)
        },
        pushStack: function(a) {
            var b = m.merge(this.constructor(), a);
            return b.prevObject = this,
            b.context = this.context,
            b
        },
        each: function(a, b) {
            return m.each(this, a, b)
        },
        map: function(a) {
            return this.pushStack(m.map(this, function(b, c) {
                return a.call(b, c, b)
            }))
        },
        slice: function() {
            return this.pushStack(d.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(a) {
            var b = this.length
              , c = +a + (0 > a ? b : 0);
            return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor(null)
        },
        push: f,
        sort: c.sort,
        splice: c.splice
    },
    m.extend = m.fn.extend = function() {
        var a, b, c, d, e, f, g = arguments[0] || {}, h = 1, i = arguments.length, j = !1;
        for ("boolean" == typeof g && (j = g,
        g = arguments[h] || {},
        h++),
        "object" == typeof g || m.isFunction(g) || (g = {}),
        h === i && (g = this,
        h--); i > h; h++)
            if (null != (e = arguments[h]))
                for (d in e)
                    a = g[d],
                    c = e[d],
                    g !== c && (j && c && (m.isPlainObject(c) || (b = m.isArray(c))) ? (b ? (b = !1,
                    f = a && m.isArray(a) ? a : []) : f = a && m.isPlainObject(a) ? a : {},
                    g[d] = m.extend(j, f, c)) : void 0 !== c && (g[d] = c));
        return g
    }
    ,
    m.extend({
        expando: "jQuery" + (l + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(a) {
            throw new Error(a)
        },
        noop: function() {},
        isFunction: function(a) {
            return "function" === m.type(a)
        },
        isArray: Array.isArray || function(a) {
            return "array" === m.type(a)
        }
        ,
        isWindow: function(a) {
            return null != a && a == a.window
        },
        isNumeric: function(a) {
            return !m.isArray(a) && a - parseFloat(a) >= 0
        },
        isEmptyObject: function(a) {
            var b;
            for (b in a)
                return !1;
            return !0
        },
        isPlainObject: function(a) {
            var b;
            if (!a || "object" !== m.type(a) || a.nodeType || m.isWindow(a))
                return !1;
            try {
                if (a.constructor && !j.call(a, "constructor") && !j.call(a.constructor.prototype, "isPrototypeOf"))
                    return !1
            } catch (c) {
                return !1
            }
            if (k.ownLast)
                for (b in a)
                    return j.call(a, b);
            for (b in a)
                ;
            return void 0 === b || j.call(a, b)
        },
        type: function(a) {
            return null == a ? a + "" : "object" == typeof a || "function" == typeof a ? h[i.call(a)] || "object" : typeof a
        },
        globalEval: function(b) {
            b && m.trim(b) && (a.execScript || function(b) {
                a.eval.call(a, b)
            }
            )(b)
        },
        camelCase: function(a) {
            return a.replace(o, "ms-").replace(p, q)
        },
        nodeName: function(a, b) {
            return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
        },
        each: function(a, b, c) {
            var d, e = 0, f = a.length, g = r(a);
            if (c) {
                if (g) {
                    for (; f > e; e++)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
                } else
                    for (e in a)
                        if (d = b.apply(a[e], c),
                        d === !1)
                            break
            } else if (g) {
                for (; f > e; e++)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break
            } else
                for (e in a)
                    if (d = b.call(a[e], e, a[e]),
                    d === !1)
                        break;
            return a
        },
        trim: function(a) {
            return null == a ? "" : (a + "").replace(n, "")
        },
        makeArray: function(a, b) {
            var c = b || [];
            return null != a && (r(Object(a)) ? m.merge(c, "string" == typeof a ? [a] : a) : f.call(c, a)),
            c
        },
        inArray: function(a, b, c) {
            var d;
            if (b) {
                if (g)
                    return g.call(b, a, c);
                for (d = b.length,
                c = c ? 0 > c ? Math.max(0, d + c) : c : 0; d > c; c++)
                    if (c in b && b[c] === a)
                        return c
            }
            return -1
        },
        merge: function(a, b) {
            var c = +b.length
              , d = 0
              , e = a.length;
            while (c > d)
                a[e++] = b[d++];
            if (c !== c)
                while (void 0 !== b[d])
                    a[e++] = b[d++];
            return a.length = e,
            a
        },
        grep: function(a, b, c) {
            for (var d, e = [], f = 0, g = a.length, h = !c; g > f; f++)
                d = !b(a[f], f),
                d !== h && e.push(a[f]);
            return e
        },
        map: function(a, b, c) {
            var d, f = 0, g = a.length, h = r(a), i = [];
            if (h)
                for (; g > f; f++)
                    d = b(a[f], f, c),
                    null != d && i.push(d);
            else
                for (f in a)
                    d = b(a[f], f, c),
                    null != d && i.push(d);
            return e.apply([], i)
        },
        guid: 1,
        proxy: function(a, b) {
            var c, e, f;
            return "string" == typeof b && (f = a[b],
            b = a,
            a = f),
            m.isFunction(a) ? (c = d.call(arguments, 2),
            e = function() {
                return a.apply(b || this, c.concat(d.call(arguments)))
            }
            ,
            e.guid = a.guid = a.guid || m.guid++,
            e) : void 0
        },
        now: function() {
            return +new Date
        },
        support: k
    }),
    m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
        h["[object " + b + "]"] = b.toLowerCase()
    });
    function r(a) {
        var b = a.length
          , c = m.type(a);
        return "function" === c || m.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || 0 === b || "number" == typeof b && b > 0 && b - 1 in a
    }
    var s = function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u = "sizzle" + -new Date, v = a.document, w = 0, x = 0, y = gb(), z = gb(), A = gb(), B = function(a, b) {
            return a === b && (l = !0),
            0
        }, C = "undefined", D = 1 << 31, E = {}.hasOwnProperty, F = [], G = F.pop, H = F.push, I = F.push, J = F.slice, K = F.indexOf || function(a) {
            for (var b = 0, c = this.length; c > b; b++)
                if (this[b] === a)
                    return b;
            return -1
        }
        , L = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", M = "[\\x20\\t\\r\\n\\f]", N = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+", O = N.replace("w", "w#"), P = "\\[" + M + "*(" + N + ")(?:" + M + "*([*^$|!~]?=)" + M + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + O + "))|)" + M + "*\\]", Q = ":(" + N + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + P + ")*)|.*)\\)|)", R = new RegExp("^" + M + "+|((?:^|[^\\\\])(?:\\\\.)*)" + M + "+$","g"), S = new RegExp("^" + M + "*," + M + "*"), T = new RegExp("^" + M + "*([>+~]|" + M + ")" + M + "*"), U = new RegExp("=" + M + "*([^\\]'\"]*?)" + M + "*\\]","g"), V = new RegExp(Q), W = new RegExp("^" + O + "$"), X = {
            ID: new RegExp("^#(" + N + ")"),
            CLASS: new RegExp("^\\.(" + N + ")"),
            TAG: new RegExp("^(" + N.replace("w", "w*") + ")"),
            ATTR: new RegExp("^" + P),
            PSEUDO: new RegExp("^" + Q),
            CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + M + "*(even|odd|(([+-]|)(\\d*)n|)" + M + "*(?:([+-]|)" + M + "*(\\d+)|))" + M + "*\\)|)","i"),
            bool: new RegExp("^(?:" + L + ")$","i"),
            needsContext: new RegExp("^" + M + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + M + "*((?:-\\d)?\\d*)" + M + "*\\)|)(?=[^-]|$)","i")
        }, Y = /^(?:input|select|textarea|button)$/i, Z = /^h\d$/i, $ = /^[^{]+\{\s*\[native \w/, _ = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, ab = /[+~]/, bb = /'|\\/g, cb = new RegExp("\\\\([\\da-f]{1,6}" + M + "?|(" + M + ")|.)","ig"), db = function(a, b, c) {
            var d = "0x" + b - 65536;
            return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
        };
        try {
            I.apply(F = J.call(v.childNodes), v.childNodes),
            F[v.childNodes.length].nodeType
        } catch (eb) {
            I = {
                apply: F.length ? function(a, b) {
                    H.apply(a, J.call(b))
                }
                : function(a, b) {
                    var c = a.length
                      , d = 0;
                    while (a[c++] = b[d++])
                        ;
                    a.length = c - 1
                }
            }
        }
        function fb(a, b, d, e) {
            var f, h, j, k, l, o, r, s, w, x;
            if ((b ? b.ownerDocument || b : v) !== n && m(b),
            b = b || n,
            d = d || [],
            !a || "string" != typeof a)
                return d;
            if (1 !== (k = b.nodeType) && 9 !== k)
                return [];
            if (p && !e) {
                if (f = _.exec(a))
                    if (j = f[1]) {
                        if (9 === k) {
                            if (h = b.getElementById(j),
                            !h || !h.parentNode)
                                return d;
                            if (h.id === j)
                                return d.push(h),
                                d
                        } else if (b.ownerDocument && (h = b.ownerDocument.getElementById(j)) && t(b, h) && h.id === j)
                            return d.push(h),
                            d
                    } else {
                        if (f[2])
                            return I.apply(d, b.getElementsByTagName(a)),
                            d;
                        if ((j = f[3]) && c.getElementsByClassName && b.getElementsByClassName)
                            return I.apply(d, b.getElementsByClassName(j)),
                            d
                    }
                if (c.qsa && (!q || !q.test(a))) {
                    if (s = r = u,
                    w = b,
                    x = 9 === k && a,
                    1 === k && "object" !== b.nodeName.toLowerCase()) {
                        o = g(a),
                        (r = b.getAttribute("id")) ? s = r.replace(bb, "\\$&") : b.setAttribute("id", s),
                        s = "[id='" + s + "'] ",
                        l = o.length;
                        while (l--)
                            o[l] = s + qb(o[l]);
                        w = ab.test(a) && ob(b.parentNode) || b,
                        x = o.join(",")
                    }
                    if (x)
                        try {
                            return I.apply(d, w.querySelectorAll(x)),
                            d
                        } catch (y) {} finally {
                            r || b.removeAttribute("id")
                        }
                }
            }
            return i(a.replace(R, "$1"), b, d, e)
        }
        function gb() {
            var a = [];
            function b(c, e) {
                return a.push(c + " ") > d.cacheLength && delete b[a.shift()],
                b[c + " "] = e
            }
            return b
        }
        function hb(a) {
            return a[u] = !0,
            a
        }
        function ib(a) {
            var b = n.createElement("div");
            try {
                return !!a(b)
            } catch (c) {
                return !1
            } finally {
                b.parentNode && b.parentNode.removeChild(b),
                b = null
            }
        }
        function jb(a, b) {
            var c = a.split("|")
              , e = a.length;
            while (e--)
                d.attrHandle[c[e]] = b
        }
        function kb(a, b) {
            var c = b && a
              , d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || D) - (~a.sourceIndex || D);
            if (d)
                return d;
            if (c)
                while (c = c.nextSibling)
                    if (c === b)
                        return -1;
            return a ? 1 : -1
        }
        function lb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return "input" === c && b.type === a
            }
        }
        function mb(a) {
            return function(b) {
                var c = b.nodeName.toLowerCase();
                return ("input" === c || "button" === c) && b.type === a
            }
        }
        function nb(a) {
            return hb(function(b) {
                return b = +b,
                hb(function(c, d) {
                    var e, f = a([], c.length, b), g = f.length;
                    while (g--)
                        c[e = f[g]] && (c[e] = !(d[e] = c[e]))
                })
            })
        }
        function ob(a) {
            return a && typeof a.getElementsByTagName !== C && a
        }
        c = fb.support = {},
        f = fb.isXML = function(a) {
            var b = a && (a.ownerDocument || a).documentElement;
            return b ? "HTML" !== b.nodeName : !1
        }
        ,
        m = fb.setDocument = function(a) {
            var b, e = a ? a.ownerDocument || a : v, g = e.defaultView;
            return e !== n && 9 === e.nodeType && e.documentElement ? (n = e,
            o = e.documentElement,
            p = !f(e),
            g && g !== g.top && (g.addEventListener ? g.addEventListener("unload", function() {
                m()
            }, !1) : g.attachEvent && g.attachEvent("onunload", function() {
                m()
            })),
            c.attributes = ib(function(a) {
                return a.className = "i",
                !a.getAttribute("className")
            }),
            c.getElementsByTagName = ib(function(a) {
                return a.appendChild(e.createComment("")),
                !a.getElementsByTagName("*").length
            }),
            c.getElementsByClassName = $.test(e.getElementsByClassName) && ib(function(a) {
                return a.innerHTML = "<div class='a'></div><div class='a i'></div>",
                a.firstChild.className = "i",
                2 === a.getElementsByClassName("i").length
            }),
            c.getById = ib(function(a) {
                return o.appendChild(a).id = u,
                !e.getElementsByName || !e.getElementsByName(u).length
            }),
            c.getById ? (d.find.ID = function(a, b) {
                if (typeof b.getElementById !== C && p) {
                    var c = b.getElementById(a);
                    return c && c.parentNode ? [c] : []
                }
            }
            ,
            d.filter.ID = function(a) {
                var b = a.replace(cb, db);
                return function(a) {
                    return a.getAttribute("id") === b
                }
            }
            ) : (delete d.find.ID,
            d.filter.ID = function(a) {
                var b = a.replace(cb, db);
                return function(a) {
                    var c = typeof a.getAttributeNode !== C && a.getAttributeNode("id");
                    return c && c.value === b
                }
            }
            ),
            d.find.TAG = c.getElementsByTagName ? function(a, b) {
                return typeof b.getElementsByTagName !== C ? b.getElementsByTagName(a) : void 0
            }
            : function(a, b) {
                var c, d = [], e = 0, f = b.getElementsByTagName(a);
                if ("*" === a) {
                    while (c = f[e++])
                        1 === c.nodeType && d.push(c);
                    return d
                }
                return f
            }
            ,
            d.find.CLASS = c.getElementsByClassName && function(a, b) {
                return typeof b.getElementsByClassName !== C && p ? b.getElementsByClassName(a) : void 0
            }
            ,
            r = [],
            q = [],
            (c.qsa = $.test(e.querySelectorAll)) && (ib(function(a) {
                a.innerHTML = "<select msallowclip=''><option selected=''></option></select>",
                a.querySelectorAll("[msallowclip^='']").length && q.push("[*^$]=" + M + "*(?:''|\"\")"),
                a.querySelectorAll("[selected]").length || q.push("\\[" + M + "*(?:value|" + L + ")"),
                a.querySelectorAll(":checked").length || q.push(":checked")
            }),
            ib(function(a) {
                var b = e.createElement("input");
                b.setAttribute("type", "hidden"),
                a.appendChild(b).setAttribute("name", "D"),
                a.querySelectorAll("[name=d]").length && q.push("name" + M + "*[*^$|!~]?="),
                a.querySelectorAll(":enabled").length || q.push(":enabled", ":disabled"),
                a.querySelectorAll("*,:x"),
                q.push(",.*:")
            })),
            (c.matchesSelector = $.test(s = o.matches || o.webkitMatchesSelector || o.mozMatchesSelector || o.oMatchesSelector || o.msMatchesSelector)) && ib(function(a) {
                c.disconnectedMatch = s.call(a, "div"),
                s.call(a, "[s!='']:x"),
                r.push("!=", Q)
            }),
            q = q.length && new RegExp(q.join("|")),
            r = r.length && new RegExp(r.join("|")),
            b = $.test(o.compareDocumentPosition),
            t = b || $.test(o.contains) ? function(a, b) {
                var c = 9 === a.nodeType ? a.documentElement : a
                  , d = b && b.parentNode;
                return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
            }
            : function(a, b) {
                if (b)
                    while (b = b.parentNode)
                        if (b === a)
                            return !0;
                return !1
            }
            ,
            B = b ? function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var d = !a.compareDocumentPosition - !b.compareDocumentPosition;
                return d ? d : (d = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1,
                1 & d || !c.sortDetached && b.compareDocumentPosition(a) === d ? a === e || a.ownerDocument === v && t(v, a) ? -1 : b === e || b.ownerDocument === v && t(v, b) ? 1 : k ? K.call(k, a) - K.call(k, b) : 0 : 4 & d ? -1 : 1)
            }
            : function(a, b) {
                if (a === b)
                    return l = !0,
                    0;
                var c, d = 0, f = a.parentNode, g = b.parentNode, h = [a], i = [b];
                if (!f || !g)
                    return a === e ? -1 : b === e ? 1 : f ? -1 : g ? 1 : k ? K.call(k, a) - K.call(k, b) : 0;
                if (f === g)
                    return kb(a, b);
                c = a;
                while (c = c.parentNode)
                    h.unshift(c);
                c = b;
                while (c = c.parentNode)
                    i.unshift(c);
                while (h[d] === i[d])
                    d++;
                return d ? kb(h[d], i[d]) : h[d] === v ? -1 : i[d] === v ? 1 : 0
            }
            ,
            e) : n
        }
        ,
        fb.matches = function(a, b) {
            return fb(a, null, null, b)
        }
        ,
        fb.matchesSelector = function(a, b) {
            if ((a.ownerDocument || a) !== n && m(a),
            b = b.replace(U, "='$1']"),
            !(!c.matchesSelector || !p || r && r.test(b) || q && q.test(b)))
                try {
                    var d = s.call(a, b);
                    if (d || c.disconnectedMatch || a.document && 11 !== a.document.nodeType)
                        return d
                } catch (e) {}
            return fb(b, n, null, [a]).length > 0
        }
        ,
        fb.contains = function(a, b) {
            return (a.ownerDocument || a) !== n && m(a),
            t(a, b)
        }
        ,
        fb.attr = function(a, b) {
            (a.ownerDocument || a) !== n && m(a);
            var e = d.attrHandle[b.toLowerCase()]
              , f = e && E.call(d.attrHandle, b.toLowerCase()) ? e(a, b, !p) : void 0;
            return void 0 !== f ? f : c.attributes || !p ? a.getAttribute(b) : (f = a.getAttributeNode(b)) && f.specified ? f.value : null
        }
        ,
        fb.error = function(a) {
            throw new Error("Syntax error, unrecognized expression: " + a)
        }
        ,
        fb.uniqueSort = function(a) {
            var b, d = [], e = 0, f = 0;
            if (l = !c.detectDuplicates,
            k = !c.sortStable && a.slice(0),
            a.sort(B),
            l) {
                while (b = a[f++])
                    b === a[f] && (e = d.push(f));
                while (e--)
                    a.splice(d[e], 1)
            }
            return k = null,
            a
        }
        ,
        e = fb.getText = function(a) {
            var b, c = "", d = 0, f = a.nodeType;
            if (f) {
                if (1 === f || 9 === f || 11 === f) {
                    if ("string" == typeof a.textContent)
                        return a.textContent;
                    for (a = a.firstChild; a; a = a.nextSibling)
                        c += e(a)
                } else if (3 === f || 4 === f)
                    return a.nodeValue
            } else
                while (b = a[d++])
                    c += e(b);
            return c
        }
        ,
        d = fb.selectors = {
            cacheLength: 50,
            createPseudo: hb,
            match: X,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(a) {
                    return a[1] = a[1].replace(cb, db),
                    a[3] = (a[3] || a[4] || a[5] || "").replace(cb, db),
                    "~=" === a[2] && (a[3] = " " + a[3] + " "),
                    a.slice(0, 4)
                },
                CHILD: function(a) {
                    return a[1] = a[1].toLowerCase(),
                    "nth" === a[1].slice(0, 3) ? (a[3] || fb.error(a[0]),
                    a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])),
                    a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && fb.error(a[0]),
                    a
                },
                PSEUDO: function(a) {
                    var b, c = !a[6] && a[2];
                    return X.CHILD.test(a[0]) ? null : (a[3] ? a[2] = a[4] || a[5] || "" : c && V.test(c) && (b = g(c, !0)) && (b = c.indexOf(")", c.length - b) - c.length) && (a[0] = a[0].slice(0, b),
                    a[2] = c.slice(0, b)),
                    a.slice(0, 3))
                }
            },
            filter: {
                TAG: function(a) {
                    var b = a.replace(cb, db).toLowerCase();
                    return "*" === a ? function() {
                        return !0
                    }
                    : function(a) {
                        return a.nodeName && a.nodeName.toLowerCase() === b
                    }
                },
                CLASS: function(a) {
                    var b = y[a + " "];
                    return b || (b = new RegExp("(^|" + M + ")" + a + "(" + M + "|$)")) && y(a, function(a) {
                        return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== C && a.getAttribute("class") || "")
                    })
                },
                ATTR: function(a, b, c) {
                    return function(d) {
                        var e = fb.attr(d, a);
                        return null == e ? "!=" === b : b ? (e += "",
                        "=" === b ? e === c : "!=" === b ? e !== c : "^=" === b ? c && 0 === e.indexOf(c) : "*=" === b ? c && e.indexOf(c) > -1 : "$=" === b ? c && e.slice(-c.length) === c : "~=" === b ? (" " + e + " ").indexOf(c) > -1 : "|=" === b ? e === c || e.slice(0, c.length + 1) === c + "-" : !1) : !0
                    }
                },
                CHILD: function(a, b, c, d, e) {
                    var f = "nth" !== a.slice(0, 3)
                      , g = "last" !== a.slice(-4)
                      , h = "of-type" === b;
                    return 1 === d && 0 === e ? function(a) {
                        return !!a.parentNode
                    }
                    : function(b, c, i) {
                        var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling", q = b.parentNode, r = h && b.nodeName.toLowerCase(), s = !i && !h;
                        if (q) {
                            if (f) {
                                while (p) {
                                    l = b;
                                    while (l = l[p])
                                        if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType)
                                            return !1;
                                    o = p = "only" === a && !o && "nextSibling"
                                }
                                return !0
                            }
                            if (o = [g ? q.firstChild : q.lastChild],
                            g && s) {
                                k = q[u] || (q[u] = {}),
                                j = k[a] || [],
                                n = j[0] === w && j[1],
                                m = j[0] === w && j[2],
                                l = n && q.childNodes[n];
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if (1 === l.nodeType && ++m && l === b) {
                                        k[a] = [w, n, m];
                                        break
                                    }
                            } else if (s && (j = (b[u] || (b[u] = {}))[a]) && j[0] === w)
                                m = j[1];
                            else
                                while (l = ++n && l && l[p] || (m = n = 0) || o.pop())
                                    if ((h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) && ++m && (s && ((l[u] || (l[u] = {}))[a] = [w, m]),
                                    l === b))
                                        break;
                            return m -= e,
                            m === d || m % d === 0 && m / d >= 0
                        }
                    }
                },
                PSEUDO: function(a, b) {
                    var c, e = d.pseudos[a] || d.setFilters[a.toLowerCase()] || fb.error("unsupported pseudo: " + a);
                    return e[u] ? e(b) : e.length > 1 ? (c = [a, a, "", b],
                    d.setFilters.hasOwnProperty(a.toLowerCase()) ? hb(function(a, c) {
                        var d, f = e(a, b), g = f.length;
                        while (g--)
                            d = K.call(a, f[g]),
                            a[d] = !(c[d] = f[g])
                    }) : function(a) {
                        return e(a, 0, c)
                    }
                    ) : e
                }
            },
            pseudos: {
                not: hb(function(a) {
                    var b = []
                      , c = []
                      , d = h(a.replace(R, "$1"));
                    return d[u] ? hb(function(a, b, c, e) {
                        var f, g = d(a, null, e, []), h = a.length;
                        while (h--)
                            (f = g[h]) && (a[h] = !(b[h] = f))
                    }) : function(a, e, f) {
                        return b[0] = a,
                        d(b, null, f, c),
                        !c.pop()
                    }
                }),
                has: hb(function(a) {
                    return function(b) {
                        return fb(a, b).length > 0
                    }
                }),
                contains: hb(function(a) {
                    return function(b) {
                        return (b.textContent || b.innerText || e(b)).indexOf(a) > -1
                    }
                }),
                lang: hb(function(a) {
                    return W.test(a || "") || fb.error("unsupported lang: " + a),
                    a = a.replace(cb, db).toLowerCase(),
                    function(b) {
                        var c;
                        do
                            if (c = p ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang"))
                                return c = c.toLowerCase(),
                                c === a || 0 === c.indexOf(a + "-");
                        while ((b = b.parentNode) && 1 === b.nodeType);
                        return !1
                    }
                }),
                target: function(b) {
                    var c = a.location && a.location.hash;
                    return c && c.slice(1) === b.id
                },
                root: function(a) {
                    return a === o
                },
                focus: function(a) {
                    return a === n.activeElement && (!n.hasFocus || n.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
                },
                enabled: function(a) {
                    return a.disabled === !1
                },
                disabled: function(a) {
                    return a.disabled === !0
                },
                checked: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && !!a.checked || "option" === b && !!a.selected
                },
                selected: function(a) {
                    return a.parentNode && a.parentNode.selectedIndex,
                    a.selected === !0
                },
                empty: function(a) {
                    for (a = a.firstChild; a; a = a.nextSibling)
                        if (a.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(a) {
                    return !d.pseudos.empty(a)
                },
                header: function(a) {
                    return Z.test(a.nodeName)
                },
                input: function(a) {
                    return Y.test(a.nodeName)
                },
                button: function(a) {
                    var b = a.nodeName.toLowerCase();
                    return "input" === b && "button" === a.type || "button" === b
                },
                text: function(a) {
                    var b;
                    return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || "text" === b.toLowerCase())
                },
                first: nb(function() {
                    return [0]
                }),
                last: nb(function(a, b) {
                    return [b - 1]
                }),
                eq: nb(function(a, b, c) {
                    return [0 > c ? c + b : c]
                }),
                even: nb(function(a, b) {
                    for (var c = 0; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                odd: nb(function(a, b) {
                    for (var c = 1; b > c; c += 2)
                        a.push(c);
                    return a
                }),
                lt: nb(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; --d >= 0; )
                        a.push(d);
                    return a
                }),
                gt: nb(function(a, b, c) {
                    for (var d = 0 > c ? c + b : c; ++d < b; )
                        a.push(d);
                    return a
                })
            }
        },
        d.pseudos.nth = d.pseudos.eq;
        for (b in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            d.pseudos[b] = lb(b);
        for (b in {
            submit: !0,
            reset: !0
        })
            d.pseudos[b] = mb(b);
        function pb() {}
        pb.prototype = d.filters = d.pseudos,
        d.setFilters = new pb,
        g = fb.tokenize = function(a, b) {
            var c, e, f, g, h, i, j, k = z[a + " "];
            if (k)
                return b ? 0 : k.slice(0);
            h = a,
            i = [],
            j = d.preFilter;
            while (h) {
                (!c || (e = S.exec(h))) && (e && (h = h.slice(e[0].length) || h),
                i.push(f = [])),
                c = !1,
                (e = T.exec(h)) && (c = e.shift(),
                f.push({
                    value: c,
                    type: e[0].replace(R, " ")
                }),
                h = h.slice(c.length));
                for (g in d.filter)
                    !(e = X[g].exec(h)) || j[g] && !(e = j[g](e)) || (c = e.shift(),
                    f.push({
                        value: c,
                        type: g,
                        matches: e
                    }),
                    h = h.slice(c.length));
                if (!c)
                    break
            }
            return b ? h.length : h ? fb.error(a) : z(a, i).slice(0)
        }
        ;
        function qb(a) {
            for (var b = 0, c = a.length, d = ""; c > b; b++)
                d += a[b].value;
            return d
        }
        function rb(a, b, c) {
            var d = b.dir
              , e = c && "parentNode" === d
              , f = x++;
            return b.first ? function(b, c, f) {
                while (b = b[d])
                    if (1 === b.nodeType || e)
                        return a(b, c, f)
            }
            : function(b, c, g) {
                var h, i, j = [w, f];
                if (g) {
                    while (b = b[d])
                        if ((1 === b.nodeType || e) && a(b, c, g))
                            return !0
                } else
                    while (b = b[d])
                        if (1 === b.nodeType || e) {
                            if (i = b[u] || (b[u] = {}),
                            (h = i[d]) && h[0] === w && h[1] === f)
                                return j[2] = h[2];
                            if (i[d] = j,
                            j[2] = a(b, c, g))
                                return !0
                        }
            }
        }
        function sb(a) {
            return a.length > 1 ? function(b, c, d) {
                var e = a.length;
                while (e--)
                    if (!a[e](b, c, d))
                        return !1;
                return !0
            }
            : a[0]
        }
        function tb(a, b, c) {
            for (var d = 0, e = b.length; e > d; d++)
                fb(a, b[d], c);
            return c
        }
        function ub(a, b, c, d, e) {
            for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)
                (f = a[h]) && (!c || c(f, d, e)) && (g.push(f),
                j && b.push(h));
            return g
        }
        function vb(a, b, c, d, e, f) {
            return d && !d[u] && (d = vb(d)),
            e && !e[u] && (e = vb(e, f)),
            hb(function(f, g, h, i) {
                var j, k, l, m = [], n = [], o = g.length, p = f || tb(b || "*", h.nodeType ? [h] : h, []), q = !a || !f && b ? p : ub(p, m, a, h, i), r = c ? e || (f ? a : o || d) ? [] : g : q;
                if (c && c(q, r, h, i),
                d) {
                    j = ub(r, n),
                    d(j, [], h, i),
                    k = j.length;
                    while (k--)
                        (l = j[k]) && (r[n[k]] = !(q[n[k]] = l))
                }
                if (f) {
                    if (e || a) {
                        if (e) {
                            j = [],
                            k = r.length;
                            while (k--)
                                (l = r[k]) && j.push(q[k] = l);
                            e(null, r = [], j, i)
                        }
                        k = r.length;
                        while (k--)
                            (l = r[k]) && (j = e ? K.call(f, l) : m[k]) > -1 && (f[j] = !(g[j] = l))
                    }
                } else
                    r = ub(r === g ? r.splice(o, r.length) : r),
                    e ? e(null, g, r, i) : I.apply(g, r)
            })
        }
        function wb(a) {
            for (var b, c, e, f = a.length, g = d.relative[a[0].type], h = g || d.relative[" "], i = g ? 1 : 0, k = rb(function(a) {
                return a === b
            }, h, !0), l = rb(function(a) {
                return K.call(b, a) > -1
            }, h, !0), m = [function(a, c, d) {
                return !g && (d || c !== j) || ((b = c).nodeType ? k(a, c, d) : l(a, c, d))
            }
            ]; f > i; i++)
                if (c = d.relative[a[i].type])
                    m = [rb(sb(m), c)];
                else {
                    if (c = d.filter[a[i].type].apply(null, a[i].matches),
                    c[u]) {
                        for (e = ++i; f > e; e++)
                            if (d.relative[a[e].type])
                                break;
                        return vb(i > 1 && sb(m), i > 1 && qb(a.slice(0, i - 1).concat({
                            value: " " === a[i - 2].type ? "*" : ""
                        })).replace(R, "$1"), c, e > i && wb(a.slice(i, e)), f > e && wb(a = a.slice(e)), f > e && qb(a))
                    }
                    m.push(c)
                }
            return sb(m)
        }
        function xb(a, b) {
            var c = b.length > 0
              , e = a.length > 0
              , f = function(f, g, h, i, k) {
                var l, m, o, p = 0, q = "0", r = f && [], s = [], t = j, u = f || e && d.find.TAG("*", k), v = w += null == t ? 1 : Math.random() || .1, x = u.length;
                for (k && (j = g !== n && g); q !== x && null != (l = u[q]); q++) {
                    if (e && l) {
                        m = 0;
                        while (o = a[m++])
                            if (o(l, g, h)) {
                                i.push(l);
                                break
                            }
                        k && (w = v)
                    }
                    c && ((l = !o && l) && p--,
                    f && r.push(l))
                }
                if (p += q,
                c && q !== p) {
                    m = 0;
                    while (o = b[m++])
                        o(r, s, g, h);
                    if (f) {
                        if (p > 0)
                            while (q--)
                                r[q] || s[q] || (s[q] = G.call(i));
                        s = ub(s)
                    }
                    I.apply(i, s),
                    k && !f && s.length > 0 && p + b.length > 1 && fb.uniqueSort(i)
                }
                return k && (w = v,
                j = t),
                r
            };
            return c ? hb(f) : f
        }
        return h = fb.compile = function(a, b) {
            var c, d = [], e = [], f = A[a + " "];
            if (!f) {
                b || (b = g(a)),
                c = b.length;
                while (c--)
                    f = wb(b[c]),
                    f[u] ? d.push(f) : e.push(f);
                f = A(a, xb(e, d)),
                f.selector = a
            }
            return f
        }
        ,
        i = fb.select = function(a, b, e, f) {
            var i, j, k, l, m, n = "function" == typeof a && a, o = !f && g(a = n.selector || a);
            if (e = e || [],
            1 === o.length) {
                if (j = o[0] = o[0].slice(0),
                j.length > 2 && "ID" === (k = j[0]).type && c.getById && 9 === b.nodeType && p && d.relative[j[1].type]) {
                    if (b = (d.find.ID(k.matches[0].replace(cb, db), b) || [])[0],
                    !b)
                        return e;
                    n && (b = b.parentNode),
                    a = a.slice(j.shift().value.length)
                }
                i = X.needsContext.test(a) ? 0 : j.length;
                while (i--) {
                    if (k = j[i],
                    d.relative[l = k.type])
                        break;
                    if ((m = d.find[l]) && (f = m(k.matches[0].replace(cb, db), ab.test(j[0].type) && ob(b.parentNode) || b))) {
                        if (j.splice(i, 1),
                        a = f.length && qb(j),
                        !a)
                            return I.apply(e, f),
                            e;
                        break
                    }
                }
            }
            return (n || h(a, o))(f, b, !p, e, ab.test(a) && ob(b.parentNode) || b),
            e
        }
        ,
        c.sortStable = u.split("").sort(B).join("") === u,
        c.detectDuplicates = !!l,
        m(),
        c.sortDetached = ib(function(a) {
            return 1 & a.compareDocumentPosition(n.createElement("div"))
        }),
        ib(function(a) {
            return a.innerHTML = "<a href='#'></a>",
            "#" === a.firstChild.getAttribute("href")
        }) || jb("type|href|height|width", function(a, b, c) {
            return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
        }),
        c.attributes && ib(function(a) {
            return a.innerHTML = "<input/>",
            a.firstChild.setAttribute("value", ""),
            "" === a.firstChild.getAttribute("value")
        }) || jb("value", function(a, b, c) {
            return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
        }),
        ib(function(a) {
            return null == a.getAttribute("disabled")
        }) || jb(L, function(a, b, c) {
            var d;
            return c ? void 0 : a[b] === !0 ? b.toLowerCase() : (d = a.getAttributeNode(b)) && d.specified ? d.value : null
        }),
        fb
    }(a);
    m.find = s,
    m.expr = s.selectors,
    m.expr[":"] = m.expr.pseudos,
    m.unique = s.uniqueSort,
    m.text = s.getText,
    m.isXMLDoc = s.isXML,
    m.contains = s.contains;
    var t = m.expr.match.needsContext
      , u = /^<(\w+)\s*\/?>(?:<\/\1>|)$/
      , v = /^.[^:#\[\.,]*$/;
    function w(a, b, c) {
        if (m.isFunction(b))
            return m.grep(a, function(a, d) {
                return !!b.call(a, d, a) !== c
            });
        if (b.nodeType)
            return m.grep(a, function(a) {
                return a === b !== c
            });
        if ("string" == typeof b) {
            if (v.test(b))
                return m.filter(b, a, c);
            b = m.filter(b, a)
        }
        return m.grep(a, function(a) {
            return m.inArray(a, b) >= 0 !== c
        })
    }
    m.filter = function(a, b, c) {
        var d = b[0];
        return c && (a = ":not(" + a + ")"),
        1 === b.length && 1 === d.nodeType ? m.find.matchesSelector(d, a) ? [d] : [] : m.find.matches(a, m.grep(b, function(a) {
            return 1 === a.nodeType
        }))
    }
    ,
    m.fn.extend({
        find: function(a) {
            var b, c = [], d = this, e = d.length;
            if ("string" != typeof a)
                return this.pushStack(m(a).filter(function() {
                    for (b = 0; e > b; b++)
                        if (m.contains(d[b], this))
                            return !0
                }));
            for (b = 0; e > b; b++)
                m.find(a, d[b], c);
            return c = this.pushStack(e > 1 ? m.unique(c) : c),
            c.selector = this.selector ? this.selector + " " + a : a,
            c
        },
        filter: function(a) {
            return this.pushStack(w(this, a || [], !1))
        },
        not: function(a) {
            return this.pushStack(w(this, a || [], !0))
        },
        is: function(a) {
            return !!w(this, "string" == typeof a && t.test(a) ? m(a) : a || [], !1).length
        }
    });
    var x, y = a.document, z = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/, A = m.fn.init = function(a, b) {
        var c, d;
        if (!a)
            return this;
        if ("string" == typeof a) {
            if (c = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && a.length >= 3 ? [null, a, null] : z.exec(a),
            !c || !c[1] && b)
                return !b || b.jquery ? (b || x).find(a) : this.constructor(b).find(a);
            if (c[1]) {
                if (b = b instanceof m ? b[0] : b,
                m.merge(this, m.parseHTML(c[1], b && b.nodeType ? b.ownerDocument || b : y, !0)),
                u.test(c[1]) && m.isPlainObject(b))
                    for (c in b)
                        m.isFunction(this[c]) ? this[c](b[c]) : this.attr(c, b[c]);
                return this
            }
            if (d = y.getElementById(c[2]),
            d && d.parentNode) {
                if (d.id !== c[2])
                    return x.find(a);
                this.length = 1,
                this[0] = d
            }
            return this.context = y,
            this.selector = a,
            this
        }
        return a.nodeType ? (this.context = this[0] = a,
        this.length = 1,
        this) : m.isFunction(a) ? "undefined" != typeof x.ready ? x.ready(a) : a(m) : (void 0 !== a.selector && (this.selector = a.selector,
        this.context = a.context),
        m.makeArray(a, this))
    }
    ;
    A.prototype = m.fn,
    x = m(y);
    var B = /^(?:parents|prev(?:Until|All))/
      , C = {
        children: !0,
        contents: !0,
        next: !0,
        prev: !0
    };
    m.extend({
        dir: function(a, b, c) {
            var d = []
              , e = a[b];
            while (e && 9 !== e.nodeType && (void 0 === c || 1 !== e.nodeType || !m(e).is(c)))
                1 === e.nodeType && d.push(e),
                e = e[b];
            return d
        },
        sibling: function(a, b) {
            for (var c = []; a; a = a.nextSibling)
                1 === a.nodeType && a !== b && c.push(a);
            return c
        }
    }),
    m.fn.extend({
        has: function(a) {
            var b, c = m(a, this), d = c.length;
            return this.filter(function() {
                for (b = 0; d > b; b++)
                    if (m.contains(this, c[b]))
                        return !0
            })
        },
        closest: function(a, b) {
            for (var c, d = 0, e = this.length, f = [], g = t.test(a) || "string" != typeof a ? m(a, b || this.context) : 0; e > d; d++)
                for (c = this[d]; c && c !== b; c = c.parentNode)
                    if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && m.find.matchesSelector(c, a))) {
                        f.push(c);
                        break
                    }
            return this.pushStack(f.length > 1 ? m.unique(f) : f)
        },
        index: function(a) {
            return a ? "string" == typeof a ? m.inArray(this[0], m(a)) : m.inArray(a.jquery ? a[0] : a, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(a, b) {
            return this.pushStack(m.unique(m.merge(this.get(), m(a, b))))
        },
        addBack: function(a) {
            return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
        }
    });
    function D(a, b) {
        do
            a = a[b];
        while (a && 1 !== a.nodeType);
        return a
    }
    m.each({
        parent: function(a) {
            var b = a.parentNode;
            return b && 11 !== b.nodeType ? b : null
        },
        parents: function(a) {
            return m.dir(a, "parentNode")
        },
        parentsUntil: function(a, b, c) {
            return m.dir(a, "parentNode", c)
        },
        next: function(a) {
            return D(a, "nextSibling")
        },
        prev: function(a) {
            return D(a, "previousSibling")
        },
        nextAll: function(a) {
            return m.dir(a, "nextSibling")
        },
        prevAll: function(a) {
            return m.dir(a, "previousSibling")
        },
        nextUntil: function(a, b, c) {
            return m.dir(a, "nextSibling", c)
        },
        prevUntil: function(a, b, c) {
            return m.dir(a, "previousSibling", c)
        },
        siblings: function(a) {
            return m.sibling((a.parentNode || {}).firstChild, a)
        },
        children: function(a) {
            return m.sibling(a.firstChild)
        },
        contents: function(a) {
            return m.nodeName(a, "iframe") ? a.contentDocument || a.contentWindow.document : m.merge([], a.childNodes)
        }
    }, function(a, b) {
        m.fn[a] = function(c, d) {
            var e = m.map(this, b, c);
            return "Until" !== a.slice(-5) && (d = c),
            d && "string" == typeof d && (e = m.filter(d, e)),
            this.length > 1 && (C[a] || (e = m.unique(e)),
            B.test(a) && (e = e.reverse())),
            this.pushStack(e)
        }
    });
    var E = /\S+/g
      , F = {};
    function G(a) {
        var b = F[a] = {};
        return m.each(a.match(E) || [], function(a, c) {
            b[c] = !0
        }),
        b
    }
    m.Callbacks = function(a) {
        a = "string" == typeof a ? F[a] || G(a) : m.extend({}, a);
        var b, c, d, e, f, g, h = [], i = !a.once && [], j = function(l) {
            for (c = a.memory && l,
            d = !0,
            f = g || 0,
            g = 0,
            e = h.length,
            b = !0; h && e > f; f++)
                if (h[f].apply(l[0], l[1]) === !1 && a.stopOnFalse) {
                    c = !1;
                    break
                }
            b = !1,
            h && (i ? i.length && j(i.shift()) : c ? h = [] : k.disable())
        }, k = {
            add: function() {
                if (h) {
                    var d = h.length;
                    !function f(b) {
                        m.each(b, function(b, c) {
                            var d = m.type(c);
                            "function" === d ? a.unique && k.has(c) || h.push(c) : c && c.length && "string" !== d && f(c)
                        })
                    }(arguments),
                    b ? e = h.length : c && (g = d,
                    j(c))
                }
                return this
            },
            remove: function() {
                return h && m.each(arguments, function(a, c) {
                    var d;
                    while ((d = m.inArray(c, h, d)) > -1)
                        h.splice(d, 1),
                        b && (e >= d && e--,
                        f >= d && f--)
                }),
                this
            },
            has: function(a) {
                return a ? m.inArray(a, h) > -1 : !(!h || !h.length)
            },
            empty: function() {
                return h = [],
                e = 0,
                this
            },
            disable: function() {
                return h = i = c = void 0,
                this
            },
            disabled: function() {
                return !h
            },
            lock: function() {
                return i = void 0,
                c || k.disable(),
                this
            },
            locked: function() {
                return !i
            },
            fireWith: function(a, c) {
                return !h || d && !i || (c = c || [],
                c = [a, c.slice ? c.slice() : c],
                b ? i.push(c) : j(c)),
                this
            },
            fire: function() {
                return k.fireWith(this, arguments),
                this
            },
            fired: function() {
                return !!d
            }
        };
        return k
    }
    ,
    m.extend({
        Deferred: function(a) {
            var b = [["resolve", "done", m.Callbacks("once memory"), "resolved"], ["reject", "fail", m.Callbacks("once memory"), "rejected"], ["notify", "progress", m.Callbacks("memory")]]
              , c = "pending"
              , d = {
                state: function() {
                    return c
                },
                always: function() {
                    return e.done(arguments).fail(arguments),
                    this
                },
                then: function() {
                    var a = arguments;
                    return m.Deferred(function(c) {
                        m.each(b, function(b, f) {
                            var g = m.isFunction(a[b]) && a[b];
                            e[f[1]](function() {
                                var a = g && g.apply(this, arguments);
                                a && m.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[f[0] + "With"](this === d ? c.promise() : this, g ? [a] : arguments)
                            })
                        }),
                        a = null
                    }).promise()
                },
                promise: function(a) {
                    return null != a ? m.extend(a, d) : d
                }
            }
              , e = {};
            return d.pipe = d.then,
            m.each(b, function(a, f) {
                var g = f[2]
                  , h = f[3];
                d[f[1]] = g.add,
                h && g.add(function() {
                    c = h
                }, b[1 ^ a][2].disable, b[2][2].lock),
                e[f[0]] = function() {
                    return e[f[0] + "With"](this === e ? d : this, arguments),
                    this
                }
                ,
                e[f[0] + "With"] = g.fireWith
            }),
            d.promise(e),
            a && a.call(e, e),
            e
        },
        when: function(a) {
            var b = 0, c = d.call(arguments), e = c.length, f = 1 !== e || a && m.isFunction(a.promise) ? e : 0, g = 1 === f ? a : m.Deferred(), h = function(a, b, c) {
                return function(e) {
                    b[a] = this,
                    c[a] = arguments.length > 1 ? d.call(arguments) : e,
                    c === i ? g.notifyWith(b, c) : --f || g.resolveWith(b, c)
                }
            }, i, j, k;
            if (e > 1)
                for (i = new Array(e),
                j = new Array(e),
                k = new Array(e); e > b; b++)
                    c[b] && m.isFunction(c[b].promise) ? c[b].promise().done(h(b, k, c)).fail(g.reject).progress(h(b, j, i)) : --f;
            return f || g.resolveWith(k, c),
            g.promise()
        }
    });
    var H;
    m.fn.ready = function(a) {
        return m.ready.promise().done(a),
        this
    }
    ,
    m.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(a) {
            a ? m.readyWait++ : m.ready(!0)
        },
        ready: function(a) {
            if (a === !0 ? !--m.readyWait : !m.isReady) {
                if (!y.body)
                    return setTimeout(m.ready);
                m.isReady = !0,
                a !== !0 && --m.readyWait > 0 || (H.resolveWith(y, [m]),
                m.fn.triggerHandler && (m(y).triggerHandler("ready"),
                m(y).off("ready")))
            }
        }
    });
    function I() {
        y.addEventListener ? (y.removeEventListener("DOMContentLoaded", J, !1),
        a.removeEventListener("load", J, !1)) : (y.detachEvent("onreadystatechange", J),
        a.detachEvent("onload", J))
    }
    function J() {
        (y.addEventListener || "load" === event.type || "complete" === y.readyState) && (I(),
        m.ready())
    }
    m.ready.promise = function(b) {
        if (!H)
            if (H = m.Deferred(),
            "complete" === y.readyState)
                setTimeout(m.ready);
            else if (y.addEventListener)
                y.addEventListener("DOMContentLoaded", J, !1),
                a.addEventListener("load", J, !1);
            else {
                y.attachEvent("onreadystatechange", J),
                a.attachEvent("onload", J);
                var c = !1;
                try {
                    c = null == a.frameElement && y.documentElement
                } catch (d) {}
                c && c.doScroll && !function e() {
                    if (!m.isReady) {
                        try {
                            c.doScroll("left")
                        } catch (a) {
                            return setTimeout(e, 50)
                        }
                        I(),
                        m.ready()
                    }
                }()
            }
        return H.promise(b)
    }
    ;
    var K = "undefined", L;
    for (L in m(k))
        break;
    k.ownLast = "0" !== L,
    k.inlineBlockNeedsLayout = !1,
    m(function() {
        var a, b, c, d;
        c = y.getElementsByTagName("body")[0],
        c && c.style && (b = y.createElement("div"),
        d = y.createElement("div"),
        d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
        c.appendChild(d).appendChild(b),
        typeof b.style.zoom !== K && (b.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",
        k.inlineBlockNeedsLayout = a = 3 === b.offsetWidth,
        a && (c.style.zoom = 1)),
        c.removeChild(d))
    }),
    function() {
        var a = y.createElement("div");
        if (null == k.deleteExpando) {
            k.deleteExpando = !0;
            try {
                delete a.test
            } catch (b) {
                k.deleteExpando = !1
            }
        }
        a = null
    }(),
    m.acceptData = function(a) {
        var b = m.noData[(a.nodeName + " ").toLowerCase()]
          , c = +a.nodeType || 1;
        return 1 !== c && 9 !== c ? !1 : !b || b !== !0 && a.getAttribute("classid") === b
    }
    ;
    var M = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/
      , N = /([A-Z])/g;
    function O(a, b, c) {
        if (void 0 === c && 1 === a.nodeType) {
            var d = "data-" + b.replace(N, "-$1").toLowerCase();
            if (c = a.getAttribute(d),
            "string" == typeof c) {
                try {
                    c = "true" === c ? !0 : "false" === c ? !1 : "null" === c ? null : +c + "" === c ? +c : M.test(c) ? m.parseJSON(c) : c
                } catch (e) {}
                m.data(a, b, c)
            } else
                c = void 0
        }
        return c
    }
    function P(a) {
        var b;
        for (b in a)
            if (("data" !== b || !m.isEmptyObject(a[b])) && "toJSON" !== b)
                return !1;
        return !0
    }
    function Q(a, b, d, e) {
        if (m.acceptData(a)) {
            var f, g, h = m.expando, i = a.nodeType, j = i ? m.cache : a, k = i ? a[h] : a[h] && h;
            if (k && j[k] && (e || j[k].data) || void 0 !== d || "string" != typeof b)
                return k || (k = i ? a[h] = c.pop() || m.guid++ : h),
                j[k] || (j[k] = i ? {} : {
                    toJSON: m.noop
                }),
                ("object" == typeof b || "function" == typeof b) && (e ? j[k] = m.extend(j[k], b) : j[k].data = m.extend(j[k].data, b)),
                g = j[k],
                e || (g.data || (g.data = {}),
                g = g.data),
                void 0 !== d && (g[m.camelCase(b)] = d),
                "string" == typeof b ? (f = g[b],
                null == f && (f = g[m.camelCase(b)])) : f = g,
                f
        }
    }
    function R(a, b, c) {
        if (m.acceptData(a)) {
            var d, e, f = a.nodeType, g = f ? m.cache : a, h = f ? a[m.expando] : m.expando;
            if (g[h]) {
                if (b && (d = c ? g[h] : g[h].data)) {
                    m.isArray(b) ? b = b.concat(m.map(b, m.camelCase)) : b in d ? b = [b] : (b = m.camelCase(b),
                    b = b in d ? [b] : b.split(" ")),
                    e = b.length;
                    while (e--)
                        delete d[b[e]];
                    if (c ? !P(d) : !m.isEmptyObject(d))
                        return
                }
                (c || (delete g[h].data,
                P(g[h]))) && (f ? m.cleanData([a], !0) : k.deleteExpando || g != g.window ? delete g[h] : g[h] = null)
            }
        }
    }
    m.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(a) {
            return a = a.nodeType ? m.cache[a[m.expando]] : a[m.expando],
            !!a && !P(a)
        },
        data: function(a, b, c) {
            return Q(a, b, c)
        },
        removeData: function(a, b) {
            return R(a, b)
        },
        _data: function(a, b, c) {
            return Q(a, b, c, !0)
        },
        _removeData: function(a, b) {
            return R(a, b, !0)
        }
    }),
    m.fn.extend({
        data: function(a, b) {
            var c, d, e, f = this[0], g = f && f.attributes;
            if (void 0 === a) {
                if (this.length && (e = m.data(f),
                1 === f.nodeType && !m._data(f, "parsedAttrs"))) {
                    c = g.length;
                    while (c--)
                        g[c] && (d = g[c].name,
                        0 === d.indexOf("data-") && (d = m.camelCase(d.slice(5)),
                        O(f, d, e[d])));
                    m._data(f, "parsedAttrs", !0)
                }
                return e
            }
            return "object" == typeof a ? this.each(function() {
                m.data(this, a)
            }) : arguments.length > 1 ? this.each(function() {
                m.data(this, a, b)
            }) : f ? O(f, a, m.data(f, a)) : void 0
        },
        removeData: function(a) {
            return this.each(function() {
                m.removeData(this, a)
            })
        }
    }),
    m.extend({
        queue: function(a, b, c) {
            var d;
            return a ? (b = (b || "fx") + "queue",
            d = m._data(a, b),
            c && (!d || m.isArray(c) ? d = m._data(a, b, m.makeArray(c)) : d.push(c)),
            d || []) : void 0
        },
        dequeue: function(a, b) {
            b = b || "fx";
            var c = m.queue(a, b)
              , d = c.length
              , e = c.shift()
              , f = m._queueHooks(a, b)
              , g = function() {
                m.dequeue(a, b)
            };
            "inprogress" === e && (e = c.shift(),
            d--),
            e && ("fx" === b && c.unshift("inprogress"),
            delete f.stop,
            e.call(a, g, f)),
            !d && f && f.empty.fire()
        },
        _queueHooks: function(a, b) {
            var c = b + "queueHooks";
            return m._data(a, c) || m._data(a, c, {
                empty: m.Callbacks("once memory").add(function() {
                    m._removeData(a, b + "queue"),
                    m._removeData(a, c)
                })
            })
        }
    }),
    m.fn.extend({
        queue: function(a, b) {
            var c = 2;
            return "string" != typeof a && (b = a,
            a = "fx",
            c--),
            arguments.length < c ? m.queue(this[0], a) : void 0 === b ? this : this.each(function() {
                var c = m.queue(this, a, b);
                m._queueHooks(this, a),
                "fx" === a && "inprogress" !== c[0] && m.dequeue(this, a)
            })
        },
        dequeue: function(a) {
            return this.each(function() {
                m.dequeue(this, a)
            })
        },
        clearQueue: function(a) {
            return this.queue(a || "fx", [])
        },
        promise: function(a, b) {
            var c, d = 1, e = m.Deferred(), f = this, g = this.length, h = function() {
                --d || e.resolveWith(f, [f])
            };
            "string" != typeof a && (b = a,
            a = void 0),
            a = a || "fx";
            while (g--)
                c = m._data(f[g], a + "queueHooks"),
                c && c.empty && (d++,
                c.empty.add(h));
            return h(),
            e.promise(b)
        }
    });
    var S = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source
      , T = ["Top", "Right", "Bottom", "Left"]
      , U = function(a, b) {
        return a = b || a,
        "none" === m.css(a, "display") || !m.contains(a.ownerDocument, a)
    }
      , V = m.access = function(a, b, c, d, e, f, g) {
        var h = 0
          , i = a.length
          , j = null == c;
        if ("object" === m.type(c)) {
            e = !0;
            for (h in c)
                m.access(a, b, h, c[h], !0, f, g)
        } else if (void 0 !== d && (e = !0,
        m.isFunction(d) || (g = !0),
        j && (g ? (b.call(a, d),
        b = null) : (j = b,
        b = function(a, b, c) {
            return j.call(m(a), c)
        }
        )),
        b))
            for (; i > h; h++)
                b(a[h], c, g ? d : d.call(a[h], h, b(a[h], c)));
        return e ? a : j ? b.call(a) : i ? b(a[0], c) : f
    }
      , W = /^(?:checkbox|radio)$/i;
    !function() {
        var a = y.createElement("input")
          , b = y.createElement("div")
          , c = y.createDocumentFragment();
        if (b.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        k.leadingWhitespace = 3 === b.firstChild.nodeType,
        k.tbody = !b.getElementsByTagName("tbody").length,
        k.htmlSerialize = !!b.getElementsByTagName("link").length,
        k.html5Clone = "<:nav></:nav>" !== y.createElement("nav").cloneNode(!0).outerHTML,
        a.type = "checkbox",
        a.checked = !0,
        c.appendChild(a),
        k.appendChecked = a.checked,
        b.innerHTML = "<textarea>x</textarea>",
        k.noCloneChecked = !!b.cloneNode(!0).lastChild.defaultValue,
        c.appendChild(b),
        b.innerHTML = "<input type='radio' checked='checked' name='t'/>",
        k.checkClone = b.cloneNode(!0).cloneNode(!0).lastChild.checked,
        k.noCloneEvent = !0,
        b.attachEvent && (b.attachEvent("onclick", function() {
            k.noCloneEvent = !1
        }),
        b.cloneNode(!0).click()),
        null == k.deleteExpando) {
            k.deleteExpando = !0;
            try {
                delete b.test
            } catch (d) {
                k.deleteExpando = !1
            }
        }
    }(),
    function() {
        var b, c, d = y.createElement("div");
        for (b in {
            submit: !0,
            change: !0,
            focusin: !0
        })
            c = "on" + b,
            (k[b + "Bubbles"] = c in a) || (d.setAttribute(c, "t"),
            k[b + "Bubbles"] = d.attributes[c].expando === !1);
        d = null
    }();
    var X = /^(?:input|select|textarea)$/i
      , Y = /^key/
      , Z = /^(?:mouse|pointer|contextmenu)|click/
      , $ = /^(?:focusinfocus|focusoutblur)$/
      , _ = /^([^.]*)(?:\.(.+)|)$/;
    function ab() {
        return !0
    }
    function bb() {
        return !1
    }
    function cb() {
        try {
            return y.activeElement
        } catch (a) {}
    }
    m.event = {
        global: {},
        add: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, n, o, p, q, r = m._data(a);
            if (r) {
                c.handler && (i = c,
                c = i.handler,
                e = i.selector),
                c.guid || (c.guid = m.guid++),
                (g = r.events) || (g = r.events = {}),
                (k = r.handle) || (k = r.handle = function(a) {
                    return typeof m === K || a && m.event.triggered === a.type ? void 0 : m.event.dispatch.apply(k.elem, arguments)
                }
                ,
                k.elem = a),
                b = (b || "").match(E) || [""],
                h = b.length;
                while (h--)
                    f = _.exec(b[h]) || [],
                    o = q = f[1],
                    p = (f[2] || "").split(".").sort(),
                    o && (j = m.event.special[o] || {},
                    o = (e ? j.delegateType : j.bindType) || o,
                    j = m.event.special[o] || {},
                    l = m.extend({
                        type: o,
                        origType: q,
                        data: d,
                        handler: c,
                        guid: c.guid,
                        selector: e,
                        needsContext: e && m.expr.match.needsContext.test(e),
                        namespace: p.join(".")
                    }, i),
                    (n = g[o]) || (n = g[o] = [],
                    n.delegateCount = 0,
                    j.setup && j.setup.call(a, d, p, k) !== !1 || (a.addEventListener ? a.addEventListener(o, k, !1) : a.attachEvent && a.attachEvent("on" + o, k))),
                    j.add && (j.add.call(a, l),
                    l.handler.guid || (l.handler.guid = c.guid)),
                    e ? n.splice(n.delegateCount++, 0, l) : n.push(l),
                    m.event.global[o] = !0);
                a = null
            }
        },
        remove: function(a, b, c, d, e) {
            var f, g, h, i, j, k, l, n, o, p, q, r = m.hasData(a) && m._data(a);
            if (r && (k = r.events)) {
                b = (b || "").match(E) || [""],
                j = b.length;
                while (j--)
                    if (h = _.exec(b[j]) || [],
                    o = q = h[1],
                    p = (h[2] || "").split(".").sort(),
                    o) {
                        l = m.event.special[o] || {},
                        o = (d ? l.delegateType : l.bindType) || o,
                        n = k[o] || [],
                        h = h[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"),
                        i = f = n.length;
                        while (f--)
                            g = n[f],
                            !e && q !== g.origType || c && c.guid !== g.guid || h && !h.test(g.namespace) || d && d !== g.selector && ("**" !== d || !g.selector) || (n.splice(f, 1),
                            g.selector && n.delegateCount--,
                            l.remove && l.remove.call(a, g));
                        i && !n.length && (l.teardown && l.teardown.call(a, p, r.handle) !== !1 || m.removeEvent(a, o, r.handle),
                        delete k[o])
                    } else
                        for (o in k)
                            m.event.remove(a, o + b[j], c, d, !0);
                m.isEmptyObject(k) && (delete r.handle,
                m._removeData(a, "events"))
            }
        },
        trigger: function(b, c, d, e) {
            var f, g, h, i, k, l, n, o = [d || y], p = j.call(b, "type") ? b.type : b, q = j.call(b, "namespace") ? b.namespace.split(".") : [];
            if (h = l = d = d || y,
            3 !== d.nodeType && 8 !== d.nodeType && !$.test(p + m.event.triggered) && (p.indexOf(".") >= 0 && (q = p.split("."),
            p = q.shift(),
            q.sort()),
            g = p.indexOf(":") < 0 && "on" + p,
            b = b[m.expando] ? b : new m.Event(p,"object" == typeof b && b),
            b.isTrigger = e ? 2 : 3,
            b.namespace = q.join("."),
            b.namespace_re = b.namespace ? new RegExp("(^|\\.)" + q.join("\\.(?:.*\\.|)") + "(\\.|$)") : null,
            b.result = void 0,
            b.target || (b.target = d),
            c = null == c ? [b] : m.makeArray(c, [b]),
            k = m.event.special[p] || {},
            e || !k.trigger || k.trigger.apply(d, c) !== !1)) {
                if (!e && !k.noBubble && !m.isWindow(d)) {
                    for (i = k.delegateType || p,
                    $.test(i + p) || (h = h.parentNode); h; h = h.parentNode)
                        o.push(h),
                        l = h;
                    l === (d.ownerDocument || y) && o.push(l.defaultView || l.parentWindow || a)
                }
                n = 0;
                while ((h = o[n++]) && !b.isPropagationStopped())
                    b.type = n > 1 ? i : k.bindType || p,
                    f = (m._data(h, "events") || {})[b.type] && m._data(h, "handle"),
                    f && f.apply(h, c),
                    f = g && h[g],
                    f && f.apply && m.acceptData(h) && (b.result = f.apply(h, c),
                    b.result === !1 && b.preventDefault());
                if (b.type = p,
                !e && !b.isDefaultPrevented() && (!k._default || k._default.apply(o.pop(), c) === !1) && m.acceptData(d) && g && d[p] && !m.isWindow(d)) {
                    l = d[g],
                    l && (d[g] = null),
                    m.event.triggered = p;
                    try {
                        d[p]()
                    } catch (r) {}
                    m.event.triggered = void 0,
                    l && (d[g] = l)
                }
                return b.result
            }
        },
        dispatch: function(a) {
            a = m.event.fix(a);
            var b, c, e, f, g, h = [], i = d.call(arguments), j = (m._data(this, "events") || {})[a.type] || [], k = m.event.special[a.type] || {};
            if (i[0] = a,
            a.delegateTarget = this,
            !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
                h = m.event.handlers.call(this, a, j),
                b = 0;
                while ((f = h[b++]) && !a.isPropagationStopped()) {
                    a.currentTarget = f.elem,
                    g = 0;
                    while ((e = f.handlers[g++]) && !a.isImmediatePropagationStopped())
                        (!a.namespace_re || a.namespace_re.test(e.namespace)) && (a.handleObj = e,
                        a.data = e.data,
                        c = ((m.event.special[e.origType] || {}).handle || e.handler).apply(f.elem, i),
                        void 0 !== c && (a.result = c) === !1 && (a.preventDefault(),
                        a.stopPropagation()))
                }
                return k.postDispatch && k.postDispatch.call(this, a),
                a.result
            }
        },
        handlers: function(a, b) {
            var c, d, e, f, g = [], h = b.delegateCount, i = a.target;
            if (h && i.nodeType && (!a.button || "click" !== a.type))
                for (; i != this; i = i.parentNode || this)
                    if (1 === i.nodeType && (i.disabled !== !0 || "click" !== a.type)) {
                        for (e = [],
                        f = 0; h > f; f++)
                            d = b[f],
                            c = d.selector + " ",
                            void 0 === e[c] && (e[c] = d.needsContext ? m(c, this).index(i) >= 0 : m.find(c, this, null, [i]).length),
                            e[c] && e.push(d);
                        e.length && g.push({
                            elem: i,
                            handlers: e
                        })
                    }
            return h < b.length && g.push({
                elem: this,
                handlers: b.slice(h)
            }),
            g
        },
        fix: function(a) {
            if (a[m.expando])
                return a;
            var b, c, d, e = a.type, f = a, g = this.fixHooks[e];
            g || (this.fixHooks[e] = g = Z.test(e) ? this.mouseHooks : Y.test(e) ? this.keyHooks : {}),
            d = g.props ? this.props.concat(g.props) : this.props,
            a = new m.Event(f),
            b = d.length;
            while (b--)
                c = d[b],
                a[c] = f[c];
            return a.target || (a.target = f.srcElement || y),
            3 === a.target.nodeType && (a.target = a.target.parentNode),
            a.metaKey = !!a.metaKey,
            g.filter ? g.filter(a, f) : a
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(a, b) {
                return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode),
                a
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(a, b) {
                var c, d, e, f = b.button, g = b.fromElement;
                return null == a.pageX && null != b.clientX && (d = a.target.ownerDocument || y,
                e = d.documentElement,
                c = d.body,
                a.pageX = b.clientX + (e && e.scrollLeft || c && c.scrollLeft || 0) - (e && e.clientLeft || c && c.clientLeft || 0),
                a.pageY = b.clientY + (e && e.scrollTop || c && c.scrollTop || 0) - (e && e.clientTop || c && c.clientTop || 0)),
                !a.relatedTarget && g && (a.relatedTarget = g === a.target ? b.toElement : g),
                a.which || void 0 === f || (a.which = 1 & f ? 1 : 2 & f ? 3 : 4 & f ? 2 : 0),
                a
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== cb() && this.focus)
                        try {
                            return this.focus(),
                            !1
                        } catch (a) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    return this === cb() && this.blur ? (this.blur(),
                    !1) : void 0
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    return m.nodeName(this, "input") && "checkbox" === this.type && this.click ? (this.click(),
                    !1) : void 0
                },
                _default: function(a) {
                    return m.nodeName(a.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(a) {
                    void 0 !== a.result && a.originalEvent && (a.originalEvent.returnValue = a.result)
                }
            }
        },
        simulate: function(a, b, c, d) {
            var e = m.extend(new m.Event, c, {
                type: a,
                isSimulated: !0,
                originalEvent: {}
            });
            d ? m.event.trigger(e, null, b) : m.event.dispatch.call(b, e),
            e.isDefaultPrevented() && c.preventDefault()
        }
    },
    m.removeEvent = y.removeEventListener ? function(a, b, c) {
        a.removeEventListener && a.removeEventListener(b, c, !1)
    }
    : function(a, b, c) {
        var d = "on" + b;
        a.detachEvent && (typeof a[d] === K && (a[d] = null),
        a.detachEvent(d, c))
    }
    ,
    m.Event = function(a, b) {
        return this instanceof m.Event ? (a && a.type ? (this.originalEvent = a,
        this.type = a.type,
        this.isDefaultPrevented = a.defaultPrevented || void 0 === a.defaultPrevented && a.returnValue === !1 ? ab : bb) : this.type = a,
        b && m.extend(this, b),
        this.timeStamp = a && a.timeStamp || m.now(),
        void (this[m.expando] = !0)) : new m.Event(a,b)
    }
    ,
    m.Event.prototype = {
        isDefaultPrevented: bb,
        isPropagationStopped: bb,
        isImmediatePropagationStopped: bb,
        preventDefault: function() {
            var a = this.originalEvent;
            this.isDefaultPrevented = ab,
            a && (a.preventDefault ? a.preventDefault() : a.returnValue = !1)
        },
        stopPropagation: function() {
            var a = this.originalEvent;
            this.isPropagationStopped = ab,
            a && (a.stopPropagation && a.stopPropagation(),
            a.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            var a = this.originalEvent;
            this.isImmediatePropagationStopped = ab,
            a && a.stopImmediatePropagation && a.stopImmediatePropagation(),
            this.stopPropagation()
        }
    },
    m.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(a, b) {
        m.event.special[a] = {
            delegateType: b,
            bindType: b,
            handle: function(a) {
                var c, d = this, e = a.relatedTarget, f = a.handleObj;
                return (!e || e !== d && !m.contains(d, e)) && (a.type = f.origType,
                c = f.handler.apply(this, arguments),
                a.type = b),
                c
            }
        }
    }),
    k.submitBubbles || (m.event.special.submit = {
        setup: function() {
            return m.nodeName(this, "form") ? !1 : void m.event.add(this, "click._submit keypress._submit", function(a) {
                var b = a.target
                  , c = m.nodeName(b, "input") || m.nodeName(b, "button") ? b.form : void 0;
                c && !m._data(c, "submitBubbles") && (m.event.add(c, "submit._submit", function(a) {
                    a._submit_bubble = !0
                }),
                m._data(c, "submitBubbles", !0))
            })
        },
        postDispatch: function(a) {
            a._submit_bubble && (delete a._submit_bubble,
            this.parentNode && !a.isTrigger && m.event.simulate("submit", this.parentNode, a, !0))
        },
        teardown: function() {
            return m.nodeName(this, "form") ? !1 : void m.event.remove(this, "._submit")
        }
    }),
    k.changeBubbles || (m.event.special.change = {
        setup: function() {
            return X.test(this.nodeName) ? (("checkbox" === this.type || "radio" === this.type) && (m.event.add(this, "propertychange._change", function(a) {
                "checked" === a.originalEvent.propertyName && (this._just_changed = !0)
            }),
            m.event.add(this, "click._change", function(a) {
                this._just_changed && !a.isTrigger && (this._just_changed = !1),
                m.event.simulate("change", this, a, !0)
            })),
            !1) : void m.event.add(this, "beforeactivate._change", function(a) {
                var b = a.target;
                X.test(b.nodeName) && !m._data(b, "changeBubbles") && (m.event.add(b, "change._change", function(a) {
                    !this.parentNode || a.isSimulated || a.isTrigger || m.event.simulate("change", this.parentNode, a, !0)
                }),
                m._data(b, "changeBubbles", !0))
            })
        },
        handle: function(a) {
            var b = a.target;
            return this !== b || a.isSimulated || a.isTrigger || "radio" !== b.type && "checkbox" !== b.type ? a.handleObj.handler.apply(this, arguments) : void 0
        },
        teardown: function() {
            return m.event.remove(this, "._change"),
            !X.test(this.nodeName)
        }
    }),
    k.focusinBubbles || m.each({
        focus: "focusin",
        blur: "focusout"
    }, function(a, b) {
        var c = function(a) {
            m.event.simulate(b, a.target, m.event.fix(a), !0)
        };
        m.event.special[b] = {
            setup: function() {
                var d = this.ownerDocument || this
                  , e = m._data(d, b);
                e || d.addEventListener(a, c, !0),
                m._data(d, b, (e || 0) + 1)
            },
            teardown: function() {
                var d = this.ownerDocument || this
                  , e = m._data(d, b) - 1;
                e ? m._data(d, b, e) : (d.removeEventListener(a, c, !0),
                m._removeData(d, b))
            }
        }
    }),
    m.fn.extend({
        on: function(a, b, c, d, e) {
            var f, g;
            if ("object" == typeof a) {
                "string" != typeof b && (c = c || b,
                b = void 0);
                for (f in a)
                    this.on(f, b, c, a[f], e);
                return this
            }
            if (null == c && null == d ? (d = b,
            c = b = void 0) : null == d && ("string" == typeof b ? (d = c,
            c = void 0) : (d = c,
            c = b,
            b = void 0)),
            d === !1)
                d = bb;
            else if (!d)
                return this;
            return 1 === e && (g = d,
            d = function(a) {
                return m().off(a),
                g.apply(this, arguments)
            }
            ,
            d.guid = g.guid || (g.guid = m.guid++)),
            this.each(function() {
                m.event.add(this, a, d, c, b)
            })
        },
        one: function(a, b, c, d) {
            return this.on(a, b, c, d, 1)
        },
        off: function(a, b, c) {
            var d, e;
            if (a && a.preventDefault && a.handleObj)
                return d = a.handleObj,
                m(a.delegateTarget).off(d.namespace ? d.origType + "." + d.namespace : d.origType, d.selector, d.handler),
                this;
            if ("object" == typeof a) {
                for (e in a)
                    this.off(e, b, a[e]);
                return this
            }
            return (b === !1 || "function" == typeof b) && (c = b,
            b = void 0),
            c === !1 && (c = bb),
            this.each(function() {
                m.event.remove(this, a, c, b)
            })
        },
        trigger: function(a, b) {
            return this.each(function() {
                m.event.trigger(a, b, this)
            })
        },
        triggerHandler: function(a, b) {
            var c = this[0];
            return c ? m.event.trigger(a, b, c, !0) : void 0
        }
    });
    function db(a) {
        var b = eb.split("|")
          , c = a.createDocumentFragment();
        if (c.createElement)
            while (b.length)
                c.createElement(b.pop());
        return c
    }
    var eb = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video"
      , fb = / jQuery\d+="(?:null|\d+)"/g
      , gb = new RegExp("<(?:" + eb + ")[\\s/>]","i")
      , hb = /^\s+/
      , ib = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
      , jb = /<([\w:]+)/
      , kb = /<tbody/i
      , lb = /<|&#?\w+;/
      , mb = /<(?:script|style|link)/i
      , nb = /checked\s*(?:[^=]|=\s*.checked.)/i
      , ob = /^$|\/(?:java|ecma)script/i
      , pb = /^true\/(.*)/
      , qb = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
      , rb = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: k.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    }
      , sb = db(y)
      , tb = sb.appendChild(y.createElement("div"));
    rb.optgroup = rb.option,
    rb.tbody = rb.tfoot = rb.colgroup = rb.caption = rb.thead,
    rb.th = rb.td;
    function ub(a, b) {
        var c, d, e = 0, f = typeof a.getElementsByTagName !== K ? a.getElementsByTagName(b || "*") : typeof a.querySelectorAll !== K ? a.querySelectorAll(b || "*") : void 0;
        if (!f)
            for (f = [],
            c = a.childNodes || a; null != (d = c[e]); e++)
                !b || m.nodeName(d, b) ? f.push(d) : m.merge(f, ub(d, b));
        return void 0 === b || b && m.nodeName(a, b) ? m.merge([a], f) : f
    }
    function vb(a) {
        W.test(a.type) && (a.defaultChecked = a.checked)
    }
    function wb(a, b) {
        return m.nodeName(a, "table") && m.nodeName(11 !== b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
    }
    function xb(a) {
        return a.type = (null !== m.find.attr(a, "type")) + "/" + a.type,
        a
    }
    function yb(a) {
        var b = pb.exec(a.type);
        return b ? a.type = b[1] : a.removeAttribute("type"),
        a
    }
    function zb(a, b) {
        for (var c, d = 0; null != (c = a[d]); d++)
            m._data(c, "globalEval", !b || m._data(b[d], "globalEval"))
    }
    function Ab(a, b) {
        if (1 === b.nodeType && m.hasData(a)) {
            var c, d, e, f = m._data(a), g = m._data(b, f), h = f.events;
            if (h) {
                delete g.handle,
                g.events = {};
                for (c in h)
                    for (d = 0,
                    e = h[c].length; e > d; d++)
                        m.event.add(b, c, h[c][d])
            }
            g.data && (g.data = m.extend({}, g.data))
        }
    }
    function Bb(a, b) {
        var c, d, e;
        if (1 === b.nodeType) {
            if (c = b.nodeName.toLowerCase(),
            !k.noCloneEvent && b[m.expando]) {
                e = m._data(b);
                for (d in e.events)
                    m.removeEvent(b, d, e.handle);
                b.removeAttribute(m.expando)
            }
            "script" === c && b.text !== a.text ? (xb(b).text = a.text,
            yb(b)) : "object" === c ? (b.parentNode && (b.outerHTML = a.outerHTML),
            k.html5Clone && a.innerHTML && !m.trim(b.innerHTML) && (b.innerHTML = a.innerHTML)) : "input" === c && W.test(a.type) ? (b.defaultChecked = b.checked = a.checked,
            b.value !== a.value && (b.value = a.value)) : "option" === c ? b.defaultSelected = b.selected = a.defaultSelected : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
        }
    }
    m.extend({
        clone: function(a, b, c) {
            var d, e, f, g, h, i = m.contains(a.ownerDocument, a);
            if (k.html5Clone || m.isXMLDoc(a) || !gb.test("<" + a.nodeName + ">") ? f = a.cloneNode(!0) : (tb.innerHTML = a.outerHTML,
            tb.removeChild(f = tb.firstChild)),
            !(k.noCloneEvent && k.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || m.isXMLDoc(a)))
                for (d = ub(f),
                h = ub(a),
                g = 0; null != (e = h[g]); ++g)
                    d[g] && Bb(e, d[g]);
            if (b)
                if (c)
                    for (h = h || ub(a),
                    d = d || ub(f),
                    g = 0; null != (e = h[g]); g++)
                        Ab(e, d[g]);
                else
                    Ab(a, f);
            return d = ub(f, "script"),
            d.length > 0 && zb(d, !i && ub(a, "script")),
            d = h = e = null,
            f
        },
        buildFragment: function(a, b, c, d) {
            for (var e, f, g, h, i, j, l, n = a.length, o = db(b), p = [], q = 0; n > q; q++)
                if (f = a[q],
                f || 0 === f)
                    if ("object" === m.type(f))
                        m.merge(p, f.nodeType ? [f] : f);
                    else if (lb.test(f)) {
                        h = h || o.appendChild(b.createElement("div")),
                        i = (jb.exec(f) || ["", ""])[1].toLowerCase(),
                        l = rb[i] || rb._default,
                        h.innerHTML = l[1] + f.replace(ib, "<$1></$2>") + l[2],
                        e = l[0];
                        while (e--)
                            h = h.lastChild;
                        if (!k.leadingWhitespace && hb.test(f) && p.push(b.createTextNode(hb.exec(f)[0])),
                        !k.tbody) {
                            f = "table" !== i || kb.test(f) ? "<table>" !== l[1] || kb.test(f) ? 0 : h : h.firstChild,
                            e = f && f.childNodes.length;
                            while (e--)
                                m.nodeName(j = f.childNodes[e], "tbody") && !j.childNodes.length && f.removeChild(j)
                        }
                        m.merge(p, h.childNodes),
                        h.textContent = "";
                        while (h.firstChild)
                            h.removeChild(h.firstChild);
                        h = o.lastChild
                    } else
                        p.push(b.createTextNode(f));
            h && o.removeChild(h),
            k.appendChecked || m.grep(ub(p, "input"), vb),
            q = 0;
            while (f = p[q++])
                if ((!d || -1 === m.inArray(f, d)) && (g = m.contains(f.ownerDocument, f),
                h = ub(o.appendChild(f), "script"),
                g && zb(h),
                c)) {
                    e = 0;
                    while (f = h[e++])
                        ob.test(f.type || "") && c.push(f)
                }
            return h = null,
            o
        },
        cleanData: function(a, b) {
            for (var d, e, f, g, h = 0, i = m.expando, j = m.cache, l = k.deleteExpando, n = m.event.special; null != (d = a[h]); h++)
                if ((b || m.acceptData(d)) && (f = d[i],
                g = f && j[f])) {
                    if (g.events)
                        for (e in g.events)
                            n[e] ? m.event.remove(d, e) : m.removeEvent(d, e, g.handle);
                    j[f] && (delete j[f],
                    l ? delete d[i] : typeof d.removeAttribute !== K ? d.removeAttribute(i) : d[i] = null,
                    c.push(f))
                }
        }
    }),
    m.fn.extend({
        text: function(a) {
            return V(this, function(a) {
                return void 0 === a ? m.text(this) : this.empty().append((this[0] && this[0].ownerDocument || y).createTextNode(a))
            }, null, a, arguments.length)
        },
        append: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = wb(this, a);
                    b.appendChild(a)
                }
            })
        },
        prepend: function() {
            return this.domManip(arguments, function(a) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var b = wb(this, a);
                    b.insertBefore(a, b.firstChild)
                }
            })
        },
        before: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this)
            })
        },
        after: function() {
            return this.domManip(arguments, function(a) {
                this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
            })
        },
        remove: function(a, b) {
            for (var c, d = a ? m.filter(a, this) : this, e = 0; null != (c = d[e]); e++)
                b || 1 !== c.nodeType || m.cleanData(ub(c)),
                c.parentNode && (b && m.contains(c.ownerDocument, c) && zb(ub(c, "script")),
                c.parentNode.removeChild(c));
            return this
        },
        empty: function() {
            for (var a, b = 0; null != (a = this[b]); b++) {
                1 === a.nodeType && m.cleanData(ub(a, !1));
                while (a.firstChild)
                    a.removeChild(a.firstChild);
                a.options && m.nodeName(a, "select") && (a.options.length = 0)
            }
            return this
        },
        clone: function(a, b) {
            return a = null == a ? !1 : a,
            b = null == b ? a : b,
            this.map(function() {
                return m.clone(this, a, b)
            })
        },
        html: function(a) {
            return V(this, function(a) {
                var b = this[0] || {}
                  , c = 0
                  , d = this.length;
                if (void 0 === a)
                    return 1 === b.nodeType ? b.innerHTML.replace(fb, "") : void 0;
                if (!("string" != typeof a || mb.test(a) || !k.htmlSerialize && gb.test(a) || !k.leadingWhitespace && hb.test(a) || rb[(jb.exec(a) || ["", ""])[1].toLowerCase()])) {
                    a = a.replace(ib, "<$1></$2>");
                    try {
                        for (; d > c; c++)
                            b = this[c] || {},
                            1 === b.nodeType && (m.cleanData(ub(b, !1)),
                            b.innerHTML = a);
                        b = 0
                    } catch (e) {}
                }
                b && this.empty().append(a)
            }, null, a, arguments.length)
        },
        replaceWith: function() {
            var a = arguments[0];
            return this.domManip(arguments, function(b) {
                a = this.parentNode,
                m.cleanData(ub(this)),
                a && a.replaceChild(b, this)
            }),
            a && (a.length || a.nodeType) ? this : this.remove()
        },
        detach: function(a) {
            return this.remove(a, !0)
        },
        domManip: function(a, b) {
            a = e.apply([], a);
            var c, d, f, g, h, i, j = 0, l = this.length, n = this, o = l - 1, p = a[0], q = m.isFunction(p);
            if (q || l > 1 && "string" == typeof p && !k.checkClone && nb.test(p))
                return this.each(function(c) {
                    var d = n.eq(c);
                    q && (a[0] = p.call(this, c, d.html())),
                    d.domManip(a, b)
                });
            if (l && (i = m.buildFragment(a, this[0].ownerDocument, !1, this),
            c = i.firstChild,
            1 === i.childNodes.length && (i = c),
            c)) {
                for (g = m.map(ub(i, "script"), xb),
                f = g.length; l > j; j++)
                    d = i,
                    j !== o && (d = m.clone(d, !0, !0),
                    f && m.merge(g, ub(d, "script"))),
                    b.call(this[j], d, j);
                if (f)
                    for (h = g[g.length - 1].ownerDocument,
                    m.map(g, yb),
                    j = 0; f > j; j++)
                        d = g[j],
                        ob.test(d.type || "") && !m._data(d, "globalEval") && m.contains(h, d) && (d.src ? m._evalUrl && m._evalUrl(d.src) : m.globalEval((d.text || d.textContent || d.innerHTML || "").replace(qb, "")));
                i = c = null
            }
            return this
        }
    }),
    m.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(a, b) {
        m.fn[a] = function(a) {
            for (var c, d = 0, e = [], g = m(a), h = g.length - 1; h >= d; d++)
                c = d === h ? this : this.clone(!0),
                m(g[d])[b](c),
                f.apply(e, c.get());
            return this.pushStack(e)
        }
    });
    var Cb, Db = {};
    function Eb(b, c) {
        var d, e = m(c.createElement(b)).appendTo(c.body), f = a.getDefaultComputedStyle && (d = a.getDefaultComputedStyle(e[0])) ? d.display : m.css(e[0], "display");
        return e.detach(),
        f
    }
    function Fb(a) {
        var b = y
          , c = Db[a];
        return c || (c = Eb(a, b),
        "none" !== c && c || (Cb = (Cb || m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),
        b = (Cb[0].contentWindow || Cb[0].contentDocument).document,
        b.write(),
        b.close(),
        c = Eb(a, b),
        Cb.detach()),
        Db[a] = c),
        c
    }
    !function() {
        var a;
        k.shrinkWrapBlocks = function() {
            if (null != a)
                return a;
            a = !1;
            var b, c, d;
            return c = y.getElementsByTagName("body")[0],
            c && c.style ? (b = y.createElement("div"),
            d = y.createElement("div"),
            d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
            c.appendChild(d).appendChild(b),
            typeof b.style.zoom !== K && (b.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
            b.appendChild(y.createElement("div")).style.width = "5px",
            a = 3 !== b.offsetWidth),
            c.removeChild(d),
            a) : void 0
        }
    }();
    var Gb = /^margin/, Hb = new RegExp("^(" + S + ")(?!px)[a-z%]+$","i"), Ib, Jb, Kb = /^(top|right|bottom|left)$/;
    a.getComputedStyle ? (Ib = function(a) {
        return a.ownerDocument.defaultView.getComputedStyle(a, null)
    }
    ,
    Jb = function(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Ib(a),
        g = c ? c.getPropertyValue(b) || c[b] : void 0,
        c && ("" !== g || m.contains(a.ownerDocument, a) || (g = m.style(a, b)),
        Hb.test(g) && Gb.test(b) && (d = h.width,
        e = h.minWidth,
        f = h.maxWidth,
        h.minWidth = h.maxWidth = h.width = g,
        g = c.width,
        h.width = d,
        h.minWidth = e,
        h.maxWidth = f)),
        void 0 === g ? g : g + ""
    }
    ) : y.documentElement.currentStyle && (Ib = function(a) {
        return a.currentStyle
    }
    ,
    Jb = function(a, b, c) {
        var d, e, f, g, h = a.style;
        return c = c || Ib(a),
        g = c ? c[b] : void 0,
        null == g && h && h[b] && (g = h[b]),
        Hb.test(g) && !Kb.test(b) && (d = h.left,
        e = a.runtimeStyle,
        f = e && e.left,
        f && (e.left = a.currentStyle.left),
        h.left = "fontSize" === b ? "1em" : g,
        g = h.pixelLeft + "px",
        h.left = d,
        f && (e.left = f)),
        void 0 === g ? g : g + "" || "auto"
    }
    );
    function Lb(a, b) {
        return {
            get: function() {
                var c = a();
                if (null != c)
                    return c ? void delete this.get : (this.get = b).apply(this, arguments)
            }
        }
    }
    !function() {
        var b, c, d, e, f, g, h;
        if (b = y.createElement("div"),
        b.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        d = b.getElementsByTagName("a")[0],
        c = d && d.style) {
            c.cssText = "float:left;opacity:.5",
            k.opacity = "0.5" === c.opacity,
            k.cssFloat = !!c.cssFloat,
            b.style.backgroundClip = "content-box",
            b.cloneNode(!0).style.backgroundClip = "",
            k.clearCloneStyle = "content-box" === b.style.backgroundClip,
            k.boxSizing = "" === c.boxSizing || "" === c.MozBoxSizing || "" === c.WebkitBoxSizing,
            m.extend(k, {
                reliableHiddenOffsets: function() {
                    return null == g && i(),
                    g
                },
                boxSizingReliable: function() {
                    return null == f && i(),
                    f
                },
                pixelPosition: function() {
                    return null == e && i(),
                    e
                },
                reliableMarginRight: function() {
                    return null == h && i(),
                    h
                }
            });
            function i() {
                var b, c, d, i;
                c = y.getElementsByTagName("body")[0],
                c && c.style && (b = y.createElement("div"),
                d = y.createElement("div"),
                d.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px",
                c.appendChild(d).appendChild(b),
                b.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",
                e = f = !1,
                h = !0,
                a.getComputedStyle && (e = "1%" !== (a.getComputedStyle(b, null) || {}).top,
                f = "4px" === (a.getComputedStyle(b, null) || {
                    width: "4px"
                }).width,
                i = b.appendChild(y.createElement("div")),
                i.style.cssText = b.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",
                i.style.marginRight = i.style.width = "0",
                b.style.width = "1px",
                h = !parseFloat((a.getComputedStyle(i, null) || {}).marginRight)),
                b.innerHTML = "<table><tr><td></td><td>t</td></tr></table>",
                i = b.getElementsByTagName("td"),
                i[0].style.cssText = "margin:0;border:0;padding:0;display:none",
                g = 0 === i[0].offsetHeight,
                g && (i[0].style.display = "",
                i[1].style.display = "none",
                g = 0 === i[0].offsetHeight),
                c.removeChild(d))
            }
        }
    }(),
    m.swap = function(a, b, c, d) {
        var e, f, g = {};
        for (f in b)
            g[f] = a.style[f],
            a.style[f] = b[f];
        e = c.apply(a, d || []);
        for (f in b)
            a.style[f] = g[f];
        return e
    }
    ;
    var Mb = /alpha\([^)]*\)/i
      , Nb = /opacity\s*=\s*([^)]*)/
      , Ob = /^(none|table(?!-c[ea]).+)/
      , Pb = new RegExp("^(" + S + ")(.*)$","i")
      , Qb = new RegExp("^([+-])=(" + S + ")","i")
      , Rb = {
        position: "absolute",
        visibility: "hidden",
        display: "block"
    }
      , Sb = {
        letterSpacing: "0",
        fontWeight: "400"
    }
      , Tb = ["Webkit", "O", "Moz", "ms"];
    function Ub(a, b) {
        if (b in a)
            return b;
        var c = b.charAt(0).toUpperCase() + b.slice(1)
          , d = b
          , e = Tb.length;
        while (e--)
            if (b = Tb[e] + c,
            b in a)
                return b;
        return d
    }
    function Vb(a, b) {
        for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++)
            d = a[g],
            d.style && (f[g] = m._data(d, "olddisplay"),
            c = d.style.display,
            b ? (f[g] || "none" !== c || (d.style.display = ""),
            "" === d.style.display && U(d) && (f[g] = m._data(d, "olddisplay", Fb(d.nodeName)))) : (e = U(d),
            (c && "none" !== c || !e) && m._data(d, "olddisplay", e ? c : m.css(d, "display"))));
        for (g = 0; h > g; g++)
            d = a[g],
            d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
        return a
    }
    function Wb(a, b, c) {
        var d = Pb.exec(b);
        return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
    }
    function Xb(a, b, c, d, e) {
        for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2)
            "margin" === c && (g += m.css(a, c + T[f], !0, e)),
            d ? ("content" === c && (g -= m.css(a, "padding" + T[f], !0, e)),
            "margin" !== c && (g -= m.css(a, "border" + T[f] + "Width", !0, e))) : (g += m.css(a, "padding" + T[f], !0, e),
            "padding" !== c && (g += m.css(a, "border" + T[f] + "Width", !0, e)));
        return g
    }
    function Yb(a, b, c) {
        var d = !0
          , e = "width" === b ? a.offsetWidth : a.offsetHeight
          , f = Ib(a)
          , g = k.boxSizing && "border-box" === m.css(a, "boxSizing", !1, f);
        if (0 >= e || null == e) {
            if (e = Jb(a, b, f),
            (0 > e || null == e) && (e = a.style[b]),
            Hb.test(e))
                return e;
            d = g && (k.boxSizingReliable() || e === a.style[b]),
            e = parseFloat(e) || 0
        }
        return e + Xb(a, b, c || (g ? "border" : "content"), d, f) + "px"
    }
    m.extend({
        cssHooks: {
            opacity: {
                get: function(a, b) {
                    if (b) {
                        var c = Jb(a, "opacity");
                        return "" === c ? "1" : c
                    }
                }
            }
        },
        cssNumber: {
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": k.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(a, b, c, d) {
            if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
                var e, f, g, h = m.camelCase(b), i = a.style;
                if (b = m.cssProps[h] || (m.cssProps[h] = Ub(i, h)),
                g = m.cssHooks[b] || m.cssHooks[h],
                void 0 === c)
                    return g && "get"in g && void 0 !== (e = g.get(a, !1, d)) ? e : i[b];
                if (f = typeof c,
                "string" === f && (e = Qb.exec(c)) && (c = (e[1] + 1) * e[2] + parseFloat(m.css(a, b)),
                f = "number"),
                null != c && c === c && ("number" !== f || m.cssNumber[h] || (c += "px"),
                k.clearCloneStyle || "" !== c || 0 !== b.indexOf("background") || (i[b] = "inherit"),
                !(g && "set"in g && void 0 === (c = g.set(a, c, d)))))
                    try {
                        i[b] = c
                    } catch (j) {}
            }
        },
        css: function(a, b, c, d) {
            var e, f, g, h = m.camelCase(b);
            return b = m.cssProps[h] || (m.cssProps[h] = Ub(a.style, h)),
            g = m.cssHooks[b] || m.cssHooks[h],
            g && "get"in g && (f = g.get(a, !0, c)),
            void 0 === f && (f = Jb(a, b, d)),
            "normal" === f && b in Sb && (f = Sb[b]),
            "" === c || c ? (e = parseFloat(f),
            c === !0 || m.isNumeric(e) ? e || 0 : f) : f
        }
    }),
    m.each(["height", "width"], function(a, b) {
        m.cssHooks[b] = {
            get: function(a, c, d) {
                return c ? Ob.test(m.css(a, "display")) && 0 === a.offsetWidth ? m.swap(a, Rb, function() {
                    return Yb(a, b, d)
                }) : Yb(a, b, d) : void 0
            },
            set: function(a, c, d) {
                var e = d && Ib(a);
                return Wb(a, c, d ? Xb(a, b, d, k.boxSizing && "border-box" === m.css(a, "boxSizing", !1, e), e) : 0)
            }
        }
    }),
    k.opacity || (m.cssHooks.opacity = {
        get: function(a, b) {
            return Nb.test((b && a.currentStyle ? a.currentStyle.filter : a.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : b ? "1" : ""
        },
        set: function(a, b) {
            var c = a.style
              , d = a.currentStyle
              , e = m.isNumeric(b) ? "alpha(opacity=" + 100 * b + ")" : ""
              , f = d && d.filter || c.filter || "";
            c.zoom = 1,
            (b >= 1 || "" === b) && "" === m.trim(f.replace(Mb, "")) && c.removeAttribute && (c.removeAttribute("filter"),
            "" === b || d && !d.filter) || (c.filter = Mb.test(f) ? f.replace(Mb, e) : f + " " + e)
        }
    }),
    m.cssHooks.marginRight = Lb(k.reliableMarginRight, function(a, b) {
        return b ? m.swap(a, {
            display: "inline-block"
        }, Jb, [a, "marginRight"]) : void 0
    }),
    m.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(a, b) {
        m.cssHooks[a + b] = {
            expand: function(c) {
                for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++)
                    e[a + T[d] + b] = f[d] || f[d - 2] || f[0];
                return e
            }
        },
        Gb.test(a) || (m.cssHooks[a + b].set = Wb)
    }),
    m.fn.extend({
        css: function(a, b) {
            return V(this, function(a, b, c) {
                var d, e, f = {}, g = 0;
                if (m.isArray(b)) {
                    for (d = Ib(a),
                    e = b.length; e > g; g++)
                        f[b[g]] = m.css(a, b[g], !1, d);
                    return f
                }
                return void 0 !== c ? m.style(a, b, c) : m.css(a, b)
            }, a, b, arguments.length > 1)
        },
        show: function() {
            return Vb(this, !0)
        },
        hide: function() {
            return Vb(this)
        },
        toggle: function(a) {
            return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
                U(this) ? m(this).show() : m(this).hide()
            })
        }
    });
    function Zb(a, b, c, d, e) {
        return new Zb.prototype.init(a,b,c,d,e)
    }
    m.Tween = Zb,
    Zb.prototype = {
        constructor: Zb,
        init: function(a, b, c, d, e, f) {
            this.elem = a,
            this.prop = c,
            this.easing = e || "swing",
            this.options = b,
            this.start = this.now = this.cur(),
            this.end = d,
            this.unit = f || (m.cssNumber[c] ? "" : "px")
        },
        cur: function() {
            var a = Zb.propHooks[this.prop];
            return a && a.get ? a.get(this) : Zb.propHooks._default.get(this)
        },
        run: function(a) {
            var b, c = Zb.propHooks[this.prop];
            return this.pos = b = this.options.duration ? m.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a,
            this.now = (this.end - this.start) * b + this.start,
            this.options.step && this.options.step.call(this.elem, this.now, this),
            c && c.set ? c.set(this) : Zb.propHooks._default.set(this),
            this
        }
    },
    Zb.prototype.init.prototype = Zb.prototype,
    Zb.propHooks = {
        _default: {
            get: function(a) {
                var b;
                return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = m.css(a.elem, a.prop, ""),
                b && "auto" !== b ? b : 0) : a.elem[a.prop]
            },
            set: function(a) {
                m.fx.step[a.prop] ? m.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[m.cssProps[a.prop]] || m.cssHooks[a.prop]) ? m.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
            }
        }
    },
    Zb.propHooks.scrollTop = Zb.propHooks.scrollLeft = {
        set: function(a) {
            a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
        }
    },
    m.easing = {
        linear: function(a) {
            return a
        },
        swing: function(a) {
            return .5 - Math.cos(a * Math.PI) / 2
        }
    },
    m.fx = Zb.prototype.init,
    m.fx.step = {};
    var $b, _b, ac = /^(?:toggle|show|hide)$/, bc = new RegExp("^(?:([+-])=|)(" + S + ")([a-z%]*)$","i"), cc = /queueHooks$/, dc = [ic], ec = {
        "*": [function(a, b) {
            var c = this.createTween(a, b)
              , d = c.cur()
              , e = bc.exec(b)
              , f = e && e[3] || (m.cssNumber[a] ? "" : "px")
              , g = (m.cssNumber[a] || "px" !== f && +d) && bc.exec(m.css(c.elem, a))
              , h = 1
              , i = 20;
            if (g && g[3] !== f) {
                f = f || g[3],
                e = e || [],
                g = +d || 1;
                do
                    h = h || ".5",
                    g /= h,
                    m.style(c.elem, a, g + f);
                while (h !== (h = c.cur() / d) && 1 !== h && --i)
            }
            return e && (g = c.start = +g || +d || 0,
            c.unit = f,
            c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]),
            c
        }
        ]
    };
    function fc() {
        return setTimeout(function() {
            $b = void 0
        }),
        $b = m.now()
    }
    function gc(a, b) {
        var c, d = {
            height: a
        }, e = 0;
        for (b = b ? 1 : 0; 4 > e; e += 2 - b)
            c = T[e],
            d["margin" + c] = d["padding" + c] = a;
        return b && (d.opacity = d.width = a),
        d
    }
    function hc(a, b, c) {
        for (var d, e = (ec[b] || []).concat(ec["*"]), f = 0, g = e.length; g > f; f++)
            if (d = e[f].call(c, b, a))
                return d
    }
    function ic(a, b, c) {
        var d, e, f, g, h, i, j, l, n = this, o = {}, p = a.style, q = a.nodeType && U(a), r = m._data(a, "fxshow");
        c.queue || (h = m._queueHooks(a, "fx"),
        null == h.unqueued && (h.unqueued = 0,
        i = h.empty.fire,
        h.empty.fire = function() {
            h.unqueued || i()
        }
        ),
        h.unqueued++,
        n.always(function() {
            n.always(function() {
                h.unqueued--,
                m.queue(a, "fx").length || h.empty.fire()
            })
        })),
        1 === a.nodeType && ("height"in b || "width"in b) && (c.overflow = [p.overflow, p.overflowX, p.overflowY],
        j = m.css(a, "display"),
        l = "none" === j ? m._data(a, "olddisplay") || Fb(a.nodeName) : j,
        "inline" === l && "none" === m.css(a, "float") && (k.inlineBlockNeedsLayout && "inline" !== Fb(a.nodeName) ? p.zoom = 1 : p.display = "inline-block")),
        c.overflow && (p.overflow = "hidden",
        k.shrinkWrapBlocks() || n.always(function() {
            p.overflow = c.overflow[0],
            p.overflowX = c.overflow[1],
            p.overflowY = c.overflow[2]
        }));
        for (d in b)
            if (e = b[d],
            ac.exec(e)) {
                if (delete b[d],
                f = f || "toggle" === e,
                e === (q ? "hide" : "show")) {
                    if ("show" !== e || !r || void 0 === r[d])
                        continue;
                    q = !0
                }
                o[d] = r && r[d] || m.style(a, d)
            } else
                j = void 0;
        if (m.isEmptyObject(o))
            "inline" === ("none" === j ? Fb(a.nodeName) : j) && (p.display = j);
        else {
            r ? "hidden"in r && (q = r.hidden) : r = m._data(a, "fxshow", {}),
            f && (r.hidden = !q),
            q ? m(a).show() : n.done(function() {
                m(a).hide()
            }),
            n.done(function() {
                var b;
                m._removeData(a, "fxshow");
                for (b in o)
                    m.style(a, b, o[b])
            });
            for (d in o)
                g = hc(q ? r[d] : 0, d, n),
                d in r || (r[d] = g.start,
                q && (g.end = g.start,
                g.start = "width" === d || "height" === d ? 1 : 0))
        }
    }
    function jc(a, b) {
        var c, d, e, f, g;
        for (c in a)
            if (d = m.camelCase(c),
            e = b[d],
            f = a[c],
            m.isArray(f) && (e = f[1],
            f = a[c] = f[0]),
            c !== d && (a[d] = f,
            delete a[c]),
            g = m.cssHooks[d],
            g && "expand"in g) {
                f = g.expand(f),
                delete a[d];
                for (c in f)
                    c in a || (a[c] = f[c],
                    b[c] = e)
            } else
                b[d] = e
    }
    function kc(a, b, c) {
        var d, e, f = 0, g = dc.length, h = m.Deferred().always(function() {
            delete i.elem
        }), i = function() {
            if (e)
                return !1;
            for (var b = $b || fc(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++)
                j.tweens[g].run(f);
            return h.notifyWith(a, [j, f, c]),
            1 > f && i ? c : (h.resolveWith(a, [j]),
            !1)
        }, j = h.promise({
            elem: a,
            props: m.extend({}, b),
            opts: m.extend(!0, {
                specialEasing: {}
            }, c),
            originalProperties: b,
            originalOptions: c,
            startTime: $b || fc(),
            duration: c.duration,
            tweens: [],
            createTween: function(b, c) {
                var d = m.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
                return j.tweens.push(d),
                d
            },
            stop: function(b) {
                var c = 0
                  , d = b ? j.tweens.length : 0;
                if (e)
                    return this;
                for (e = !0; d > c; c++)
                    j.tweens[c].run(1);
                return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]),
                this
            }
        }), k = j.props;
        for (jc(k, j.opts.specialEasing); g > f; f++)
            if (d = dc[f].call(j, a, k, j.opts))
                return d;
        return m.map(k, hc, j),
        m.isFunction(j.opts.start) && j.opts.start.call(a, j),
        m.fx.timer(m.extend(i, {
            elem: a,
            anim: j,
            queue: j.opts.queue
        })),
        j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
    }
    m.Animation = m.extend(kc, {
        tweener: function(a, b) {
            m.isFunction(a) ? (b = a,
            a = ["*"]) : a = a.split(" ");
            for (var c, d = 0, e = a.length; e > d; d++)
                c = a[d],
                ec[c] = ec[c] || [],
                ec[c].unshift(b)
        },
        prefilter: function(a, b) {
            b ? dc.unshift(a) : dc.push(a)
        }
    }),
    m.speed = function(a, b, c) {
        var d = a && "object" == typeof a ? m.extend({}, a) : {
            complete: c || !c && b || m.isFunction(a) && a,
            duration: a,
            easing: c && b || b && !m.isFunction(b) && b
        };
        return d.duration = m.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in m.fx.speeds ? m.fx.speeds[d.duration] : m.fx.speeds._default,
        (null == d.queue || d.queue === !0) && (d.queue = "fx"),
        d.old = d.complete,
        d.complete = function() {
            m.isFunction(d.old) && d.old.call(this),
            d.queue && m.dequeue(this, d.queue)
        }
        ,
        d
    }
    ,
    m.fn.extend({
        fadeTo: function(a, b, c, d) {
            return this.filter(U).css("opacity", 0).show().end().animate({
                opacity: b
            }, a, c, d)
        },
        animate: function(a, b, c, d) {
            var e = m.isEmptyObject(a)
              , f = m.speed(b, c, d)
              , g = function() {
                var b = kc(this, m.extend({}, a), f);
                (e || m._data(this, "finish")) && b.stop(!0)
            };
            return g.finish = g,
            e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
        },
        stop: function(a, b, c) {
            var d = function(a) {
                var b = a.stop;
                delete a.stop,
                b(c)
            };
            return "string" != typeof a && (c = b,
            b = a,
            a = void 0),
            b && a !== !1 && this.queue(a || "fx", []),
            this.each(function() {
                var b = !0
                  , e = null != a && a + "queueHooks"
                  , f = m.timers
                  , g = m._data(this);
                if (e)
                    g[e] && g[e].stop && d(g[e]);
                else
                    for (e in g)
                        g[e] && g[e].stop && cc.test(e) && d(g[e]);
                for (e = f.length; e--; )
                    f[e].elem !== this || null != a && f[e].queue !== a || (f[e].anim.stop(c),
                    b = !1,
                    f.splice(e, 1));
                (b || !c) && m.dequeue(this, a)
            })
        },
        finish: function(a) {
            return a !== !1 && (a = a || "fx"),
            this.each(function() {
                var b, c = m._data(this), d = c[a + "queue"], e = c[a + "queueHooks"], f = m.timers, g = d ? d.length : 0;
                for (c.finish = !0,
                m.queue(this, a, []),
                e && e.stop && e.stop.call(this, !0),
                b = f.length; b--; )
                    f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0),
                    f.splice(b, 1));
                for (b = 0; g > b; b++)
                    d[b] && d[b].finish && d[b].finish.call(this);
                delete c.finish
            })
        }
    }),
    m.each(["toggle", "show", "hide"], function(a, b) {
        var c = m.fn[b];
        m.fn[b] = function(a, d, e) {
            return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(gc(b, !0), a, d, e)
        }
    }),
    m.each({
        slideDown: gc("show"),
        slideUp: gc("hide"),
        slideToggle: gc("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(a, b) {
        m.fn[a] = function(a, c, d) {
            return this.animate(b, a, c, d)
        }
    }),
    m.timers = [],
    m.fx.tick = function() {
        var a, b = m.timers, c = 0;
        for ($b = m.now(); c < b.length; c++)
            a = b[c],
            a() || b[c] !== a || b.splice(c--, 1);
        b.length || m.fx.stop(),
        $b = void 0
    }
    ,
    m.fx.timer = function(a) {
        m.timers.push(a),
        a() ? m.fx.start() : m.timers.pop()
    }
    ,
    m.fx.interval = 13,
    m.fx.start = function() {
        _b || (_b = setInterval(m.fx.tick, m.fx.interval))
    }
    ,
    m.fx.stop = function() {
        clearInterval(_b),
        _b = null
    }
    ,
    m.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    },
    m.fn.delay = function(a, b) {
        return a = m.fx ? m.fx.speeds[a] || a : a,
        b = b || "fx",
        this.queue(b, function(b, c) {
            var d = setTimeout(b, a);
            c.stop = function() {
                clearTimeout(d)
            }
        })
    }
    ,
    function() {
        var a, b, c, d, e;
        b = y.createElement("div"),
        b.setAttribute("className", "t"),
        b.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",
        d = b.getElementsByTagName("a")[0],
        c = y.createElement("select"),
        e = c.appendChild(y.createElement("option")),
        a = b.getElementsByTagName("input")[0],
        d.style.cssText = "top:1px",
        k.getSetAttribute = "t" !== b.className,
        k.style = /top/.test(d.getAttribute("style")),
        k.hrefNormalized = "/a" === d.getAttribute("href"),
        k.checkOn = !!a.value,
        k.optSelected = e.selected,
        k.enctype = !!y.createElement("form").enctype,
        c.disabled = !0,
        k.optDisabled = !e.disabled,
        a = y.createElement("input"),
        a.setAttribute("value", ""),
        k.input = "" === a.getAttribute("value"),
        a.value = "t",
        a.setAttribute("type", "radio"),
        k.radioValue = "t" === a.value
    }();
    var lc = /\r/g;
    m.fn.extend({
        val: function(a) {
            var b, c, d, e = this[0];
            {
                if (arguments.length)
                    return d = m.isFunction(a),
                    this.each(function(c) {
                        var e;
                        1 === this.nodeType && (e = d ? a.call(this, c, m(this).val()) : a,
                        null == e ? e = "" : "number" == typeof e ? e += "" : m.isArray(e) && (e = m.map(e, function(a) {
                            return null == a ? "" : a + ""
                        })),
                        b = m.valHooks[this.type] || m.valHooks[this.nodeName.toLowerCase()],
                        b && "set"in b && void 0 !== b.set(this, e, "value") || (this.value = e))
                    });
                if (e)
                    return b = m.valHooks[e.type] || m.valHooks[e.nodeName.toLowerCase()],
                    b && "get"in b && void 0 !== (c = b.get(e, "value")) ? c : (c = e.value,
                    "string" == typeof c ? c.replace(lc, "") : null == c ? "" : c)
            }
        }
    }),
    m.extend({
        valHooks: {
            option: {
                get: function(a) {
                    var b = m.find.attr(a, "value");
                    return null != b ? b : m.trim(m.text(a))
                }
            },
            select: {
                get: function(a) {
                    for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
                        if (c = d[i],
                        !(!c.selected && i !== e || (k.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && m.nodeName(c.parentNode, "optgroup"))) {
                            if (b = m(c).val(),
                            f)
                                return b;
                            g.push(b)
                        }
                    return g
                },
                set: function(a, b) {
                    var c, d, e = a.options, f = m.makeArray(b), g = e.length;
                    while (g--)
                        if (d = e[g],
                        m.inArray(m.valHooks.option.get(d), f) >= 0)
                            try {
                                d.selected = c = !0
                            } catch (h) {
                                d.scrollHeight
                            }
                        else
                            d.selected = !1;
                    return c || (a.selectedIndex = -1),
                    e
                }
            }
        }
    }),
    m.each(["radio", "checkbox"], function() {
        m.valHooks[this] = {
            set: function(a, b) {
                return m.isArray(b) ? a.checked = m.inArray(m(a).val(), b) >= 0 : void 0
            }
        },
        k.checkOn || (m.valHooks[this].get = function(a) {
            return null === a.getAttribute("value") ? "on" : a.value
        }
        )
    });
    var mc, nc, oc = m.expr.attrHandle, pc = /^(?:checked|selected)$/i, qc = k.getSetAttribute, rc = k.input;
    m.fn.extend({
        attr: function(a, b) {
            return V(this, m.attr, a, b, arguments.length > 1)
        },
        removeAttr: function(a) {
            return this.each(function() {
                m.removeAttr(this, a)
            })
        }
    }),
    m.extend({
        attr: function(a, b, c) {
            var d, e, f = a.nodeType;
            if (a && 3 !== f && 8 !== f && 2 !== f)
                return typeof a.getAttribute === K ? m.prop(a, b, c) : (1 === f && m.isXMLDoc(a) || (b = b.toLowerCase(),
                d = m.attrHooks[b] || (m.expr.match.bool.test(b) ? nc : mc)),
                void 0 === c ? d && "get"in d && null !== (e = d.get(a, b)) ? e : (e = m.find.attr(a, b),
                null == e ? void 0 : e) : null !== c ? d && "set"in d && void 0 !== (e = d.set(a, c, b)) ? e : (a.setAttribute(b, c + ""),
                c) : void m.removeAttr(a, b))
        },
        removeAttr: function(a, b) {
            var c, d, e = 0, f = b && b.match(E);
            if (f && 1 === a.nodeType)
                while (c = f[e++])
                    d = m.propFix[c] || c,
                    m.expr.match.bool.test(c) ? rc && qc || !pc.test(c) ? a[d] = !1 : a[m.camelCase("default-" + c)] = a[d] = !1 : m.attr(a, c, ""),
                    a.removeAttribute(qc ? c : d)
        },
        attrHooks: {
            type: {
                set: function(a, b) {
                    if (!k.radioValue && "radio" === b && m.nodeName(a, "input")) {
                        var c = a.value;
                        return a.setAttribute("type", b),
                        c && (a.value = c),
                        b
                    }
                }
            }
        }
    }),
    nc = {
        set: function(a, b, c) {
            return b === !1 ? m.removeAttr(a, c) : rc && qc || !pc.test(c) ? a.setAttribute(!qc && m.propFix[c] || c, c) : a[m.camelCase("default-" + c)] = a[c] = !0,
            c
        }
    },
    m.each(m.expr.match.bool.source.match(/\w+/g), function(a, b) {
        var c = oc[b] || m.find.attr;
        oc[b] = rc && qc || !pc.test(b) ? function(a, b, d) {
            var e, f;
            return d || (f = oc[b],
            oc[b] = e,
            e = null != c(a, b, d) ? b.toLowerCase() : null,
            oc[b] = f),
            e
        }
        : function(a, b, c) {
            return c ? void 0 : a[m.camelCase("default-" + b)] ? b.toLowerCase() : null
        }
    }),
    rc && qc || (m.attrHooks.value = {
        set: function(a, b, c) {
            return m.nodeName(a, "input") ? void (a.defaultValue = b) : mc && mc.set(a, b, c)
        }
    }),
    qc || (mc = {
        set: function(a, b, c) {
            var d = a.getAttributeNode(c);
            return d || a.setAttributeNode(d = a.ownerDocument.createAttribute(c)),
            d.value = b += "",
            "value" === c || b === a.getAttribute(c) ? b : void 0
        }
    },
    oc.id = oc.name = oc.coords = function(a, b, c) {
        var d;
        return c ? void 0 : (d = a.getAttributeNode(b)) && "" !== d.value ? d.value : null
    }
    ,
    m.valHooks.button = {
        get: function(a, b) {
            var c = a.getAttributeNode(b);
            return c && c.specified ? c.value : void 0
        },
        set: mc.set
    },
    m.attrHooks.contenteditable = {
        set: function(a, b, c) {
            mc.set(a, "" === b ? !1 : b, c)
        }
    },
    m.each(["width", "height"], function(a, b) {
        m.attrHooks[b] = {
            set: function(a, c) {
                return "" === c ? (a.setAttribute(b, "auto"),
                c) : void 0
            }
        }
    })),
    k.style || (m.attrHooks.style = {
        get: function(a) {
            return a.style.cssText || void 0
        },
        set: function(a, b) {
            return a.style.cssText = b + ""
        }
    });
    var sc = /^(?:input|select|textarea|button|object)$/i
      , tc = /^(?:a|area)$/i;
    m.fn.extend({
        prop: function(a, b) {
            return V(this, m.prop, a, b, arguments.length > 1)
        },
        removeProp: function(a) {
            return a = m.propFix[a] || a,
            this.each(function() {
                try {
                    this[a] = void 0,
                    delete this[a]
                } catch (b) {}
            })
        }
    }),
    m.extend({
        propFix: {
            "for": "htmlFor",
            "class": "className"
        },
        prop: function(a, b, c) {
            var d, e, f, g = a.nodeType;
            if (a && 3 !== g && 8 !== g && 2 !== g)
                return f = 1 !== g || !m.isXMLDoc(a),
                f && (b = m.propFix[b] || b,
                e = m.propHooks[b]),
                void 0 !== c ? e && "set"in e && void 0 !== (d = e.set(a, c, b)) ? d : a[b] = c : e && "get"in e && null !== (d = e.get(a, b)) ? d : a[b]
        },
        propHooks: {
            tabIndex: {
                get: function(a) {
                    var b = m.find.attr(a, "tabindex");
                    return b ? parseInt(b, 10) : sc.test(a.nodeName) || tc.test(a.nodeName) && a.href ? 0 : -1
                }
            }
        }
    }),
    k.hrefNormalized || m.each(["href", "src"], function(a, b) {
        m.propHooks[b] = {
            get: function(a) {
                return a.getAttribute(b, 4)
            }
        }
    }),
    k.optSelected || (m.propHooks.selected = {
        get: function(a) {
            var b = a.parentNode;
            return b && (b.selectedIndex,
            b.parentNode && b.parentNode.selectedIndex),
            null
        }
    }),
    m.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        m.propFix[this.toLowerCase()] = this
    }),
    k.enctype || (m.propFix.enctype = "encoding");
    var uc = /[\t\r\n\f]/g;
    m.fn.extend({
        addClass: function(a) {
            var b, c, d, e, f, g, h = 0, i = this.length, j = "string" == typeof a && a;
            if (m.isFunction(a))
                return this.each(function(b) {
                    m(this).addClass(a.call(this, b, this.className))
                });
            if (j)
                for (b = (a || "").match(E) || []; i > h; h++)
                    if (c = this[h],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(uc, " ") : " ")) {
                        f = 0;
                        while (e = b[f++])
                            d.indexOf(" " + e + " ") < 0 && (d += e + " ");
                        g = m.trim(d),
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        removeClass: function(a) {
            var b, c, d, e, f, g, h = 0, i = this.length, j = 0 === arguments.length || "string" == typeof a && a;
            if (m.isFunction(a))
                return this.each(function(b) {
                    m(this).removeClass(a.call(this, b, this.className))
                });
            if (j)
                for (b = (a || "").match(E) || []; i > h; h++)
                    if (c = this[h],
                    d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(uc, " ") : "")) {
                        f = 0;
                        while (e = b[f++])
                            while (d.indexOf(" " + e + " ") >= 0)
                                d = d.replace(" " + e + " ", " ");
                        g = a ? m.trim(d) : "",
                        c.className !== g && (c.className = g)
                    }
            return this
        },
        toggleClass: function(a, b) {
            var c = typeof a;
            return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(m.isFunction(a) ? function(c) {
                m(this).toggleClass(a.call(this, c, this.className, b), b)
            }
            : function() {
                if ("string" === c) {
                    var b, d = 0, e = m(this), f = a.match(E) || [];
                    while (b = f[d++])
                        e.hasClass(b) ? e.removeClass(b) : e.addClass(b)
                } else
                    (c === K || "boolean" === c) && (this.className && m._data(this, "__className__", this.className),
                    this.className = this.className || a === !1 ? "" : m._data(this, "__className__") || "")
            }
            )
        },
        hasClass: function(a) {
            for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
                if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(uc, " ").indexOf(b) >= 0)
                    return !0;
            return !1
        }
    }),
    m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
        m.fn[b] = function(a, c) {
            return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
        }
    }),
    m.fn.extend({
        hover: function(a, b) {
            return this.mouseenter(a).mouseleave(b || a)
        },
        bind: function(a, b, c) {
            return this.on(a, null, b, c)
        },
        unbind: function(a, b) {
            return this.off(a, null, b)
        },
        delegate: function(a, b, c, d) {
            return this.on(b, a, c, d)
        },
        undelegate: function(a, b, c) {
            return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
        }
    });
    var vc = m.now()
      , wc = /\?/
      , xc = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    m.parseJSON = function(b) {
        if (a.JSON && a.JSON.parse)
            return a.JSON.parse(b + "");
        var c, d = null, e = m.trim(b + "");
        return e && !m.trim(e.replace(xc, function(a, b, e, f) {
            return c && b && (d = 0),
            0 === d ? a : (c = e || b,
            d += !f - !e,
            "")
        })) ? Function("return " + e)() : m.error("Invalid JSON: " + b)
    }
    ,
    m.parseXML = function(b) {
        var c, d;
        if (!b || "string" != typeof b)
            return null;
        try {
            a.DOMParser ? (d = new DOMParser,
            c = d.parseFromString(b, "text/xml")) : (c = new ActiveXObject("Microsoft.XMLDOM"),
            c.async = "false",
            c.loadXML(b))
        } catch (e) {
            c = void 0
        }
        return c && c.documentElement && !c.getElementsByTagName("parsererror").length || m.error("Invalid XML: " + b),
        c
    }
    ;
    var yc, zc, Ac = /#.*$/, Bc = /([?&])_=[^&]*/, Cc = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm, Dc = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/, Ec = /^(?:GET|HEAD)$/, Fc = /^\/\//, Gc = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/, Hc = {}, Ic = {}, Jc = "*/".concat("*");
    try {
        zc = location.href
    } catch (Kc) {
        zc = y.createElement("a"),
        zc.href = "",
        zc = zc.href
    }
    yc = Gc.exec(zc.toLowerCase()) || [];
    function Lc(a) {
        return function(b, c) {
            "string" != typeof b && (c = b,
            b = "*");
            var d, e = 0, f = b.toLowerCase().match(E) || [];
            if (m.isFunction(c))
                while (d = f[e++])
                    "+" === d.charAt(0) ? (d = d.slice(1) || "*",
                    (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
        }
    }
    function Mc(a, b, c, d) {
        var e = {}
          , f = a === Ic;
        function g(h) {
            var i;
            return e[h] = !0,
            m.each(a[h] || [], function(a, h) {
                var j = h(b, c, d);
                return "string" != typeof j || f || e[j] ? f ? !(i = j) : void 0 : (b.dataTypes.unshift(j),
                g(j),
                !1)
            }),
            i
        }
        return g(b.dataTypes[0]) || !e["*"] && g("*")
    }
    function Nc(a, b) {
        var c, d, e = m.ajaxSettings.flatOptions || {};
        for (d in b)
            void 0 !== b[d] && ((e[d] ? a : c || (c = {}))[d] = b[d]);
        return c && m.extend(!0, a, c),
        a
    }
    function Oc(a, b, c) {
        var d, e, f, g, h = a.contents, i = a.dataTypes;
        while ("*" === i[0])
            i.shift(),
            void 0 === e && (e = a.mimeType || b.getResponseHeader("Content-Type"));
        if (e)
            for (g in h)
                if (h[g] && h[g].test(e)) {
                    i.unshift(g);
                    break
                }
        if (i[0]in c)
            f = i[0];
        else {
            for (g in c) {
                if (!i[0] || a.converters[g + " " + i[0]]) {
                    f = g;
                    break
                }
                d || (d = g)
            }
            f = f || d
        }
        return f ? (f !== i[0] && i.unshift(f),
        c[f]) : void 0
    }
    function Pc(a, b, c, d) {
        var e, f, g, h, i, j = {}, k = a.dataTypes.slice();
        if (k[1])
            for (g in a.converters)
                j[g.toLowerCase()] = a.converters[g];
        f = k.shift();
        while (f)
            if (a.responseFields[f] && (c[a.responseFields[f]] = b),
            !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)),
            i = f,
            f = k.shift())
                if ("*" === f)
                    f = i;
                else if ("*" !== i && i !== f) {
                    if (g = j[i + " " + f] || j["* " + f],
                    !g)
                        for (e in j)
                            if (h = e.split(" "),
                            h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
                                g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0],
                                k.unshift(h[1]));
                                break
                            }
                    if (g !== !0)
                        if (g && a["throws"])
                            b = g(b);
                        else
                            try {
                                b = g(b)
                            } catch (l) {
                                return {
                                    state: "parsererror",
                                    error: g ? l : "No conversion from " + i + " to " + f
                                }
                            }
                }
        return {
            state: "success",
            data: b
        }
    }
    m.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: zc,
            type: "GET",
            isLocal: Dc.test(yc[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Jc,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /xml/,
                html: /html/,
                json: /json/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": m.parseJSON,
                "text xml": m.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(a, b) {
            return b ? Nc(Nc(a, m.ajaxSettings), b) : Nc(m.ajaxSettings, a)
        },
        ajaxPrefilter: Lc(Hc),
        ajaxTransport: Lc(Ic),
        ajax: function(a, b) {
            "object" == typeof a && (b = a,
            a = void 0),
            b = b || {};
            var c, d, e, f, g, h, i, j, k = m.ajaxSetup({}, b), l = k.context || k, n = k.context && (l.nodeType || l.jquery) ? m(l) : m.event, o = m.Deferred(), p = m.Callbacks("once memory"), q = k.statusCode || {}, r = {}, s = {}, t = 0, u = "canceled", v = {
                readyState: 0,
                getResponseHeader: function(a) {
                    var b;
                    if (2 === t) {
                        if (!j) {
                            j = {};
                            while (b = Cc.exec(f))
                                j[b[1].toLowerCase()] = b[2]
                        }
                        b = j[a.toLowerCase()]
                    }
                    return null == b ? null : b
                },
                getAllResponseHeaders: function() {
                    return 2 === t ? f : null
                },
                setRequestHeader: function(a, b) {
                    var c = a.toLowerCase();
                    return t || (a = s[c] = s[c] || a,
                    r[a] = b),
                    this
                },
                overrideMimeType: function(a) {
                    return t || (k.mimeType = a),
                    this
                },
                statusCode: function(a) {
                    var b;
                    if (a)
                        if (2 > t)
                            for (b in a)
                                q[b] = [q[b], a[b]];
                        else
                            v.always(a[v.status]);
                    return this
                },
                abort: function(a) {
                    var b = a || u;
                    return i && i.abort(b),
                    x(0, b),
                    this
                }
            };
            if (o.promise(v).complete = p.add,
            v.success = v.done,
            v.error = v.fail,
            k.url = ((a || k.url || zc) + "").replace(Ac, "").replace(Fc, yc[1] + "//"),
            k.type = b.method || b.type || k.method || k.type,
            k.dataTypes = m.trim(k.dataType || "*").toLowerCase().match(E) || [""],
            null == k.crossDomain && (c = Gc.exec(k.url.toLowerCase()),
            k.crossDomain = !(!c || c[1] === yc[1] && c[2] === yc[2] && (c[3] || ("http:" === c[1] ? "80" : "443")) === (yc[3] || ("http:" === yc[1] ? "80" : "443")))),
            k.data && k.processData && "string" != typeof k.data && (k.data = m.param(k.data, k.traditional)),
            Mc(Hc, k, b, v),
            2 === t)
                return v;
            h = k.global,
            h && 0 === m.active++ && m.event.trigger("ajaxStart"),
            k.type = k.type.toUpperCase(),
            k.hasContent = !Ec.test(k.type),
            e = k.url,
            k.hasContent || (k.data && (e = k.url += (wc.test(e) ? "&" : "?") + k.data,
            delete k.data),
            k.cache === !1 && (k.url = Bc.test(e) ? e.replace(Bc, "$1_=" + vc++) : e + (wc.test(e) ? "&" : "?") + "_=" + vc++)),
            k.ifModified && (m.lastModified[e] && v.setRequestHeader("If-Modified-Since", m.lastModified[e]),
            m.etag[e] && v.setRequestHeader("If-None-Match", m.etag[e])),
            (k.data && k.hasContent && k.contentType !== !1 || b.contentType) && v.setRequestHeader("Content-Type", k.contentType),
            v.setRequestHeader("Accept", k.dataTypes[0] && k.accepts[k.dataTypes[0]] ? k.accepts[k.dataTypes[0]] + ("*" !== k.dataTypes[0] ? ", " + Jc + "; q=0.01" : "") : k.accepts["*"]);
            for (d in k.headers)
                v.setRequestHeader(d, k.headers[d]);
            if (k.beforeSend && (k.beforeSend.call(l, v, k) === !1 || 2 === t))
                return v.abort();
            u = "abort";
            for (d in {
                success: 1,
                error: 1,
                complete: 1
            })
                v[d](k[d]);
            if (i = Mc(Ic, k, b, v)) {
                v.readyState = 1,
                h && n.trigger("ajaxSend", [v, k]),
                k.async && k.timeout > 0 && (g = setTimeout(function() {
                    v.abort("timeout")
                }, k.timeout));
                try {
                    t = 1,
                    i.send(r, x)
                } catch (w) {
                    if (!(2 > t))
                        throw w;
                    x(-1, w)
                }
            } else
                x(-1, "No Transport");
            function x(a, b, c, d) {
                var j, r, s, u, w, x = b;
                2 !== t && (t = 2,
                g && clearTimeout(g),
                i = void 0,
                f = d || "",
                v.readyState = a > 0 ? 4 : 0,
                j = a >= 200 && 300 > a || 304 === a,
                c && (u = Oc(k, v, c)),
                u = Pc(k, u, v, j),
                j ? (k.ifModified && (w = v.getResponseHeader("Last-Modified"),
                w && (m.lastModified[e] = w),
                w = v.getResponseHeader("etag"),
                w && (m.etag[e] = w)),
                204 === a || "HEAD" === k.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = u.state,
                r = u.data,
                s = u.error,
                j = !s)) : (s = x,
                (a || !x) && (x = "error",
                0 > a && (a = 0))),
                v.status = a,
                v.statusText = (b || x) + "",
                j ? o.resolveWith(l, [r, x, v]) : o.rejectWith(l, [v, x, s]),
                v.statusCode(q),
                q = void 0,
                h && n.trigger(j ? "ajaxSuccess" : "ajaxError", [v, k, j ? r : s]),
                p.fireWith(l, [v, x]),
                h && (n.trigger("ajaxComplete", [v, k]),
                --m.active || m.event.trigger("ajaxStop")))
            }
            return v
        },
        getJSON: function(a, b, c) {
            return m.get(a, b, c, "json")
        },
        getScript: function(a, b) {
            return m.get(a, void 0, b, "script")
        }
    }),
    m.each(["get", "post"], function(a, b) {
        m[b] = function(a, c, d, e) {
            return m.isFunction(c) && (e = e || d,
            d = c,
            c = void 0),
            m.ajax({
                url: a,
                type: b,
                dataType: e,
                data: c,
                success: d
            })
        }
    }),
    m.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
        m.fn[b] = function(a) {
            return this.on(b, a)
        }
    }),
    m._evalUrl = function(a) {
        return m.ajax({
            url: a,
            type: "GET",
            dataType: "script",
            async: !1,
            global: !1,
            "throws": !0
        })
    }
    ,
    m.fn.extend({
        wrapAll: function(a) {
            if (m.isFunction(a))
                return this.each(function(b) {
                    m(this).wrapAll(a.call(this, b))
                });
            if (this[0]) {
                var b = m(a, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && b.insertBefore(this[0]),
                b.map(function() {
                    var a = this;
                    while (a.firstChild && 1 === a.firstChild.nodeType)
                        a = a.firstChild;
                    return a
                }).append(this)
            }
            return this
        },
        wrapInner: function(a) {
            return this.each(m.isFunction(a) ? function(b) {
                m(this).wrapInner(a.call(this, b))
            }
            : function() {
                var b = m(this)
                  , c = b.contents();
                c.length ? c.wrapAll(a) : b.append(a)
            }
            )
        },
        wrap: function(a) {
            var b = m.isFunction(a);
            return this.each(function(c) {
                m(this).wrapAll(b ? a.call(this, c) : a)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                m.nodeName(this, "body") || m(this).replaceWith(this.childNodes)
            }).end()
        }
    }),
    m.expr.filters.hidden = function(a) {
        return a.offsetWidth <= 0 && a.offsetHeight <= 0 || !k.reliableHiddenOffsets() && "none" === (a.style && a.style.display || m.css(a, "display"))
    }
    ,
    m.expr.filters.visible = function(a) {
        return !m.expr.filters.hidden(a)
    }
    ;
    var Qc = /%20/g
      , Rc = /\[\]$/
      , Sc = /\r?\n/g
      , Tc = /^(?:submit|button|image|reset|file)$/i
      , Uc = /^(?:input|select|textarea|keygen)/i;
    function Vc(a, b, c, d) {
        var e;
        if (m.isArray(b))
            m.each(b, function(b, e) {
                c || Rc.test(a) ? d(a, e) : Vc(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
            });
        else if (c || "object" !== m.type(b))
            d(a, b);
        else
            for (e in b)
                Vc(a + "[" + e + "]", b[e], c, d)
    }
    m.param = function(a, b) {
        var c, d = [], e = function(a, b) {
            b = m.isFunction(b) ? b() : null == b ? "" : b,
            d[d.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
        };
        if (void 0 === b && (b = m.ajaxSettings && m.ajaxSettings.traditional),
        m.isArray(a) || a.jquery && !m.isPlainObject(a))
            m.each(a, function() {
                e(this.name, this.value)
            });
        else
            for (c in a)
                Vc(c, a[c], b, e);
        return d.join("&").replace(Qc, "+")
    }
    ,
    m.fn.extend({
        serialize: function() {
            return m.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var a = m.prop(this, "elements");
                return a ? m.makeArray(a) : this
            }).filter(function() {
                var a = this.type;
                return this.name && !m(this).is(":disabled") && Uc.test(this.nodeName) && !Tc.test(a) && (this.checked || !W.test(a))
            }).map(function(a, b) {
                var c = m(this).val();
                return null == c ? null : m.isArray(c) ? m.map(c, function(a) {
                    return {
                        name: b.name,
                        value: a.replace(Sc, "\r\n")
                    }
                }) : {
                    name: b.name,
                    value: c.replace(Sc, "\r\n")
                }
            }).get()
        }
    }),
    m.ajaxSettings.xhr = void 0 !== a.ActiveXObject ? function() {
        return !this.isLocal && /^(get|post|head|put|delete|options)$/i.test(this.type) && Zc() || $c()
    }
    : Zc;
    var Wc = 0
      , Xc = {}
      , Yc = m.ajaxSettings.xhr();
    a.ActiveXObject && m(a).on("unload", function() {
        for (var a in Xc)
            Xc[a](void 0, !0)
    }),
    k.cors = !!Yc && "withCredentials"in Yc,
    Yc = k.ajax = !!Yc,
    Yc && m.ajaxTransport(function(a) {
        if (!a.crossDomain || k.cors) {
            var b;
            return {
                send: function(c, d) {
                    var e, f = a.xhr(), g = ++Wc;
                    if (f.open(a.type, a.url, a.async, a.username, a.password),
                    a.xhrFields)
                        for (e in a.xhrFields)
                            f[e] = a.xhrFields[e];
                    a.mimeType && f.overrideMimeType && f.overrideMimeType(a.mimeType),
                    a.crossDomain || c["X-Requested-With"] || (c["X-Requested-With"] = "XMLHttpRequest");
                    for (e in c)
                        void 0 !== c[e] && f.setRequestHeader(e, c[e] + "");
                    f.send(a.hasContent && a.data || null),
                    b = function(c, e) {
                        var h, i, j;
                        if (b && (e || 4 === f.readyState))
                            if (delete Xc[g],
                            b = void 0,
                            f.onreadystatechange = m.noop,
                            e)
                                4 !== f.readyState && f.abort();
                            else {
                                j = {},
                                h = f.status,
                                "string" == typeof f.responseText && (j.text = f.responseText);
                                try {
                                    i = f.statusText
                                } catch (k) {
                                    i = ""
                                }
                                h || !a.isLocal || a.crossDomain ? 1223 === h && (h = 204) : h = j.text ? 200 : 404
                            }
                        j && d(h, i, j, f.getAllResponseHeaders())
                    }
                    ,
                    a.async ? 4 === f.readyState ? setTimeout(b) : f.onreadystatechange = Xc[g] = b : b()
                },
                abort: function() {
                    b && b(void 0, !0)
                }
            }
        }
    });
    function Zc() {
        try {
            return new a.XMLHttpRequest
        } catch (b) {}
    }
    function $c() {
        try {
            return new a.ActiveXObject("Microsoft.XMLHTTP")
        } catch (b) {}
    }
    m.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /(?:java|ecma)script/
        },
        converters: {
            "text script": function(a) {
                return m.globalEval(a),
                a
            }
        }
    }),
    m.ajaxPrefilter("script", function(a) {
        void 0 === a.cache && (a.cache = !1),
        a.crossDomain && (a.type = "GET",
        a.global = !1)
    }),
    m.ajaxTransport("script", function(a) {
        if (a.crossDomain) {
            var b, c = y.head || m("head")[0] || y.documentElement;
            return {
                send: function(d, e) {
                    b = y.createElement("script"),
                    b.async = !0,
                    a.scriptCharset && (b.charset = a.scriptCharset),
                    b.src = a.url,
                    b.onload = b.onreadystatechange = function(a, c) {
                        (c || !b.readyState || /loaded|complete/.test(b.readyState)) && (b.onload = b.onreadystatechange = null,
                        b.parentNode && b.parentNode.removeChild(b),
                        b = null,
                        c || e(200, "success"))
                    }
                    ,
                    c.insertBefore(b, c.firstChild)
                },
                abort: function() {
                    b && b.onload(void 0, !0)
                }
            }
        }
    });
    var _c = []
      , ad = /(=)\?(?=&|$)|\?\?/;
    m.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var a = _c.pop() || m.expando + "_" + vc++;
            return this[a] = !0,
            a
        }
    }),
    m.ajaxPrefilter("json jsonp", function(b, c, d) {
        var e, f, g, h = b.jsonp !== !1 && (ad.test(b.url) ? "url" : "string" == typeof b.data && !(b.contentType || "").indexOf("application/x-www-form-urlencoded") && ad.test(b.data) && "data");
        return h || "jsonp" === b.dataTypes[0] ? (e = b.jsonpCallback = m.isFunction(b.jsonpCallback) ? b.jsonpCallback() : b.jsonpCallback,
        h ? b[h] = b[h].replace(ad, "$1" + e) : b.jsonp !== !1 && (b.url += (wc.test(b.url) ? "&" : "?") + b.jsonp + "=" + e),
        b.converters["script json"] = function() {
            return g || m.error(e + " was not called"),
            g[0]
        }
        ,
        b.dataTypes[0] = "json",
        f = a[e],
        a[e] = function() {
            g = arguments
        }
        ,
        d.always(function() {
            a[e] = f,
            b[e] && (b.jsonpCallback = c.jsonpCallback,
            _c.push(e)),
            g && m.isFunction(f) && f(g[0]),
            g = f = void 0
        }),
        "script") : void 0
    }),
    m.parseHTML = function(a, b, c) {
        if (!a || "string" != typeof a)
            return null;
        "boolean" == typeof b && (c = b,
        b = !1),
        b = b || y;
        var d = u.exec(a)
          , e = !c && [];
        return d ? [b.createElement(d[1])] : (d = m.buildFragment([a], b, e),
        e && e.length && m(e).remove(),
        m.merge([], d.childNodes))
    }
    ;
    var bd = m.fn.load;
    m.fn.load = function(a, b, c) {
        if ("string" != typeof a && bd)
            return bd.apply(this, arguments);
        var d, e, f, g = this, h = a.indexOf(" ");
        return h >= 0 && (d = m.trim(a.slice(h, a.length)),
        a = a.slice(0, h)),
        m.isFunction(b) ? (c = b,
        b = void 0) : b && "object" == typeof b && (f = "POST"),
        g.length > 0 && m.ajax({
            url: a,
            type: f,
            dataType: "html",
            data: b
        }).done(function(a) {
            e = arguments,
            g.html(d ? m("<div>").append(m.parseHTML(a)).find(d) : a)
        }).complete(c && function(a, b) {
            g.each(c, e || [a.responseText, b, a])
        }
        ),
        this
    }
    ,
    m.expr.filters.animated = function(a) {
        return m.grep(m.timers, function(b) {
            return a === b.elem
        }).length
    }
    ;
    var cd = a.document.documentElement;
    function dd(a) {
        return m.isWindow(a) ? a : 9 === a.nodeType ? a.defaultView || a.parentWindow : !1
    }
    m.offset = {
        setOffset: function(a, b, c) {
            var d, e, f, g, h, i, j, k = m.css(a, "position"), l = m(a), n = {};
            "static" === k && (a.style.position = "relative"),
            h = l.offset(),
            f = m.css(a, "top"),
            i = m.css(a, "left"),
            j = ("absolute" === k || "fixed" === k) && m.inArray("auto", [f, i]) > -1,
            j ? (d = l.position(),
            g = d.top,
            e = d.left) : (g = parseFloat(f) || 0,
            e = parseFloat(i) || 0),
            m.isFunction(b) && (b = b.call(a, c, h)),
            null != b.top && (n.top = b.top - h.top + g),
            null != b.left && (n.left = b.left - h.left + e),
            "using"in b ? b.using.call(a, n) : l.css(n)
        }
    },
    m.fn.extend({
        offset: function(a) {
            if (arguments.length)
                return void 0 === a ? this : this.each(function(b) {
                    m.offset.setOffset(this, a, b)
                });
            var b, c, d = {
                top: 0,
                left: 0
            }, e = this[0], f = e && e.ownerDocument;
            if (f)
                return b = f.documentElement,
                m.contains(b, e) ? (typeof e.getBoundingClientRect !== K && (d = e.getBoundingClientRect()),
                c = dd(f),
                {
                    top: d.top + (c.pageYOffset || b.scrollTop) - (b.clientTop || 0),
                    left: d.left + (c.pageXOffset || b.scrollLeft) - (b.clientLeft || 0)
                }) : d
        },
        position: function() {
            if (this[0]) {
                var a, b, c = {
                    top: 0,
                    left: 0
                }, d = this[0];
                return "fixed" === m.css(d, "position") ? b = d.getBoundingClientRect() : (a = this.offsetParent(),
                b = this.offset(),
                m.nodeName(a[0], "html") || (c = a.offset()),
                c.top += m.css(a[0], "borderTopWidth", !0),
                c.left += m.css(a[0], "borderLeftWidth", !0)),
                {
                    top: b.top - c.top - m.css(d, "marginTop", !0),
                    left: b.left - c.left - m.css(d, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                var a = this.offsetParent || cd;
                while (a && !m.nodeName(a, "html") && "static" === m.css(a, "position"))
                    a = a.offsetParent;
                return a || cd
            })
        }
    }),
    m.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(a, b) {
        var c = /Y/.test(b);
        m.fn[a] = function(d) {
            return V(this, function(a, d, e) {
                var f = dd(a);
                return void 0 === e ? f ? b in f ? f[b] : f.document.documentElement[d] : a[d] : void (f ? f.scrollTo(c ? m(f).scrollLeft() : e, c ? e : m(f).scrollTop()) : a[d] = e)
            }, a, d, arguments.length, null)
        }
    }),
    m.each(["top", "left"], function(a, b) {
        m.cssHooks[b] = Lb(k.pixelPosition, function(a, c) {
            return c ? (c = Jb(a, b),
            Hb.test(c) ? m(a).position()[b] + "px" : c) : void 0
        })
    }),
    m.each({
        Height: "height",
        Width: "width"
    }, function(a, b) {
        m.each({
            padding: "inner" + a,
            content: b,
            "": "outer" + a
        }, function(c, d) {
            m.fn[d] = function(d, e) {
                var f = arguments.length && (c || "boolean" != typeof d)
                  , g = c || (d === !0 || e === !0 ? "margin" : "border");
                return V(this, function(b, c, d) {
                    var e;
                    return m.isWindow(b) ? b.document.documentElement["client" + a] : 9 === b.nodeType ? (e = b.documentElement,
                    Math.max(b.body["scroll" + a], e["scroll" + a], b.body["offset" + a], e["offset" + a], e["client" + a])) : void 0 === d ? m.css(b, c, g) : m.style(b, c, d, g)
                }, b, f ? d : void 0, f, null)
            }
        })
    }),
    m.fn.size = function() {
        return this.length
    }
    ,
    m.fn.andSelf = m.fn.addBack,
    "function" == typeof define && define.amd && define("jquery", [], function() {
        return m
    });
    var ed = a.jQuery
      , fd = a.$;
    return m.noConflict = function(b) {
        return a.$ === m && (a.$ = fd),
        b && a.jQuery === m && (a.jQuery = ed),
        m
    }
    ,
    typeof b === K && (a.jQuery = a.$ = m),
    m
});

/* /vendor/jquery/jquery.browser.js */
if (jQuery.browser == undefined) {
    (function(jQuery) {
        var matched, browser;
        jQuery.uaMatch = function(ua) {
            ua = ua.toLowerCase();
            var match = /(chrome)[ \/]([\w.]+)/.exec(ua) || /(webkit)[ \/]([\w.]+)/.exec(ua) || /(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua) || /(msie) ([\w.]+)/.exec(ua) || ua.indexOf("compatible") < 0 && /(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua) || [];
            return {
                browser: match[1] || "",
                version: match[2] || "0"
            }
        }
        ;
        matched = jQuery.uaMatch(navigator.userAgent);
        browser = {};
        if (matched.browser) {
            browser[matched.browser] = !0;
            browser.version = matched.version
        }
        if (browser.chrome) {
            browser.webkit = !0
        } else if (browser.webkit) {
            browser.safari = !0
        }
        jQuery.browser = browser
    }
    )(jQuery)
}
;/* /vendor/jquery/jquery.scrollTo.min.js */
(function(k) {
    'use strict';
    k(['jquery'], function($) {
        var j = $.scrollTo = function(a, b, c) {
            return $(window).scrollTo(a, b, c)
        }
        ;
        j.defaults = {
            axis: 'xy',
            duration: 0,
            limit: !0
        };
        j.window = function(a) {
            return $(window)._scrollable()
        }
        ;
        $.fn._scrollable = function() {
            return this.map(function() {
                var a = this
                  , isWin = !a.nodeName || $.inArray(a.nodeName.toLowerCase(), ['iframe', '#document', 'html', 'body']) != -1;
                if (!isWin)
                    return a;
                var b = (a.contentWindow || a).document || a.ownerDocument || a;
                return /webkit/i.test(navigator.userAgent) || b.compatMode == 'BackCompat' ? b.body : b.documentElement
            })
        }
        ;
        $.fn.scrollTo = function(f, g, h) {
            if (typeof g == 'object') {
                h = g;
                g = 0
            }
            if (typeof h == 'function')
                h = {
                    onAfter: h
                };
            if (f == 'max')
                f = 9e9;
            h = $.extend({}, j.defaults, h);
            g = g || h.duration;
            h.queue = h.queue && h.axis.length > 1;
            if (h.queue)
                g /= 2;
            h.offset = both(h.offset);
            h.over = both(h.over);
            return this._scrollable().each(function() {
                if (f == null)
                    return;
                var d = this, $elem = $(d), targ = f, toff, attr = {}, win = $elem.is('html,body');
                switch (typeof targ) {
                case 'number':
                case 'string':
                    if (/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)) {
                        targ = both(targ);
                        break
                    }
                    targ = win ? $(targ) : $(targ, this);
                    if (!targ.length)
                        return;
                case 'object':
                    if (targ.is || targ.style)
                        toff = (targ = $(targ)).offset()
                }
                var e = $.isFunction(h.offset) && h.offset(d, targ) || h.offset;
                $.each(h.axis.split(''), function(i, a) {
                    var b = a == 'x' ? 'Left' : 'Top'
                      , pos = b.toLowerCase()
                      , key = 'scroll' + b
                      , old = d[key]
                      , max = j.max(d, a);
                    if (toff) {
                        attr[key] = toff[pos] + (win ? 0 : old - $elem.offset()[pos]);
                        if (h.margin) {
                            attr[key] -= parseInt(targ.css('margin' + b)) || 0;
                            attr[key] -= parseInt(targ.css('border' + b + 'Width')) || 0
                        }
                        attr[key] += e[pos] || 0;
                        if (h.over[pos])
                            attr[key] += targ[a == 'x' ? 'width' : 'height']() * h.over[pos]
                    } else {
                        var c = targ[pos];
                        attr[key] = c.slice && c.slice(-1) == '%' ? parseFloat(c) / 100 * max : c
                    }
                    if (h.limit && /^\d+$/.test(attr[key]))
                        attr[key] = attr[key] <= 0 ? 0 : Math.min(attr[key], max);
                    if (!i && h.queue) {
                        if (old != attr[key])
                            animate(h.onAfterFirst);
                        delete attr[key]
                    }
                });
                animate(h.onAfter);
                function animate(a) {
                    $elem.animate(attr, g, h.easing, a && function() {
                        a.call(this, targ, h)
                    }
                    )
                }
            }).end()
        }
        ;
        j.max = function(a, b) {
            var c = b == 'x' ? 'Width' : 'Height'
              , scroll = 'scroll' + c;
            if (!$(a).is('html,body'))
                return a[scroll] - $(a)[c.toLowerCase()]();
            var d = 'client' + c
              , html = a.ownerDocument.documentElement
              , body = a.ownerDocument.body;
            return Math.max(html[scroll], body[scroll]) - Math.min(html[d], body[d])
        }
        ;
        function both(a) {
            return $.isFunction(a) || $.isPlainObject(a) ? a : {
                top: a,
                left: a
            }
        }
        return j
    })
}(typeof define === 'function' && define.amd ? define : function(a, b) {
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = b(require('jquery'))
    } else {
        b(jQuery)
    }
}
));
/* /vendor/application/misc.js */
(function($) {
    $.fn.reset = function() {
        return this.each(function() {
            if ($(this).is('form')) {
                this.reset()
            }
        })
    }
    ;
    $.fn.selectRange = function(start, end) {
        return this.each(function() {
            if (this.setSelectionRange) {
                this.focus();
                this.setSelectionRange(start, end)
            } else if (this.createTextRange) {
                var range = this.createTextRange();
                range.collapse(!0);
                range.moveEnd('character', end);
                range.moveStart('character', start);
                range.select()
            }
        })
    }
}
)(jQuery);
var popup;
function showPopup(url, width, height) {
    if (popup != undefined && !popup.closed) {
        popup.close()
    }
    if (width == undefined)
        width = 656;
    if (height == undefined)
        height = 296;
    var top = Math.round((screen.availHeight / 2) - (height / 2)) - 18;
    var left = Math.round((screen.availWidth / 2) - (width / 2)) - 9;
    popup = window.open(url, '', 'top=' + top + ',left=' + left + ',directories=0,location=0,menubar=0,status=0,toolbar=0,scrollbars=2,resizable=0,width=' + width + ',height=' + height + '')
}
function str_replace(search, replace, subject, count) {
    var j = 0
      , temp = ''
      , repl = ''
      , fl = 0
      , f = [].concat(search)
      , r = [].concat(replace)
      , s = subject
      , ra = Object.prototype.toString.call(r) === '[object Array]'
      , sa = Object.prototype.toString.call(s) === '[object Array]';
    s = [].concat(s);
    if (count) {
        this.window[count] = 0
    }
    for (var i = 0, sl = s.length; i < sl; i++) {
        if (s[i] === '') {
            continue
        }
        for (j = 0,
        fl = f.length; j < fl; j++) {
            temp = s[i] + '';
            repl = ra ? (r[j] !== undefined ? r[j] : '') : r[0];
            s[i] = (temp).split(f[j]).join(repl);
            if (count && s[i] !== temp) {
                this.window[count] += (temp.length - s[i].length) / f[j].length
            }
        }
    }
    return sa ? s : s[0]
}
function l10n(key, params) {
    var search = []
      , replace = [];
    search.push('{BR}');
    replace.push('<br>');
    search.push('{BREAK_LINE}');
    replace.push('<br>');
    for (var i in params) {
        if (params.hasOwnProperty(i)) {
            search.push(i);
            replace.push(params[i])
        }
    }
    if (GLOBAL.l10n && GLOBAL.l10n[key]) {
        return str_replace(search, replace, GLOBAL.l10n[key])
    } else {
        sendAjax(GLOBAL.URI_PREFIX + "_widget/l10n/set/", {
            value: key
        });
        GLOBAL.l10n[key] = key
    }
    return str_replace(search, replace, key)
}
function getCountText(count, str_1, str_2, str_3) {
    var str = "";
    str_1 = str_1 || l10n("");
    str_2 = str_2 || l10n("");
    str_3 = str_3 || l10n("");
    if (count > 10 && count < 20) {
        str = str_3 || l10n("")
    } else {
        switch (count.toString().substr(-1)) {
        case "1":
            str = str_1;
            break;
        case "2":
        case "3":
        case "4":
            str = str_2;
            break;
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
        case "0":
        default:
            str = str_3;
            break
        }
    }
    return str
}
function sendAjax(url, params, callback, type) {
    type = type || 'POST';
    if (typeof params === "function") {
        callback = params;
        params = {}
    }
    if (url.indexOf('/js/') === 0) {
        url = '/themes/' + GLOBAL.theme + '/layout' + url
    }
    return $.ajax({
        dataType: "json",
        type: type,
        url: url,
        async: !0,
        data: params,
        error: function(data) {
            var status = "ERROR"
              , response = {};
            if (data.statusText === 'abort') {
                status = 'CANCELED'
            }
            if (data.responseJSON && data.responseJSON.status) {
                status = data.responseJSON.status;
                response = data.responseJSON.response
            }
            if (typeof callback == "function") {
                callback(status, response)
            }
            $(document).trigger('afterSendAjax');
            if (status === "HTTP_ERROR") {
                $(document).trigger('ajaxHttpError', status, response)
            }
        },
        success: function(data) {
            var status = data && data.status || "NOT_LOADED"
              , response = data && data.response || {};
            if (data && data.debug) {
                ajax_debug(data.debug)
            }
            if (typeof callback == "function") {
                callback(status, response)
            }
            $(document).trigger('afterSendAjax')
        }
    })
}
function ajax_debug(debug_data) {
    var debug_panel = $("#debug_panel").length !== 0 ? $("#debug_panel") : $("<div id='debug_panel' style='position: fixed; bottom: 0; left: 0; right: 0; top: auto; z-index: 10000;'><div class='clear'></div></div>").appendTo(document.body);
    if (debug_data.length > 0) {
        debug_panel.empty();
        var template = '<div style="float: right; position: relative; margin:1px 0; border-radius: 5px 5px 5px 5px; color:#333; font-size:14px; background-color:{{bg_color}}; border:1px solid #000; padding:5px 10px 5px 10px; overflow:hidden;">' + '<a href="javascript:;" onclick="$(this).parent().remove();" style="position: absolute; color: #FFF;top: 5px; right: 6px; bottom: auto; left: auto;">X</a>' + '<div style="color: #E0E0E0; text-shadow: 0 1px 2px #000000; padding:5px 5px 5px 10px; margin:-5px -10px 0 -10px; background-color:#aaa; padding-right: 20px;">{{file}}<b>line:</b>{{line}}</div><pre>{{data}}</pre>' + '</div>';
        for (var i = 0, l = debug_data.length; i < l; ++i) {
            var value = debug_data[i];
            debug_panel.prepend(str_replace(['{{file}}', '{{line}}', '{{bg_color}}', '{{data}}'], [value.file, value.line, value.bg_color, value.data], template))
        }
    }
}
function zteel_set_message(what, type, parent, clearBeforeInsert) {
    if (typeof type === "undefined" || type == '') {
        type = "success"
    }
    var class_name = "session-message s-ok";
    switch (type) {
    case "warning":
        class_name = "session-message s-warn";
        break;
    case "error":
        class_name = "session-message s-error";
        break;
    default:
        class_name = "session-message s-ok";
        break
    }
    var data = '<div class="' + class_name + '">' + what + '<a href="#" onclick="$(this).parent().remove(); return false;"></a></div>';
    var selector = (typeof parent === "undefined" || parent === "") ? "#j-sm" : parent;
    if (clearBeforeInsert === !0) {
        $(selector).empty()
    }
    $(selector).show().append(data)
}
function setCookie(name, value, expires, path, domain, secure) {
    document.cookie = encodeURIComponent(name) + "=" + encodeURIComponent(value) + ((expires) ? "; expires=" + expires : "") + ((path) ? "; path=" + path : "") + ((domain) ? "; domain=" + domain : "") + ((secure) ? "; secure" : "")
}
function getCookie(name) {
    var cookie = " " + document.cookie;
    var search = " " + name + "=";
    var setStr = null;
    var offset = 0;
    var end = 0;
    if (cookie.length > 0) {
        offset = cookie.indexOf(search);
        if (offset != -1) {
            offset += search.length;
            end = cookie.indexOf(";", offset);
            if (end == -1) {
                end = cookie.length
            }
            setStr = unescape(cookie.substring(offset, end))
        }
    }
    return (setStr)
}
(function($) {
    $.fn.preload = function() {
        return this.each(function() {
            var me = $(this);
            if (!me.is('img')) {
                return
            }
            var preload = $('<div class="tm-preload"></div>').insertBefore(me).show();
            me.hide();
            me.load(function() {
                preload.hide();
                me.show()
            })
        })
    }
}
)(jQuery);
var ajax_link_click = function() {
    var me = $(this)
      , place = me.data('rel');
    if (place === undefined || place === null) {
        place = 'replace'
    }
    sendAjax(this.href, null, function(status, response) {
        if (status === 'OK') {
            if (response.html) {
                if (place === 'replace') {
                    var block = $(response.html).off('click').on('click', ajax_link_click);
                    block.insertAfter(me);
                    me.remove()
                } else {
                    $(place).html(response.html)
                }
            } else {
                reloadPage()
            }
        } else if (status === "UNAUTHORIZED") {
            authorize_required(response.message)
        }
    });
    return !1
};
function authorize_required(message) {
    Modal.open('#sign-in');
    message = message || l10n("        ");
    if (message) {
        zteel_set_message(message, 'error', '.j-signup-info-message, .j-login-info-message', !0)
    }
}
function track_analytics_event(event_name) {
    if (GLOBAL && GLOBAL.analytic_events) {
        var events = GLOBAL.analytic_events;
        for (var i = 0, l = events.length; i < l; ++i) {
            var e = events[i];
            if (e.name == event_name) {
                try {
                    e.func.call()
                } catch (e) {}
            }
        }
    }
}
function triggerMarketingEvent(eventName, attributes) {
    if (GLOBAL && GLOBAL.marketingEvents) {
        var events = GLOBAL.marketingEvents;
        if (events[eventName]) {
            for (var i = 0, l = events[eventName].length; i < l; ++i) {
                var e = events[eventName][i];
                attributes = Array.isArray(attributes) ? attributes : [attributes];
                try {
                    e.apply(null, attributes)
                } catch (error) {
                    console.log(error)
                }
            }
        }
    }
}
function openSignInModal(email) {
    Modal.open('#sign-in');
    $('a[href="#j-popup-tab-auth"]').trigger('click');
    if (email) {
        var auth = $('#j-popup-tab-auth');
        auth.find(':input[name="user[email]"]').val(email);
        setTimeout(function() {
            auth.find(':input[name="user[pass]"]').focus()
        }, 100)
    }
}
function priceFormat(price) {
    return currency.wrap_html(number_format(price, GLOBAL.round_to, ".", " "))
}
function checkEmailValidity(str) {
    return (/^([a-z0-9_\.\-]+)@([a-z0-9\.\-]+)\.([a-z]+)$/i).test(str)
}
function parseGetParams() {
    var $_GET = {};
    var __GET = window.location.search.substring(1).split("&");
    for (var i = 0; i < __GET.length; i++) {
        var getVar = __GET[i].split("=");
        $_GET[getVar[0]] = typeof (getVar[1]) == "undefined" ? "" : getVar[1]
    }
    return $_GET
}
function parseHashParams() {
    var $_GET = {};
    var __GET = window.location.hash.substring(1).split("&");
    for (var i = 0; i < __GET.length; i++) {
        var getVar = __GET[i].split("=");
        $_GET[getVar[0]] = typeof (getVar[1]) == "undefined" ? "" : getVar[1]
    }
    return $_GET
}
function changeHistory(url, params) {
    try {
        var params_str = [];
        for (var key in params) {
            if (params.hasOwnProperty(key)) {
                var value = params[key];
                if (key === "" || value === "") {
                    continue
                }
                params_str.push(encodeURIComponent(key) + "=" + encodeURIComponent(value))
            }
        }
        params_str = params_str.length !== 0 ? '?' + params_str.join('&') : '';
        history.replaceState({}, '', url + params_str);
        reloadLangWidget()
    } catch (e) {}
}
function changeHashHistory(url, params) {
    try {
        var params_str = [];
        for (var key in params) {
            if (params.hasOwnProperty(key)) {
                var value = params[key];
                if (key === "" || value === "") {
                    continue
                }
                params_str.push(encodeURIComponent(key) + "=" + encodeURIComponent(value))
            }
        }
        params_str = params_str.length !== 0 ? '#' + params_str.join('&') : '';
        if (window.location.hash != params_str) {
            window.location.hash = params_str
        }
    } catch (e) {}
}
function number_format(number, decimals, dec_point, thousands_sep) {
    var i, j, kw, kd, km;
    if (isNaN(decimals = Math.abs(decimals))) {
        decimals = 2
    }
    if (dec_point == undefined) {
        dec_point = ","
    }
    if (thousands_sep == undefined) {
        thousands_sep = "."
    }
    i = parseInt(number = (+number || 0).toFixed(decimals)) + "";
    if ((j = i.length) > 3) {
        j = j % 3
    } else {
        j = 0
    }
    km = (j ? i.substr(0, j) + thousands_sep : "");
    kw = i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousands_sep);
    kd = (decimals ? dec_point + Math.abs(number - i).toFixed(decimals).replace(/-/, 0).slice(2) : "");
    return km + kw + kd
}
function reloadPage() {
    window.location.reload()
}
function iframe_reset() {
    $('.gallery-photo-inner iframe').each(function() {
        var me = $(this)
          , src = me.attr('src');
        me.attr('src', '').attr('src', src)
    })
}
if (!Array.prototype.indexOf) {
    Array.prototype.indexOf = function(value, startIndex) {
        return jQuery.inArray(value, this, startIndex)
    }
}
function reloadLangWidget() {
    var containers = $('[data-widget="lang_menu"]')
      , usedSkins = []
      , skinsData = [{
        'name': 'requestedUrl',
        'value': window.location.href
    }];
    if (!containers.length) {
        return
    }
    containers.each(function() {
        var skin = $(this).attr('data-skin') || 'default';
        if ($.inArray(skin, usedSkins) === -1) {
            usedSkins.push(skin);
            skinsData.push({
                'name': 'skins[]',
                'value': skin
            })
        }
    });
    sendAjax(GLOBAL.URI_PREFIX + '_widget/lang_menu/renderMultiple', skinsData, function(status, response) {
        if (status === 'OK') {
            for (var i = 0, l = response.data.length; i < l; ++i) {
                var skin = response.data[i].skin
                  , html = $(response.data[i].html);
                containers.filter('[data-skin="' + skin + '"]').replaceWith(html)
            }
            $(document.body).trigger('onLangWidgetReload', containers)
        }
    })
}
function http_build_query(data) {
    var ret = [];
    for (var d in data) {
        ret.push(encodeURIComponent(d) + '=' + encodeURIComponent(data[d]))
    }
    return ret.join('&')
}
function createUrl(route, params) {
    route = route instanceof Array ? route.join('/') : route;
    params = params || {};
    if (route[0] == '') {
        route = route.substr(1, route.length - 1)
    }
    var queryParams = params ? '?' + http_build_query(params) : '';
    return GLOBAL.URI_PREFIX + route + GLOBAL.URI_SUFFIX + queryParams
}
function loadHintContent(hintId, titleContainer, textContainer, callback) {
    var link = createUrl(['_widget', 'hint', 'loadHintContent']);
    sendAjax(link, {
        hintId: hintId
    }, function(status, response) {
        if (status === 'OK') {
            $(titleContainer).show().html(response.title);
            $(textContainer).show().html(response.text)
        }
        callback && callback(status, response)
    })
}
(function(Horoshop, $, u) {
    Horoshop.Widgets = Horoshop.Widgets || {};
    var hintContentLoaders = {};
    Horoshop.Widgets.Hint = {
        cache: {},
        writeCache: function(key, data) {
            this.cache[key] = data
        },
        readCache: function(key) {
            return this.cache[key] != undefined ? this.cache[key] : !1
        },
        loadHintContent: function(hintId, titleContainer, textContainer, callback) {
            var self = this
              , link = createUrl(['_widget', 'hint', 'loadHintContent']);
            if (!this.readCache(hintId)) {
                sendAjax(link, {
                    hintId: hintId
                }, function(status, response) {
                    if (status === 'OK') {
                        if (response.title) {
                            $(titleContainer).show().html(response.title)
                        }
                        $(textContainer).show().html(response.text);
                        self.writeCache(hintId, response)
                    }
                    callback && callback(status, response)
                })
            } else {
                var response = this.readCache(hintId);
                if (response.title) {
                    $(titleContainer).show().html(response.title)
                }
                $(textContainer).show().html(response.text);
                callback && callback('OK', response)
            }
        },
        initHintContentLoader: function(skin, inModal, hintId, paramId, index) {
            var hintLoader = this.getHintLoader(skin, inModal);
            if (hintLoader) {
                hintLoader(hintId, paramId, index)
            }
        },
        getHintLoader: function(skin, inModal) {
            var key = skin + '_' + (inModal ? 'inModal' : 'inPopup');
            if (hintContentLoaders.hasOwnProperty(key)) {
                return hintContentLoaders[key]
            } else if (hintContentLoaders.hasOwnProperty(skin)) {
                return hintContentLoaders[skin]
            } else {
                return null
            }
        },
        registerHintLoader: function(skin, callback, inModal) {
            var key = skin;
            if (inModal !== u) {
                key += '_' + (inModal ? 'inModal' : 'inPopup')
            }
            hintContentLoaders[key] = callback
        }
    };
    var defaultModalClickCallback = function(hintId, paramId, caller, modal, onSuccess) {
        Horoshop.Widgets.Hint.loadHintContent(hintId, modal.find('.j-hint-title'), modal.find('.j-hint-text'), function(status, response) {
            if (status !== 'OK') {
                modal.find('.j-hint-text').show().html(l10n("  "))
            } else {
                caller.off('click.widget-hint');
                onSuccess && onSuccess()
            }
        })
    };
    Horoshop.Widgets.Hint.registerHintLoader('default', function(hintId, paramId, index) {
        var widget = $('#widget-hint-default-' + hintId + '-' + index)
          , modal = $('#hint-popup-' + hintId + '-' + index);
        widget.find('.product-hint-btn').on('click.widget-hint', function() {
            defaultModalClickCallback(hintId, paramId, $(this), modal);
            return !1
        })
    }, !0);
    Horoshop.Widgets.Hint.registerHintLoader('default', function(hintId, paramId, index) {
        var widget = $('#widget-hint-default-' + hintId + '-' + index);
        widget.find('.product-hint-btn').on('click.widget-hint', function() {
            defaultModalClickCallback(hintId, paramId, $(this), widget);
            return !1
        })
    }, !1);
    Horoshop.Widgets.Hint.registerHintLoader('filter', function(hintId, paramId, index) {
        var widget = $('#widget-hint-filter-' + hintId + '-' + index)
          , modal = $('#filter-hint-popup-' + hintId + '-' + index);
        widget.on('click.widget-hint', function() {
            defaultModalClickCallback(hintId, paramId, $(this), modal);
            return !1
        })
    }, !0);
    Horoshop.Widgets.Hint.registerHintLoader('filter', function(hintId, paramId, index) {
        $('#widget-hint-filter-' + hintId + '-' + index).on('click.widget-hint', function() {
            var $this = $(this)
              , hintCached = Horoshop.Widgets.Hint.readCache(paramId) !== !1;
            defaultModalClickCallback(hintId, paramId, $this, $('[data-id="filter-tooltip-' + hintId + '-' + index + '"]'), function() {
                if (!hintCached) {
                    setTimeout(function() {
                        $this.data('hsTooltip').popperInstance.update()
                    }, 1)
                }
            })
        })
    }, !1);
    Horoshop.Widgets.Hint.registerHintLoader('mobile', function(hintId, paramId) {
        var widget = $('#widget-hint-mobile-' + hintId)
          , modal = $('#features-hint-' + hintId);
        widget.on('click.widget-hint', function() {
            defaultModalClickCallback(hintId, paramId, $(this), modal, function() {
                if (modal.find('img').length) {
                    modal.imagesLoaded(function() {
                        modal.data('mobile_modal').setPosition()
                    })
                } else {
                    modal.data('mobile_modal').setPosition()
                }
            })
        });
        ModificationChange.getInstance() && ModificationChange.getInstance().attachEventHandlers({
            'onBeforeAppendHtml': function() {
                modal.remove()
            }
        })
    });
    Horoshop.Widgets.Hint.registerHintLoader('mobile-simple', function(hintId, paramId) {
        var widget = $('#widget-hint-mobile-simple-' + hintId)
          , modal = $('#mods-hint-' + hintId);
        widget.on('click.widget-hint', function() {
            defaultModalClickCallback(hintId, paramId, $(this), modal, function() {
                if (modal.find('img').length) {
                    modal.imagesLoaded(function() {
                        modal.data('mobile_modal').setPosition()
                    })
                } else {
                    modal.data('mobile_modal').setPosition()
                }
            })
        });
        ModificationChange.getInstance() && ModificationChange.getInstance().attachEventHandlers({
            'onBeforeAppendHtml': function() {
                modal.remove()
            }
        })
    })
}
)(window.Horoshop = window.Horoshop || {}, jQuery);
function initCheckoutCartEvents(selector, skin) {
    var deliveryComponent = CheckoutModule.getInstance().getComponentByName('Delivery')
      , paymentComponent = CheckoutModule.getInstance().getComponentByName('Payment');
    AjaxCart.selector = selector;
    AjaxCart.skin = skin;
    var ajaxCart = AjaxCart.getInstance();
    ajaxCart.attachEventHandlers({
        'onReloadHtml': function() {
            if ($(selector).find('.j-cart-product').length > 0) {
                CheckoutModule.getInstance().reload(change_delivery_type)
            } else {
                location.href = GLOBAL.URI_PREFIX
            }
        },
        'onInit': function() {
            change_delivery_type()
        },
        'onQuantityChanged': function() {
            CheckoutModule.getInstance().reload(change_delivery_type)
        }
    });
    var change_delivery_type = function() {
        onChangeDeliveryType(deliveryComponent.delivery_type, deliveryComponent.delivery_type.val())
    };
    var getTotalSum = function() {
        var ajaxCart = AjaxCart.getInstance()
          , delivery_select = deliveryComponent.delivery_type
          , payment_select = paymentComponent.payment_type
          , by_carrier = delivery_select.find(':selected').data('by-carrier') * 1
          , deliveryPrice = 0
          , paymentPrice = parseFloat(payment_select.find(':selected').data('price')) || 0;
        if (!by_carrier && !deliveryComponent.container.hasClass('__disabled') && !deliveryComponent.container.hasClass('is-disabled')) {
            deliveryPrice = parseFloat(delivery_select.find(':selected').data('price')) || 0
        }
        return ajaxCart.Cart.total.sum + deliveryPrice + paymentPrice
    };
    var onChangeDeliveryType = function(delivery_select, value) {
        var ajaxCart = AjaxCart.getInstance();
        var delivery = ajaxCart.container.find('.j-delivery-price')
          , total_sum_delivery = ajaxCart.container.find('.j-total-sum-delivery');
        if (delivery_select.length && !delivery_select.parents('.j-component:first').is('[class*="disabled"]')) {
            var option = delivery_select.find(':selected')
              , by_carrier = option.data('by-carrier') * 1
              , price = by_carrier ? 0 : option.data('price') * 1;
            if (by_carrier) {
                delivery.html(l10n("  "))
            } else {
                delivery.html(price > 0 ? ajaxCart.priceFormat(price) : l10n(""))
            }
        } else {
            delivery.html(l10n(''))
        }
        total_sum_delivery.html(ajaxCart.priceFormat(getTotalSum()))
    };
    var change_payment_type = function() {
        onChangePaymentType(paymentComponent.payment_type, paymentComponent.payment_type.val())
    };
    var onChangePaymentType = function(payment_select, value) {
        var ajaxCart = AjaxCart.getInstance();
        var payment = ajaxCart.container.find('.j-payment-price')
          , payment_container = ajaxCart.container.find('.j-payment-price-container')
          , total_sum_delivery = ajaxCart.container.find('.j-total-sum-delivery');
        if (payment_select.length && !payment_select.parents('.j-component:first').is('[class*="disabled"]')) {
            var option = payment_select.find(':selected')
              , price = option.data('price') * 1;
            if (price > 0) {
                payment_container.removeClass('__hidden').show();
                payment.html(ajaxCart.priceFormat(price))
            } else {
                payment_container.addClass('__hidden').hide()
            }
            total_sum_delivery.html(ajaxCart.priceFormat(getTotalSum()))
        } else {
            payment.html(0);
            payment_container.addClass('__hidden').hide()
        }
    };
    deliveryComponent.attachEventHandlers({
        'changeDeliveryType': onChangeDeliveryType,
        'beforeAjax': function() {
            this.owner.container.find('.j-loader').show()
        },
        'afterAjax': function() {
            this.owner.container.find('.j-loader').hide()
        },
    });
    paymentComponent.attachEventHandlers({
        'changePaymentType': onChangePaymentType,
        'beforeAjax': function() {
            this.owner.container.find('.j-loader').show()
        },
        'afterAjax': function() {
            this.owner.container.find('.j-loader').hide()
        },
    });
    change_delivery_type();
    change_payment_type()
}
(function($, window) {
    window.horoshopReCaptcha = {
        initialized: !1,
        forms: [],
        submit: function(formSelector) {
            $(formSelector).submit()
        },
        attach: function(formSelector, siteKey) {
            if (this.initialized) {
                var form = $(formSelector)
                  , submits = form.find(':input[type="submit"]');
                submits.each(function() {
                    var id = grecaptcha.render(this, {
                        sitekey: siteKey,
                        callback: function() {
                            form.submit();
                            grecaptcha.reset(id)
                        },
                        'error-callback': function() {
                            console.log('error');
                            console.log(arguments)
                        }
                    });
                    var $this = $(this);
                    if ($this.is('input')) {
                        $this.attr('type', 'button')
                    } else {
                        $this.removeAttr('type')
                    }
                })
            } else {
                this.forms.push([formSelector, siteKey])
            }
        },
        init: function() {
            this.initialized = !0;
            for (var i = 0, l = this.forms.length; i < l; ++i) {
                this.attach(this.forms[i][0], this.forms[i][1])
            }
        }
    };
    window.onHoroshopReCaptchaLoaded = function() {
        console.log('Initialized');
        window.horoshopReCaptcha.init()
    }
}
)(jQuery, window);
$(function() {
    ModificationChange.getInstance() && ModificationChange.getInstance().attachEventHandlers({
        'onAfterSubmit': function(status, response) {
            setTimeout(function() {
                triggerMarketingEvent('ajax_page_view', window.location.href)
            }, 300)
        }
    });
    CatalogBuilder && CatalogBuilder.attachEventHandlers({
        'onFilterLinkClick': function($link) {
            triggerMarketingEvent('ajax_page_view', $link.attr('href'))
        }
    })
});
function init_search_widget(selector, options) {
    window.Search.init(selector, options)
}
function generateUUID() {
    var d = new Date().getTime();
    var d2 = (performance && performance.now && (performance.now() * 1000)) || 0;
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        var r = Math.random() * 16;
        if (d > 0) {
            r = (d + r) % 16 | 0;
            d = Math.floor(d / 16)
        } else {
            r = (d2 + r) % 16 | 0;
            d2 = Math.floor(d2 / 16)
        }
        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16)
    })
}
function setInnerHTML(elm, html) {
    elm.innerHTML = html;
    Array.from(elm.querySelectorAll('script')).forEach(function(oldScript) {
        const newScript = document.createElement("script");
        Array.from(oldScript.attributes).forEach(function(attr) {
            newScript.setAttribute(attr.name, attr.value)
        });
        newScript.appendChild(document.createTextNode(oldScript.innerHTML));
        oldScript.parentNode.replaceChild(newScript, oldScript)
    })
}
;/* /libs/jquery.numbermask.js */
/*!
 * jQuery numberMask Plugin v0.1
 *
 * Licensed under the MIT License
 * Authors: Krivlenia Konstantin
 *          krivlenia@gmail.com
 * Site:  https://github.com/Mavrin/maskInput
 * Date: Wed Nov 11 14:15:24 2011 -0700
 *
 * !!!IMPORTANT!!!! DO NOT UPDATE! CUSTOM FIXES MADE BY ANDREY TELESH
 */
(function($) {
    $.fn.numberMask = function(options) {
        var settings = {
            type: 'int',
            beforePoint: 10,
            afterPoint: 2,
            defaultValueInput: 0,
            decimalMark: '.',
            pattern: '',
            allowNegative: !1
        }
          , onKeyPress = function(e) {
            var k = e.which;
            if (e.ctrlKey || e.altKey || e.metaKey || k < 32) {
                return !0
            } else if (k) {
                var c = String.fromCharCode(k);
                var value = e.target.value;
                var selectionParam = getSelection(e.target);
                if (selectionParam.statusSelection) {
                    value = value.substring(0, selectionParam.start) + c + value.substring(selectionParam.end)
                } else {
                    var startVal = value.substring(0, selectionParam.start) + c;
                    var endVal = value.substring(selectionParam.start);
                    value = startVal + "" + endVal
                }
                if ((typeof settings.pattern == "object") && (settings.pattern instanceof RegExp)) {
                    var re = settings.pattern
                } else {
                    if (settings.allowNegative) {
                        if (settings.type == 'int') {
                            var re = new RegExp("^(-?)$|^(-?)\\d{1," + settings.beforePoint + "}$","ig")
                        } else if (settings.type == 'float') {
                            var re = new RegExp("^(-?)$|^(-?)\\d{1," + settings.beforePoint + "}$|^(-?)\\d{1," + settings.beforePoint + "}\\" + settings.decimalMark + "\\d{0," + settings.afterPoint + "}$","ig")
                        }
                    } else {
                        if (settings.type == 'int') {
                            var re = new RegExp("^\\d{1," + settings.beforePoint + "}$","ig")
                        } else if (settings.type == 'float') {
                            var re = new RegExp("^\\d{1," + settings.beforePoint + "}$|^\\d{1," + settings.beforePoint + "}\\" + settings.decimalMark + "\\d{0," + settings.afterPoint + "}$","ig")
                        }
                    }
                }
                return re.test(value)
            }
        }
          , onKeyUp = function(e) {
            var input = $(e.target);
            if (e.which == 13 || e.which == 86) {
                input.val(formattedNumber(input))
            }
        }
          , getSelection = function(el) {
            var start = 0, end = 0, normalizedValue, range, textInputRange, len, endRange, statusSelection = !1;
            if (typeof el.selectionStart == "number" && typeof el.selectionEnd == "number") {
                start = el.selectionStart;
                end = el.selectionEnd
            } else {
                range = document.selection ? document.selection.createRange() : null;
                if (range && range.parentElement() == el) {
                    len = el.value.length;
                    normalizedValue = el.value.replace(/\r\n/g, "\n");
                    textInputRange = el.createTextRange();
                    textInputRange.moveToBookmark(range.getBookmark());
                    endRange = el.createTextRange();
                    endRange.collapse(!1);
                    if (textInputRange.compareEndPoints("StartToEnd", endRange) > -1) {
                        start = end = len
                    } else {
                        start = -textInputRange.moveStart("character", -len);
                        start += normalizedValue.slice(0, start).split("\n").length - 1;
                        if (textInputRange.compareEndPoints("EndToEnd", endRange) > -1) {
                            end = len
                        } else {
                            end = -textInputRange.moveEnd("character", -len);
                            end += normalizedValue.slice(0, end).split("\n").length - 1
                        }
                    }
                }
            }
            if ((start - end) != 0) {
                statusSelection = !0
            }
            return {
                start: start,
                end: end,
                statusSelection: statusSelection
            }
        }
          , onBlur = function(e) {
            var input = $(e.target);
            if (input.val() != '') {
                var val = input.val();
                if (settings.type == 'float' && val.substr(-1) == settings.decimalMark) {
                    for (var i = 0; i < settings.afterPoint; i++) {
                        val += '0'
                    }
                }
                if (settings.allowNegative && (settings.type === 'float' || settings.type === 'int') && val === '-') {
                    val = ''
                }
                input.val(val);
                input.val(formattedNumber(input))
            }
        }
          , formattedNumber = function($input) {
            var val = $input.val();
            if ((typeof settings.pattern == "object") && (settings.pattern instanceof RegExp)) {
                var re = settings.pattern;
                if (re.test(val)) {
                    return val
                } else {
                    return settings.defaultValueInput
                }
            } else {
                if (settings.type == 'int') {
                    var re = settings.allowNegative ? new RegExp("^(-?)$|^(-?)\\d{1," + settings.beforePoint + "}$","ig") : new RegExp("^\\d{1," + settings.beforePoint + "}$","ig");
                    if (re.test(val)) {
                        return val
                    } else {
                        return settings.defaultValueInput
                    }
                } else {
                    var re = settings.allowNegative ? new RegExp("^(-?)$|^(-?)\\d{1," + settings.beforePoint + "}$|^(-?)\\d{1," + settings.beforePoint + "}\\" + settings.decimalMark + "\\d{1," + settings.afterPoint + "}$","ig") : new RegExp("^\\d{1," + settings.beforePoint + "}$|^\\d{1," + settings.beforePoint + "}\\" + settings.decimalMark + "\\d{1," + settings.afterPoint + "}$","ig");
                    if (re.test(val)) {
                        return val
                    } else {
                        return settings.defaultValueInput
                    }
                }
            }
        };
        this.off('keypress.numberMask').on('keypress.numberMask', onKeyPress).off('keyup.numberMask').on('keyup.numberMask', onKeyUp).off('blur.numberMask').on('blur.numberMask', onBlur);
        if (options) {
            $.extend(settings, options)
        }
        return this
    }
}
)(jQuery);
/* /vendor/tm/tm.events.js */
(function(w) {
    w.TMEvents = {
        attachEventHandlers: function(events) {
            if (events) {
                for (var eventName in events) {
                    if (events.hasOwnProperty(eventName)) {
                        this.attachEventHandler(eventName, events[eventName])
                    }
                }
            }
        },
        initEvents: function() {
            this.events = this.events || {}
        },
        attachEventHandler: function(eventName, callback) {
            if (typeof callback === 'function') {
                this.initEvents();
                if (!(this.events[eventName]instanceof Array)) {
                    this.events[eventName] = []
                }
                this.events[eventName].push(callback)
            }
        },
        trigger: function(fName) {
            this.initEvents();
            if (this.events[fName]instanceof Array) {
                var result = !0;
                var events = this.events[fName];
                for (var i = 0, l = events.length; i < l; ++i) {
                    if (typeof events[i] === "function") {
                        var tmpResult = events[i].apply(this, Array.prototype.slice.call(arguments, 1));
                        if (tmpResult !== null && tmpResult !== undefined) {
                            result = result && tmpResult
                        }
                    }
                }
                return result
            }
            return null
        },
        fireEventHandler: function(fName) {
            this.initEvents();
            this.events[fName] = []
        }
    }
}
)(window);
/* /vendor/jquery/jquery-ui-1.11.3.js */
/*! jQuery UI - v1.11.3 - 2015-02-15
 * http://jqueryui.com
 * Includes: core.js, widget.js, mouse.js, position.js, draggable.js, droppable.js, resizable.js, selectable.js, sortable.js, accordion.js, autocomplete.js, button.js, datepicker.js, dialog.js, menu.js, progressbar.js, selectmenu.js, slider.js, spinner.js, tabs.js, tooltip.js, effect.js, effect-blind.js, effect-bounce.js, effect-clip.js, effect-drop.js, effect-explode.js, effect-fade.js, effect-fold.js, effect-highlight.js, effect-puff.js, effect-pulsate.js, effect-scale.js, effect-shake.js, effect-size.js, effect-slide.js, effect-transfer.js
 * Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */

(function(e) {
    "function" == typeof define && define.amd ? define(["jquery"], e) : e(jQuery)
}
)(function(e) {
    function t(t, s) {
        var n, a, o, r = t.nodeName.toLowerCase();
        return "area" === r ? (n = t.parentNode,
        a = n.name,
        t.href && a && "map" === n.nodeName.toLowerCase() ? (o = e("img[usemap='#" + a + "']")[0],
        !!o && i(o)) : !1) : (/^(input|select|textarea|button|object)$/.test(r) ? !t.disabled : "a" === r ? t.href || s : s) && i(t)
    }
    function i(t) {
        return e.expr.filters.visible(t) && !e(t).parents().addBack().filter(function() {
            return "hidden" === e.css(this, "visibility")
        }).length
    }
    function s(e) {
        for (var t, i; e.length && e[0] !== document; ) {
            if (t = e.css("position"),
            ("absolute" === t || "relative" === t || "fixed" === t) && (i = parseInt(e.css("zIndex"), 10),
            !isNaN(i) && 0 !== i))
                return i;
            e = e.parent()
        }
        return 0
    }
    function n() {
        this._curInst = null,
        this._keyEvent = !1,
        this._disabledInputs = [],
        this._datepickerShowing = !1,
        this._inDialog = !1,
        this._mainDivId = "ui-datepicker-div",
        this._inlineClass = "ui-datepicker-inline",
        this._appendClass = "ui-datepicker-append",
        this._triggerClass = "ui-datepicker-trigger",
        this._dialogClass = "ui-datepicker-dialog",
        this._disableClass = "ui-datepicker-disabled",
        this._unselectableClass = "ui-datepicker-unselectable",
        this._currentClass = "ui-datepicker-current-day",
        this._dayOverClass = "ui-datepicker-days-cell-over",
        this.regional = [],
        this.regional[""] = {
            closeText: "Done",
            prevText: "Prev",
            nextText: "Next",
            currentText: "Today",
            monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
            monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
            dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
            dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
            dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
            weekHeader: "Wk",
            dateFormat: "mm/dd/yy",
            firstDay: 0,
            isRTL: !1,
            showMonthAfterYear: !1,
            yearSuffix: ""
        },
        this._defaults = {
            showOn: "focus",
            showAnim: "fadeIn",
            showOptions: {},
            defaultDate: null,
            appendText: "",
            buttonText: "...",
            buttonImage: "",
            buttonImageOnly: !1,
            hideIfNoPrevNext: !1,
            navigationAsDateFormat: !1,
            gotoCurrent: !1,
            changeMonth: !1,
            changeYear: !1,
            yearRange: "c-10:c+10",
            showOtherMonths: !1,
            selectOtherMonths: !1,
            showWeek: !1,
            calculateWeek: this.iso8601Week,
            shortYearCutoff: "+10",
            minDate: null,
            maxDate: null,
            duration: "fast",
            beforeShowDay: null,
            beforeShow: null,
            onSelect: null,
            onChangeMonthYear: null,
            onClose: null,
            numberOfMonths: 1,
            showCurrentAtPos: 0,
            stepMonths: 1,
            stepBigMonths: 12,
            altField: "",
            altFormat: "",
            constrainInput: !0,
            showButtonPanel: !1,
            autoSize: !1,
            disabled: !1
        },
        e.extend(this._defaults, this.regional[""]),
        this.regional.en = e.extend(!0, {}, this.regional[""]),
        this.regional["en-US"] = e.extend(!0, {}, this.regional.en),
        this.dpDiv = a(e("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
    }
    function a(t) {
        var i = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
        return t.delegate(i, "mouseout", function() {
            e(this).removeClass("ui-state-hover"),
            -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).removeClass("ui-datepicker-prev-hover"),
            -1 !== this.className.indexOf("ui-datepicker-next") && e(this).removeClass("ui-datepicker-next-hover")
        }).delegate(i, "mouseover", o)
    }
    function o() {
        e.datepicker._isDisabledDatepicker(v.inline ? v.dpDiv.parent()[0] : v.input[0]) || (e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),
        e(this).addClass("ui-state-hover"),
        -1 !== this.className.indexOf("ui-datepicker-prev") && e(this).addClass("ui-datepicker-prev-hover"),
        -1 !== this.className.indexOf("ui-datepicker-next") && e(this).addClass("ui-datepicker-next-hover"))
    }
    function r(t, i) {
        e.extend(t, i);
        for (var s in i)
            null == i[s] && (t[s] = i[s]);
        return t
    }
    function h(e) {
        return function() {
            var t = this.element.val();
            e.apply(this, arguments),
            this._refresh(),
            t !== this.element.val() && this._trigger("change")
        }
    }
    e.ui = e.ui || {},
    e.extend(e.ui, {
        version: "1.11.3",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }),
    e.fn.extend({
        scrollParent: function(t) {
            var i = this.css("position")
              , s = "absolute" === i
              , n = t ? /(auto|scroll|hidden)/ : /(auto|scroll)/
              , a = this.parents().filter(function() {
                var t = e(this);
                return s && "static" === t.css("position") ? !1 : n.test(t.css("overflow") + t.css("overflow-y") + t.css("overflow-x"))
            }).eq(0);
            return "fixed" !== i && a.length ? a : e(this[0].ownerDocument || document)
        },
        uniqueId: function() {
            var e = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++e)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && e(this).removeAttr("id")
            })
        }
    }),
    e.extend(e.expr[":"], {
        data: e.expr.createPseudo ? e.expr.createPseudo(function(t) {
            return function(i) {
                return !!e.data(i, t)
            }
        }) : function(t, i, s) {
            return !!e.data(t, s[3])
        }
        ,
        focusable: function(i) {
            return t(i, !isNaN(e.attr(i, "tabindex")))
        },
        tabbable: function(i) {
            var s = e.attr(i, "tabindex")
              , n = isNaN(s);
            return (n || s >= 0) && t(i, !n)
        }
    }),
    e("<a>").outerWidth(1).jquery || e.each(["Width", "Height"], function(t, i) {
        function s(t, i, s, a) {
            return e.each(n, function() {
                i -= parseFloat(e.css(t, "padding" + this)) || 0,
                s && (i -= parseFloat(e.css(t, "border" + this + "Width")) || 0),
                a && (i -= parseFloat(e.css(t, "margin" + this)) || 0)
            }),
            i
        }
        var n = "Width" === i ? ["Left", "Right"] : ["Top", "Bottom"]
          , a = i.toLowerCase()
          , o = {
            innerWidth: e.fn.innerWidth,
            innerHeight: e.fn.innerHeight,
            outerWidth: e.fn.outerWidth,
            outerHeight: e.fn.outerHeight
        };
        e.fn["inner" + i] = function(t) {
            return void 0 === t ? o["inner" + i].call(this) : this.each(function() {
                e(this).css(a, s(this, t) + "px")
            })
        }
        ,
        e.fn["outer" + i] = function(t, n) {
            return "number" != typeof t ? o["outer" + i].call(this, t) : this.each(function() {
                e(this).css(a, s(this, t, !0, n) + "px")
            })
        }
    }),
    e.fn.addBack || (e.fn.addBack = function(e) {
        return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
    }
    ),
    e("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (e.fn.removeData = function(t) {
        return function(i) {
            return arguments.length ? t.call(this, e.camelCase(i)) : t.call(this)
        }
    }(e.fn.removeData)),
    e.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),
    e.fn.extend({
        focus: function(t) {
            return function(i, s) {
                return "number" == typeof i ? this.each(function() {
                    var t = this;
                    setTimeout(function() {
                        e(t).focus(),
                        s && s.call(t)
                    }, i)
                }) : t.apply(this, arguments)
            }
        }(e.fn.focus),
        disableSelection: function() {
            var e = "onselectstart"in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(e + ".ui-disableSelection", function(e) {
                    e.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(t) {
            if (void 0 !== t)
                return this.css("zIndex", t);
            if (this.length)
                for (var i, s, n = e(this[0]); n.length && n[0] !== document; ) {
                    if (i = n.css("position"),
                    ("absolute" === i || "relative" === i || "fixed" === i) && (s = parseInt(n.css("zIndex"), 10),
                    !isNaN(s) && 0 !== s))
                        return s;
                    n = n.parent()
                }
            return 0
        }
    }),
    e.ui.plugin = {
        add: function(t, i, s) {
            var n, a = e.ui[t].prototype;
            for (n in s)
                a.plugins[n] = a.plugins[n] || [],
                a.plugins[n].push([i, s[n]])
        },
        call: function(e, t, i, s) {
            var n, a = e.plugins[t];
            if (a && (s || e.element[0].parentNode && 11 !== e.element[0].parentNode.nodeType))
                for (n = 0; a.length > n; n++)
                    e.options[a[n][0]] && a[n][1].apply(e.element, i)
        }
    };
    var l = 0
      , u = Array.prototype.slice;
    e.cleanData = function(t) {
        return function(i) {
            var s, n, a;
            for (a = 0; null != (n = i[a]); a++)
                try {
                    s = e._data(n, "events"),
                    s && s.remove && e(n).triggerHandler("remove")
                } catch (o) {}
            t(i)
        }
    }(e.cleanData),
    e.widget = function(t, i, s) {
        var n, a, o, r, h = {}, l = t.split(".")[0];
        return t = t.split(".")[1],
        n = l + "-" + t,
        s || (s = i,
        i = e.Widget),
        e.expr[":"][n.toLowerCase()] = function(t) {
            return !!e.data(t, n)
        }
        ,
        e[l] = e[l] || {},
        a = e[l][t],
        o = e[l][t] = function(e, t) {
            return this._createWidget ? (arguments.length && this._createWidget(e, t),
            void 0) : new o(e,t)
        }
        ,
        e.extend(o, a, {
            version: s.version,
            _proto: e.extend({}, s),
            _childConstructors: []
        }),
        r = new i,
        r.options = e.widget.extend({}, r.options),
        e.each(s, function(t, s) {
            return e.isFunction(s) ? (h[t] = function() {
                var e = function() {
                    return i.prototype[t].apply(this, arguments)
                }
                  , n = function(e) {
                    return i.prototype[t].apply(this, e)
                };
                return function() {
                    var t, i = this._super, a = this._superApply;
                    return this._super = e,
                    this._superApply = n,
                    t = s.apply(this, arguments),
                    this._super = i,
                    this._superApply = a,
                    t
                }
            }(),
            void 0) : (h[t] = s,
            void 0)
        }),
        o.prototype = e.widget.extend(r, {
            widgetEventPrefix: a ? r.widgetEventPrefix || t : t
        }, h, {
            constructor: o,
            namespace: l,
            widgetName: t,
            widgetFullName: n
        }),
        a ? (e.each(a._childConstructors, function(t, i) {
            var s = i.prototype;
            e.widget(s.namespace + "." + s.widgetName, o, i._proto)
        }),
        delete a._childConstructors) : i._childConstructors.push(o),
        e.widget.bridge(t, o),
        o
    }
    ,
    e.widget.extend = function(t) {
        for (var i, s, n = u.call(arguments, 1), a = 0, o = n.length; o > a; a++)
            for (i in n[a])
                s = n[a][i],
                n[a].hasOwnProperty(i) && void 0 !== s && (t[i] = e.isPlainObject(s) ? e.isPlainObject(t[i]) ? e.widget.extend({}, t[i], s) : e.widget.extend({}, s) : s);
        return t
    }
    ,
    e.widget.bridge = function(t, i) {
        var s = i.prototype.widgetFullName || t;
        e.fn[t] = function(n) {
            var a = "string" == typeof n
              , o = u.call(arguments, 1)
              , r = this;
            return a ? this.each(function() {
                var i, a = e.data(this, s);
                return "instance" === n ? (r = a,
                !1) : a ? e.isFunction(a[n]) && "_" !== n.charAt(0) ? (i = a[n].apply(a, o),
                i !== a && void 0 !== i ? (r = i && i.jquery ? r.pushStack(i.get()) : i,
                !1) : void 0) : e.error("no such method '" + n + "' for " + t + " widget instance") : e.error("cannot call methods on " + t + " prior to initialization; " + "attempted to call method '" + n + "'")
            }) : (o.length && (n = e.widget.extend.apply(null, [n].concat(o))),
            this.each(function() {
                var t = e.data(this, s);
                t ? (t.option(n || {}),
                t._init && t._init()) : e.data(this, s, new i(n,this))
            })),
            r
        }
    }
    ,
    e.Widget = function() {}
    ,
    e.Widget._childConstructors = [],
    e.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(t, i) {
            i = e(i || this.defaultElement || this)[0],
            this.element = e(i),
            this.uuid = l++,
            this.eventNamespace = "." + this.widgetName + this.uuid,
            this.bindings = e(),
            this.hoverable = e(),
            this.focusable = e(),
            i !== this && (e.data(i, this.widgetFullName, this),
            this._on(!0, this.element, {
                remove: function(e) {
                    e.target === i && this.destroy()
                }
            }),
            this.document = e(i.style ? i.ownerDocument : i.document || i),
            this.window = e(this.document[0].defaultView || this.document[0].parentWindow)),
            this.options = e.widget.extend({}, this.options, this._getCreateOptions(), t),
            this._create(),
            this._trigger("create", null, this._getCreateEventData()),
            this._init()
        },
        _getCreateOptions: e.noop,
        _getCreateEventData: e.noop,
        _create: e.noop,
        _init: e.noop,
        destroy: function() {
            this._destroy(),
            this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),
            this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled"),
            this.bindings.unbind(this.eventNamespace),
            this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus")
        },
        _destroy: e.noop,
        widget: function() {
            return this.element
        },
        option: function(t, i) {
            var s, n, a, o = t;
            if (0 === arguments.length)
                return e.widget.extend({}, this.options);
            if ("string" == typeof t)
                if (o = {},
                s = t.split("."),
                t = s.shift(),
                s.length) {
                    for (n = o[t] = e.widget.extend({}, this.options[t]),
                    a = 0; s.length - 1 > a; a++)
                        n[s[a]] = n[s[a]] || {},
                        n = n[s[a]];
                    if (t = s.pop(),
                    1 === arguments.length)
                        return void 0 === n[t] ? null : n[t];
                    n[t] = i
                } else {
                    if (1 === arguments.length)
                        return void 0 === this.options[t] ? null : this.options[t];
                    o[t] = i
                }
            return this._setOptions(o),
            this
        },
        _setOptions: function(e) {
            var t;
            for (t in e)
                this._setOption(t, e[t]);
            return this
        },
        _setOption: function(e, t) {
            return this.options[e] = t,
            "disabled" === e && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!t),
            t && (this.hoverable.removeClass("ui-state-hover"),
            this.focusable.removeClass("ui-state-focus"))),
            this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(t, i, s) {
            var n, a = this;
            "boolean" != typeof t && (s = i,
            i = t,
            t = !1),
            s ? (i = n = e(i),
            this.bindings = this.bindings.add(i)) : (s = i,
            i = this.element,
            n = this.widget()),
            e.each(s, function(s, o) {
                function r() {
                    return t || a.options.disabled !== !0 && !e(this).hasClass("ui-state-disabled") ? ("string" == typeof o ? a[o] : o).apply(a, arguments) : void 0
                }
                "string" != typeof o && (r.guid = o.guid = o.guid || r.guid || e.guid++);
                var h = s.match(/^([\w:-]*)\s*(.*)$/)
                  , l = h[1] + a.eventNamespace
                  , u = h[2];
                u ? n.delegate(u, l, r) : i.bind(l, r)
            })
        },
        _off: function(t, i) {
            i = (i || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace,
            t.unbind(i).undelegate(i),
            this.bindings = e(this.bindings.not(t).get()),
            this.focusable = e(this.focusable.not(t).get()),
            this.hoverable = e(this.hoverable.not(t).get())
        },
        _delay: function(e, t) {
            function i() {
                return ("string" == typeof e ? s[e] : e).apply(s, arguments)
            }
            var s = this;
            return setTimeout(i, t || 0)
        },
        _hoverable: function(t) {
            this.hoverable = this.hoverable.add(t),
            this._on(t, {
                mouseenter: function(t) {
                    e(t.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(t) {
                    e(t.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(t) {
            this.focusable = this.focusable.add(t),
            this._on(t, {
                focusin: function(t) {
                    e(t.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(t) {
                    e(t.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(t, i, s) {
            var n, a, o = this.options[t];
            if (s = s || {},
            i = e.Event(i),
            i.type = (t === this.widgetEventPrefix ? t : this.widgetEventPrefix + t).toLowerCase(),
            i.target = this.element[0],
            a = i.originalEvent)
                for (n in a)
                    n in i || (i[n] = a[n]);
            return this.element.trigger(i, s),
            !(e.isFunction(o) && o.apply(this.element[0], [i].concat(s)) === !1 || i.isDefaultPrevented())
        }
    },
    e.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(t, i) {
        e.Widget.prototype["_" + t] = function(s, n, a) {
            "string" == typeof n && (n = {
                effect: n
            });
            var o, r = n ? n === !0 || "number" == typeof n ? i : n.effect || i : t;
            n = n || {},
            "number" == typeof n && (n = {
                duration: n
            }),
            o = !e.isEmptyObject(n),
            n.complete = a,
            n.delay && s.delay(n.delay),
            o && e.effects && e.effects.effect[r] ? s[t](n) : r !== t && s[r] ? s[r](n.duration, n.easing, a) : s.queue(function(i) {
                e(this)[t](),
                a && a.call(s[0]),
                i()
            })
        }
    }),
    e.widget;
    var d = !1;
    e(document).mouseup(function() {
        d = !1
    }),
    e.widget("ui.mouse", {
        version: "1.11.3",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var t = this;
            this.element.bind("mousedown." + this.widgetName, function(e) {
                return t._mouseDown(e)
            }).bind("click." + this.widgetName, function(i) {
                return !0 === e.data(i.target, t.widgetName + ".preventClickEvent") ? (e.removeData(i.target, t.widgetName + ".preventClickEvent"),
                i.stopImmediatePropagation(),
                !1) : void 0
            }),
            this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName),
            this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(t) {
            if (!d) {
                this._mouseMoved = !1,
                this._mouseStarted && this._mouseUp(t),
                this._mouseDownEvent = t;
                var i = this
                  , s = 1 === t.which
                  , n = "string" == typeof this.options.cancel && t.target.nodeName ? e(t.target).closest(this.options.cancel).length : !1;
                return s && !n && this._mouseCapture(t) ? (this.mouseDelayMet = !this.options.delay,
                this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                    i.mouseDelayMet = !0
                }, this.options.delay)),
                this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(t) !== !1,
                !this._mouseStarted) ? (t.preventDefault(),
                !0) : (!0 === e.data(t.target, this.widgetName + ".preventClickEvent") && e.removeData(t.target, this.widgetName + ".preventClickEvent"),
                this._mouseMoveDelegate = function(e) {
                    return i._mouseMove(e)
                }
                ,
                this._mouseUpDelegate = function(e) {
                    return i._mouseUp(e)
                }
                ,
                this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate),
                t.preventDefault(),
                d = !0,
                !0)) : !0
            }
        },
        _mouseMove: function(t) {
            if (this._mouseMoved) {
                if (e.ui.ie && (!document.documentMode || 9 > document.documentMode) && !t.button)
                    return this._mouseUp(t);
                if (!t.which)
                    return this._mouseUp(t)
            }
            return (t.which || t.button) && (this._mouseMoved = !0),
            this._mouseStarted ? (this._mouseDrag(t),
            t.preventDefault()) : (this._mouseDistanceMet(t) && this._mouseDelayMet(t) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, t) !== !1,
            this._mouseStarted ? this._mouseDrag(t) : this._mouseUp(t)),
            !this._mouseStarted)
        },
        _mouseUp: function(t) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate),
            this._mouseStarted && (this._mouseStarted = !1,
            t.target === this._mouseDownEvent.target && e.data(t.target, this.widgetName + ".preventClickEvent", !0),
            this._mouseStop(t)),
            d = !1,
            !1
        },
        _mouseDistanceMet: function(e) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - e.pageX), Math.abs(this._mouseDownEvent.pageY - e.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    }),
    function() {
        function t(e, t, i) {
            return [parseFloat(e[0]) * (p.test(e[0]) ? t / 100 : 1), parseFloat(e[1]) * (p.test(e[1]) ? i / 100 : 1)]
        }
        function i(t, i) {
            return parseInt(e.css(t, i), 10) || 0
        }
        function s(t) {
            var i = t[0];
            return 9 === i.nodeType ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : e.isWindow(i) ? {
                width: t.width(),
                height: t.height(),
                offset: {
                    top: t.scrollTop(),
                    left: t.scrollLeft()
                }
            } : i.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: i.pageY,
                    left: i.pageX
                }
            } : {
                width: t.outerWidth(),
                height: t.outerHeight(),
                offset: t.offset()
            }
        }
        e.ui = e.ui || {};
        var n, a, o = Math.max, r = Math.abs, h = Math.round, l = /left|center|right/, u = /top|center|bottom/, d = /[\+\-]\d+(\.[\d]+)?%?/, c = /^\w+/, p = /%$/, f = e.fn.position;
        e.position = {
            scrollbarWidth: function() {
                if (void 0 !== n)
                    return n;
                var t, i, s = e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"), a = s.children()[0];
                return e("body").append(s),
                t = a.offsetWidth,
                s.css("overflow", "scroll"),
                i = a.offsetWidth,
                t === i && (i = s[0].clientWidth),
                s.remove(),
                n = t - i
            },
            getScrollInfo: function(t) {
                var i = t.isWindow || t.isDocument ? "" : t.element.css("overflow-x")
                  , s = t.isWindow || t.isDocument ? "" : t.element.css("overflow-y")
                  , n = "scroll" === i || "auto" === i && t.width < t.element[0].scrollWidth
                  , a = "scroll" === s || "auto" === s && t.height < t.element[0].scrollHeight;
                return {
                    width: a ? e.position.scrollbarWidth() : 0,
                    height: n ? e.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(t) {
                var i = e(t || window)
                  , s = e.isWindow(i[0])
                  , n = !!i[0] && 9 === i[0].nodeType;
                return {
                    element: i,
                    isWindow: s,
                    isDocument: n,
                    offset: i.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: i.scrollLeft(),
                    scrollTop: i.scrollTop(),
                    width: s || n ? i.width() : i.outerWidth(),
                    height: s || n ? i.height() : i.outerHeight()
                }
            }
        },
        e.fn.position = function(n) {
            if (!n || !n.of)
                return f.apply(this, arguments);
            n = e.extend({}, n);
            var p, m, g, v, y, b, _ = e(n.of), x = e.position.getWithinInfo(n.within), w = e.position.getScrollInfo(x), k = (n.collision || "flip").split(" "), T = {};
            return b = s(_),
            _[0].preventDefault && (n.at = "left top"),
            m = b.width,
            g = b.height,
            v = b.offset,
            y = e.extend({}, v),
            e.each(["my", "at"], function() {
                var e, t, i = (n[this] || "").split(" ");
                1 === i.length && (i = l.test(i[0]) ? i.concat(["center"]) : u.test(i[0]) ? ["center"].concat(i) : ["center", "center"]),
                i[0] = l.test(i[0]) ? i[0] : "center",
                i[1] = u.test(i[1]) ? i[1] : "center",
                e = d.exec(i[0]),
                t = d.exec(i[1]),
                T[this] = [e ? e[0] : 0, t ? t[0] : 0],
                n[this] = [c.exec(i[0])[0], c.exec(i[1])[0]]
            }),
            1 === k.length && (k[1] = k[0]),
            "right" === n.at[0] ? y.left += m : "center" === n.at[0] && (y.left += m / 2),
            "bottom" === n.at[1] ? y.top += g : "center" === n.at[1] && (y.top += g / 2),
            p = t(T.at, m, g),
            y.left += p[0],
            y.top += p[1],
            this.each(function() {
                var s, l, u = e(this), d = u.outerWidth(), c = u.outerHeight(), f = i(this, "marginLeft"), b = i(this, "marginTop"), D = d + f + i(this, "marginRight") + w.width, S = c + b + i(this, "marginBottom") + w.height, M = e.extend({}, y), C = t(T.my, u.outerWidth(), u.outerHeight());
                "right" === n.my[0] ? M.left -= d : "center" === n.my[0] && (M.left -= d / 2),
                "bottom" === n.my[1] ? M.top -= c : "center" === n.my[1] && (M.top -= c / 2),
                M.left += C[0],
                M.top += C[1],
                a || (M.left = h(M.left),
                M.top = h(M.top)),
                s = {
                    marginLeft: f,
                    marginTop: b
                },
                e.each(["left", "top"], function(t, i) {
                    e.ui.position[k[t]] && e.ui.position[k[t]][i](M, {
                        targetWidth: m,
                        targetHeight: g,
                        elemWidth: d,
                        elemHeight: c,
                        collisionPosition: s,
                        collisionWidth: D,
                        collisionHeight: S,
                        offset: [p[0] + C[0], p[1] + C[1]],
                        my: n.my,
                        at: n.at,
                        within: x,
                        elem: u
                    })
                }),
                n.using && (l = function(e) {
                    var t = v.left - M.left
                      , i = t + m - d
                      , s = v.top - M.top
                      , a = s + g - c
                      , h = {
                        target: {
                            element: _,
                            left: v.left,
                            top: v.top,
                            width: m,
                            height: g
                        },
                        element: {
                            element: u,
                            left: M.left,
                            top: M.top,
                            width: d,
                            height: c
                        },
                        horizontal: 0 > i ? "left" : t > 0 ? "right" : "center",
                        vertical: 0 > a ? "top" : s > 0 ? "bottom" : "middle"
                    };
                    d > m && m > r(t + i) && (h.horizontal = "center"),
                    c > g && g > r(s + a) && (h.vertical = "middle"),
                    h.important = o(r(t), r(i)) > o(r(s), r(a)) ? "horizontal" : "vertical",
                    n.using.call(this, e, h)
                }
                ),
                u.offset(e.extend(M, {
                    using: l
                }))
            })
        }
        ,
        e.ui.position = {
            fit: {
                left: function(e, t) {
                    var i, s = t.within, n = s.isWindow ? s.scrollLeft : s.offset.left, a = s.width, r = e.left - t.collisionPosition.marginLeft, h = n - r, l = r + t.collisionWidth - a - n;
                    t.collisionWidth > a ? h > 0 && 0 >= l ? (i = e.left + h + t.collisionWidth - a - n,
                    e.left += h - i) : e.left = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionWidth : n : h > 0 ? e.left += h : l > 0 ? e.left -= l : e.left = o(e.left - r, e.left)
                },
                top: function(e, t) {
                    var i, s = t.within, n = s.isWindow ? s.scrollTop : s.offset.top, a = t.within.height, r = e.top - t.collisionPosition.marginTop, h = n - r, l = r + t.collisionHeight - a - n;
                    t.collisionHeight > a ? h > 0 && 0 >= l ? (i = e.top + h + t.collisionHeight - a - n,
                    e.top += h - i) : e.top = l > 0 && 0 >= h ? n : h > l ? n + a - t.collisionHeight : n : h > 0 ? e.top += h : l > 0 ? e.top -= l : e.top = o(e.top - r, e.top)
                }
            },
            flip: {
                left: function(e, t) {
                    var i, s, n = t.within, a = n.offset.left + n.scrollLeft, o = n.width, h = n.isWindow ? n.scrollLeft : n.offset.left, l = e.left - t.collisionPosition.marginLeft, u = l - h, d = l + t.collisionWidth - o - h, c = "left" === t.my[0] ? -t.elemWidth : "right" === t.my[0] ? t.elemWidth : 0, p = "left" === t.at[0] ? t.targetWidth : "right" === t.at[0] ? -t.targetWidth : 0, f = -2 * t.offset[0];
                    0 > u ? (i = e.left + c + p + f + t.collisionWidth - o - a,
                    (0 > i || r(u) > i) && (e.left += c + p + f)) : d > 0 && (s = e.left - t.collisionPosition.marginLeft + c + p + f - h,
                    (s > 0 || d > r(s)) && (e.left += c + p + f))
                },
                top: function(e, t) {
                    var i, s, n = t.within, a = n.offset.top + n.scrollTop, o = n.height, h = n.isWindow ? n.scrollTop : n.offset.top, l = e.top - t.collisionPosition.marginTop, u = l - h, d = l + t.collisionHeight - o - h, c = "top" === t.my[1], p = c ? -t.elemHeight : "bottom" === t.my[1] ? t.elemHeight : 0, f = "top" === t.at[1] ? t.targetHeight : "bottom" === t.at[1] ? -t.targetHeight : 0, m = -2 * t.offset[1];
                    0 > u ? (s = e.top + p + f + m + t.collisionHeight - o - a,
                    (0 > s || r(u) > s) && (e.top += p + f + m)) : d > 0 && (i = e.top - t.collisionPosition.marginTop + p + f + m - h,
                    (i > 0 || d > r(i)) && (e.top += p + f + m))
                }
            },
            flipfit: {
                left: function() {
                    e.ui.position.flip.left.apply(this, arguments),
                    e.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    e.ui.position.flip.top.apply(this, arguments),
                    e.ui.position.fit.top.apply(this, arguments)
                }
            }
        },
        function() {
            var t, i, s, n, o, r = document.getElementsByTagName("body")[0], h = document.createElement("div");
            t = document.createElement(r ? "div" : "body"),
            s = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            },
            r && e.extend(s, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (o in s)
                t.style[o] = s[o];
            t.appendChild(h),
            i = r || document.documentElement,
            i.insertBefore(t, i.firstChild),
            h.style.cssText = "position: absolute; left: 10.7432222px;",
            n = e(h).offset().left,
            a = n > 10 && 11 > n,
            t.innerHTML = "",
            i.removeChild(t)
        }()
    }(),
    e.ui.position,
    e.widget("ui.draggable", e.ui.mouse, {
        version: "1.11.3",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(),
            this.options.addClasses && this.element.addClass("ui-draggable"),
            this.options.disabled && this.element.addClass("ui-draggable-disabled"),
            this._setHandleClassName(),
            this._mouseInit()
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "handle" === e && (this._removeHandleClassName(),
            this._setHandleClassName())
        },
        _destroy: function() {
            return (this.helper || this.element).is(".ui-draggable-dragging") ? (this.destroyOnClear = !0,
            void 0) : (this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),
            this._removeHandleClassName(),
            this._mouseDestroy(),
            void 0)
        },
        _mouseCapture: function(t) {
            var i = this.options;
            return this._blurActiveElement(t),
            this.helper || i.disabled || e(t.target).closest(".ui-resizable-handle").length > 0 ? !1 : (this.handle = this._getHandle(t),
            this.handle ? (this._blockFrames(i.iframeFix === !0 ? "iframe" : i.iframeFix),
            !0) : !1)
        },
        _blockFrames: function(t) {
            this.iframeBlocks = this.document.find(t).map(function() {
                var t = e(this);
                return e("<div>").css("position", "absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _blurActiveElement: function(t) {
            var i = this.document[0];
            if (this.handleElement.is(t.target))
                try {
                    i.activeElement && "body" !== i.activeElement.nodeName.toLowerCase() && e(i.activeElement).blur()
                } catch (s) {}
        },
        _mouseStart: function(t) {
            var i = this.options;
            return this.helper = this._createHelper(t),
            this.helper.addClass("ui-draggable-dragging"),
            this._cacheHelperProportions(),
            e.ui.ddmanager && (e.ui.ddmanager.current = this),
            this._cacheMargins(),
            this.cssPosition = this.helper.css("position"),
            this.scrollParent = this.helper.scrollParent(!0),
            this.offsetParent = this.helper.offsetParent(),
            this.hasFixedAncestor = this.helper.parents().filter(function() {
                return "fixed" === e(this).css("position")
            }).length > 0,
            this.positionAbs = this.element.offset(),
            this._refreshOffsets(t),
            this.originalPosition = this.position = this._generatePosition(t, !1),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            i.cursorAt && this._adjustOffsetFromHelper(i.cursorAt),
            this._setContainment(),
            this._trigger("start", t) === !1 ? (this._clear(),
            !1) : (this._cacheHelperProportions(),
            e.ui.ddmanager && !i.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this._normalizeRightBottom(),
            this._mouseDrag(t, !0),
            e.ui.ddmanager && e.ui.ddmanager.dragStart(this, t),
            !0)
        },
        _refreshOffsets: function(e) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            },
            this.offset.click = {
                left: e.pageX - this.offset.left,
                top: e.pageY - this.offset.top
            }
        },
        _mouseDrag: function(t, i) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()),
            this.position = this._generatePosition(t, !0),
            this.positionAbs = this._convertPositionTo("absolute"),
            !i) {
                var s = this._uiHash();
                if (this._trigger("drag", t, s) === !1)
                    return this._mouseUp({}),
                    !1;
                this.position = s.position
            }
            return this.helper[0].style.left = this.position.left + "px",
            this.helper[0].style.top = this.position.top + "px",
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            !1
        },
        _mouseStop: function(t) {
            var i = this
              , s = !1;
            return e.ui.ddmanager && !this.options.dropBehaviour && (s = e.ui.ddmanager.drop(this, t)),
            this.dropped && (s = this.dropped,
            this.dropped = !1),
            "invalid" === this.options.revert && !s || "valid" === this.options.revert && s || this.options.revert === !0 || e.isFunction(this.options.revert) && this.options.revert.call(this.element, s) ? e(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                i._trigger("stop", t) !== !1 && i._clear()
            }) : this._trigger("stop", t) !== !1 && this._clear(),
            !1
        },
        _mouseUp: function(t) {
            return this._unblockFrames(),
            e.ui.ddmanager && e.ui.ddmanager.dragStop(this, t),
            this.handleElement.is(t.target) && this.element.focus(),
            e.ui.mouse.prototype._mouseUp.call(this, t)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(),
            this
        },
        _getHandle: function(t) {
            return this.options.handle ? !!e(t.target).closest(this.element.find(this.options.handle)).length : !0
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element,
            this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(t) {
            var i = this.options
              , s = e.isFunction(i.helper)
              , n = s ? e(i.helper.apply(this.element[0], [t])) : "clone" === i.helper ? this.element.clone().removeAttr("id") : this.element;
            return n.parents("body").length || n.appendTo("parent" === i.appendTo ? this.element[0].parentNode : i.appendTo),
            s && n[0] === this.element[0] && this._setPositionRelative(),
            n[0] === this.element[0] || /(fixed|absolute)/.test(n.css("position")) || n.css("position", "absolute"),
            n
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _isRootNode: function(e) {
            return /(html|body)/i.test(e.tagName) || e === this.document[0]
        },
        _getParentOffset: function() {
            var t = this.offsetParent.offset()
              , i = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== i && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            this._isRootNode(this.offsetParent[0]) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            var e = this.element.position()
              , t = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + (t ? 0 : this.scrollParent.scrollTop()),
                left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + (t ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, i, s, n = this.options, a = this.document[0];
            return this.relativeContainer = null,
            n.containment ? "window" === n.containment ? (this.containment = [e(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, e(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, e(window).scrollLeft() + e(window).width() - this.helperProportions.width - this.margins.left, e(window).scrollTop() + (e(window).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
            void 0) : "document" === n.containment ? (this.containment = [0, 0, e(a).width() - this.helperProportions.width - this.margins.left, (e(a).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top],
            void 0) : n.containment.constructor === Array ? (this.containment = n.containment,
            void 0) : ("parent" === n.containment && (n.containment = this.helper[0].parentNode),
            i = e(n.containment),
            s = i[0],
            s && (t = /(scroll|auto)/.test(i.css("overflow")),
            this.containment = [(parseInt(i.css("borderLeftWidth"), 10) || 0) + (parseInt(i.css("paddingLeft"), 10) || 0), (parseInt(i.css("borderTopWidth"), 10) || 0) + (parseInt(i.css("paddingTop"), 10) || 0), (t ? Math.max(s.scrollWidth, s.offsetWidth) : s.offsetWidth) - (parseInt(i.css("borderRightWidth"), 10) || 0) - (parseInt(i.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (t ? Math.max(s.scrollHeight, s.offsetHeight) : s.offsetHeight) - (parseInt(i.css("borderBottomWidth"), 10) || 0) - (parseInt(i.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom],
            this.relativeContainer = i),
            void 0) : (this.containment = null,
            void 0)
        },
        _convertPositionTo: function(e, t) {
            t || (t = this.position);
            var i = "absolute" === e ? 1 : -1
              , s = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top + this.offset.relative.top * i + this.offset.parent.top * i - ("fixed" === this.cssPosition ? -this.offset.scroll.top : s ? 0 : this.offset.scroll.top) * i,
                left: t.left + this.offset.relative.left * i + this.offset.parent.left * i - ("fixed" === this.cssPosition ? -this.offset.scroll.left : s ? 0 : this.offset.scroll.left) * i
            }
        },
        _generatePosition: function(e, t) {
            var i, s, n, a, o = this.options, r = this._isRootNode(this.scrollParent[0]), h = e.pageX, l = e.pageY;
            return r && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }),
            t && (this.containment && (this.relativeContainer ? (s = this.relativeContainer.offset(),
            i = [this.containment[0] + s.left, this.containment[1] + s.top, this.containment[2] + s.left, this.containment[3] + s.top]) : i = this.containment,
            e.pageX - this.offset.click.left < i[0] && (h = i[0] + this.offset.click.left),
            e.pageY - this.offset.click.top < i[1] && (l = i[1] + this.offset.click.top),
            e.pageX - this.offset.click.left > i[2] && (h = i[2] + this.offset.click.left),
            e.pageY - this.offset.click.top > i[3] && (l = i[3] + this.offset.click.top)),
            o.grid && (n = o.grid[1] ? this.originalPageY + Math.round((l - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY,
            l = i ? n - this.offset.click.top >= i[1] || n - this.offset.click.top > i[3] ? n : n - this.offset.click.top >= i[1] ? n - o.grid[1] : n + o.grid[1] : n,
            a = o.grid[0] ? this.originalPageX + Math.round((h - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX,
            h = i ? a - this.offset.click.left >= i[0] || a - this.offset.click.left > i[2] ? a : a - this.offset.click.left >= i[0] ? a - o.grid[0] : a + o.grid[0] : a),
            "y" === o.axis && (h = this.originalPageX),
            "x" === o.axis && (l = this.originalPageY)),
            {
                top: l - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top),
                left: h - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"),
            this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(),
            this.helper = null,
            this.cancelHelperRemoval = !1,
            this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()),
            this.helper.css("right", "auto")),
            "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()),
            this.helper.css("bottom", "auto"))
        },
        _trigger: function(t, i, s) {
            return s = s || this._uiHash(),
            e.ui.plugin.call(this, t, [i, s, this], !0),
            /^(drag|start|stop)/.test(t) && (this.positionAbs = this._convertPositionTo("absolute"),
            s.offset = this.positionAbs),
            e.Widget.prototype._trigger.call(this, t, i, s)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }),
    e.ui.plugin.add("draggable", "connectToSortable", {
        start: function(t, i, s) {
            var n = e.extend({}, i, {
                item: s.element
            });
            s.sortables = [],
            e(s.options.connectToSortable).each(function() {
                var i = e(this).sortable("instance");
                i && !i.options.disabled && (s.sortables.push(i),
                i.refreshPositions(),
                i._trigger("activate", t, n))
            })
        },
        stop: function(t, i, s) {
            var n = e.extend({}, i, {
                item: s.element
            });
            s.cancelHelperRemoval = !1,
            e.each(s.sortables, function() {
                var e = this;
                e.isOver ? (e.isOver = 0,
                s.cancelHelperRemoval = !0,
                e.cancelHelperRemoval = !1,
                e._storedCSS = {
                    position: e.placeholder.css("position"),
                    top: e.placeholder.css("top"),
                    left: e.placeholder.css("left")
                },
                e._mouseStop(t),
                e.options.helper = e.options._helper) : (e.cancelHelperRemoval = !0,
                e._trigger("deactivate", t, n))
            })
        },
        drag: function(t, i, s) {
            e.each(s.sortables, function() {
                var n = !1
                  , a = this;
                a.positionAbs = s.positionAbs,
                a.helperProportions = s.helperProportions,
                a.offset.click = s.offset.click,
                a._intersectsWith(a.containerCache) && (n = !0,
                e.each(s.sortables, function() {
                    return this.positionAbs = s.positionAbs,
                    this.helperProportions = s.helperProportions,
                    this.offset.click = s.offset.click,
                    this !== a && this._intersectsWith(this.containerCache) && e.contains(a.element[0], this.element[0]) && (n = !1),
                    n
                })),
                n ? (a.isOver || (a.isOver = 1,
                a.currentItem = i.helper.appendTo(a.element).data("ui-sortable-item", !0),
                a.options._helper = a.options.helper,
                a.options.helper = function() {
                    return i.helper[0]
                }
                ,
                t.target = a.currentItem[0],
                a._mouseCapture(t, !0),
                a._mouseStart(t, !0, !0),
                a.offset.click.top = s.offset.click.top,
                a.offset.click.left = s.offset.click.left,
                a.offset.parent.left -= s.offset.parent.left - a.offset.parent.left,
                a.offset.parent.top -= s.offset.parent.top - a.offset.parent.top,
                s._trigger("toSortable", t),
                s.dropped = a.element,
                e.each(s.sortables, function() {
                    this.refreshPositions()
                }),
                s.currentItem = s.element,
                a.fromOutside = s),
                a.currentItem && (a._mouseDrag(t),
                i.position = a.position)) : a.isOver && (a.isOver = 0,
                a.cancelHelperRemoval = !0,
                a.options._revert = a.options.revert,
                a.options.revert = !1,
                a._trigger("out", t, a._uiHash(a)),
                a._mouseStop(t, !0),
                a.options.revert = a.options._revert,
                a.options.helper = a.options._helper,
                a.placeholder && a.placeholder.remove(),
                s._refreshOffsets(t),
                i.position = s._generatePosition(t, !0),
                s._trigger("fromSortable", t),
                s.dropped = !1,
                e.each(s.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    }),
    e.ui.plugin.add("draggable", "cursor", {
        start: function(t, i, s) {
            var n = e("body")
              , a = s.options;
            n.css("cursor") && (a._cursor = n.css("cursor")),
            n.css("cursor", a.cursor)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._cursor && e("body").css("cursor", n._cursor)
        }
    }),
    e.ui.plugin.add("draggable", "opacity", {
        start: function(t, i, s) {
            var n = e(i.helper)
              , a = s.options;
            n.css("opacity") && (a._opacity = n.css("opacity")),
            n.css("opacity", a.opacity)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._opacity && e(i.helper).css("opacity", n._opacity)
        }
    }),
    e.ui.plugin.add("draggable", "scroll", {
        start: function(e, t, i) {
            i.scrollParentNotHidden || (i.scrollParentNotHidden = i.helper.scrollParent(!1)),
            i.scrollParentNotHidden[0] !== i.document[0] && "HTML" !== i.scrollParentNotHidden[0].tagName && (i.overflowOffset = i.scrollParentNotHidden.offset())
        },
        drag: function(t, i, s) {
            var n = s.options
              , a = !1
              , o = s.scrollParentNotHidden[0]
              , r = s.document[0];
            o !== r && "HTML" !== o.tagName ? (n.axis && "x" === n.axis || (s.overflowOffset.top + o.offsetHeight - t.pageY < n.scrollSensitivity ? o.scrollTop = a = o.scrollTop + n.scrollSpeed : t.pageY - s.overflowOffset.top < n.scrollSensitivity && (o.scrollTop = a = o.scrollTop - n.scrollSpeed)),
            n.axis && "y" === n.axis || (s.overflowOffset.left + o.offsetWidth - t.pageX < n.scrollSensitivity ? o.scrollLeft = a = o.scrollLeft + n.scrollSpeed : t.pageX - s.overflowOffset.left < n.scrollSensitivity && (o.scrollLeft = a = o.scrollLeft - n.scrollSpeed))) : (n.axis && "x" === n.axis || (t.pageY - e(r).scrollTop() < n.scrollSensitivity ? a = e(r).scrollTop(e(r).scrollTop() - n.scrollSpeed) : e(window).height() - (t.pageY - e(r).scrollTop()) < n.scrollSensitivity && (a = e(r).scrollTop(e(r).scrollTop() + n.scrollSpeed))),
            n.axis && "y" === n.axis || (t.pageX - e(r).scrollLeft() < n.scrollSensitivity ? a = e(r).scrollLeft(e(r).scrollLeft() - n.scrollSpeed) : e(window).width() - (t.pageX - e(r).scrollLeft()) < n.scrollSensitivity && (a = e(r).scrollLeft(e(r).scrollLeft() + n.scrollSpeed)))),
            a !== !1 && e.ui.ddmanager && !n.dropBehaviour && e.ui.ddmanager.prepareOffsets(s, t)
        }
    }),
    e.ui.plugin.add("draggable", "snap", {
        start: function(t, i, s) {
            var n = s.options;
            s.snapElements = [],
            e(n.snap.constructor !== String ? n.snap.items || ":data(ui-draggable)" : n.snap).each(function() {
                var t = e(this)
                  , i = t.offset();
                this !== s.element[0] && s.snapElements.push({
                    item: this,
                    width: t.outerWidth(),
                    height: t.outerHeight(),
                    top: i.top,
                    left: i.left
                })
            })
        },
        drag: function(t, i, s) {
            var n, a, o, r, h, l, u, d, c, p, f = s.options, m = f.snapTolerance, g = i.offset.left, v = g + s.helperProportions.width, y = i.offset.top, b = y + s.helperProportions.height;
            for (c = s.snapElements.length - 1; c >= 0; c--)
                h = s.snapElements[c].left - s.margins.left,
                l = h + s.snapElements[c].width,
                u = s.snapElements[c].top - s.margins.top,
                d = u + s.snapElements[c].height,
                h - m > v || g > l + m || u - m > b || y > d + m || !e.contains(s.snapElements[c].item.ownerDocument, s.snapElements[c].item) ? (s.snapElements[c].snapping && s.options.snap.release && s.options.snap.release.call(s.element, t, e.extend(s._uiHash(), {
                    snapItem: s.snapElements[c].item
                })),
                s.snapElements[c].snapping = !1) : ("inner" !== f.snapMode && (n = m >= Math.abs(u - b),
                a = m >= Math.abs(d - y),
                o = m >= Math.abs(h - v),
                r = m >= Math.abs(l - g),
                n && (i.position.top = s._convertPositionTo("relative", {
                    top: u - s.helperProportions.height,
                    left: 0
                }).top),
                a && (i.position.top = s._convertPositionTo("relative", {
                    top: d,
                    left: 0
                }).top),
                o && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: h - s.helperProportions.width
                }).left),
                r && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left)),
                p = n || a || o || r,
                "outer" !== f.snapMode && (n = m >= Math.abs(u - y),
                a = m >= Math.abs(d - b),
                o = m >= Math.abs(h - g),
                r = m >= Math.abs(l - v),
                n && (i.position.top = s._convertPositionTo("relative", {
                    top: u,
                    left: 0
                }).top),
                a && (i.position.top = s._convertPositionTo("relative", {
                    top: d - s.helperProportions.height,
                    left: 0
                }).top),
                o && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: h
                }).left),
                r && (i.position.left = s._convertPositionTo("relative", {
                    top: 0,
                    left: l - s.helperProportions.width
                }).left)),
                !s.snapElements[c].snapping && (n || a || o || r || p) && s.options.snap.snap && s.options.snap.snap.call(s.element, t, e.extend(s._uiHash(), {
                    snapItem: s.snapElements[c].item
                })),
                s.snapElements[c].snapping = n || a || o || r || p)
        }
    }),
    e.ui.plugin.add("draggable", "stack", {
        start: function(t, i, s) {
            var n, a = s.options, o = e.makeArray(e(a.stack)).sort(function(t, i) {
                return (parseInt(e(t).css("zIndex"), 10) || 0) - (parseInt(e(i).css("zIndex"), 10) || 0)
            });
            o.length && (n = parseInt(e(o[0]).css("zIndex"), 10) || 0,
            e(o).each(function(t) {
                e(this).css("zIndex", n + t)
            }),
            this.css("zIndex", n + o.length))
        }
    }),
    e.ui.plugin.add("draggable", "zIndex", {
        start: function(t, i, s) {
            var n = e(i.helper)
              , a = s.options;
            n.css("zIndex") && (a._zIndex = n.css("zIndex")),
            n.css("zIndex", a.zIndex)
        },
        stop: function(t, i, s) {
            var n = s.options;
            n._zIndex && e(i.helper).css("zIndex", n._zIndex)
        }
    }),
    e.ui.draggable,
    e.widget("ui.droppable", {
        version: "1.11.3",
        widgetEventPrefix: "drop",
        options: {
            accept: "*",
            activeClass: !1,
            addClasses: !0,
            greedy: !1,
            hoverClass: !1,
            scope: "default",
            tolerance: "intersect",
            activate: null,
            deactivate: null,
            drop: null,
            out: null,
            over: null
        },
        _create: function() {
            var t, i = this.options, s = i.accept;
            this.isover = !1,
            this.isout = !0,
            this.accept = e.isFunction(s) ? s : function(e) {
                return e.is(s)
            }
            ,
            this.proportions = function() {
                return arguments.length ? (t = arguments[0],
                void 0) : t ? t : t = {
                    width: this.element[0].offsetWidth,
                    height: this.element[0].offsetHeight
                }
            }
            ,
            this._addToManager(i.scope),
            i.addClasses && this.element.addClass("ui-droppable")
        },
        _addToManager: function(t) {
            e.ui.ddmanager.droppables[t] = e.ui.ddmanager.droppables[t] || [],
            e.ui.ddmanager.droppables[t].push(this)
        },
        _splice: function(e) {
            for (var t = 0; e.length > t; t++)
                e[t] === this && e.splice(t, 1)
        },
        _destroy: function() {
            var t = e.ui.ddmanager.droppables[this.options.scope];
            this._splice(t),
            this.element.removeClass("ui-droppable ui-droppable-disabled")
        },
        _setOption: function(t, i) {
            if ("accept" === t)
                this.accept = e.isFunction(i) ? i : function(e) {
                    return e.is(i)
                }
                ;
            else if ("scope" === t) {
                var s = e.ui.ddmanager.droppables[this.options.scope];
                this._splice(s),
                this._addToManager(i)
            }
            this._super(t, i)
        },
        _activate: function(t) {
            var i = e.ui.ddmanager.current;
            this.options.activeClass && this.element.addClass(this.options.activeClass),
            i && this._trigger("activate", t, this.ui(i))
        },
        _deactivate: function(t) {
            var i = e.ui.ddmanager.current;
            this.options.activeClass && this.element.removeClass(this.options.activeClass),
            i && this._trigger("deactivate", t, this.ui(i))
        },
        _over: function(t) {
            var i = e.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.addClass(this.options.hoverClass),
            this._trigger("over", t, this.ui(i)))
        },
        _out: function(t) {
            var i = e.ui.ddmanager.current;
            i && (i.currentItem || i.element)[0] !== this.element[0] && this.accept.call(this.element[0], i.currentItem || i.element) && (this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("out", t, this.ui(i)))
        },
        _drop: function(t, i) {
            var s = i || e.ui.ddmanager.current
              , n = !1;
            return s && (s.currentItem || s.element)[0] !== this.element[0] ? (this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                var i = e(this).droppable("instance");
                return i.options.greedy && !i.options.disabled && i.options.scope === s.options.scope && i.accept.call(i.element[0], s.currentItem || s.element) && e.ui.intersect(s, e.extend(i, {
                    offset: i.element.offset()
                }), i.options.tolerance, t) ? (n = !0,
                !1) : void 0
            }),
            n ? !1 : this.accept.call(this.element[0], s.currentItem || s.element) ? (this.options.activeClass && this.element.removeClass(this.options.activeClass),
            this.options.hoverClass && this.element.removeClass(this.options.hoverClass),
            this._trigger("drop", t, this.ui(s)),
            this.element) : !1) : !1
        },
        ui: function(e) {
            return {
                draggable: e.currentItem || e.element,
                helper: e.helper,
                position: e.position,
                offset: e.positionAbs
            }
        }
    }),
    e.ui.intersect = function() {
        function e(e, t, i) {
            return e >= t && t + i > e
        }
        return function(t, i, s, n) {
            if (!i.offset)
                return !1;
            var a = (t.positionAbs || t.position.absolute).left + t.margins.left
              , o = (t.positionAbs || t.position.absolute).top + t.margins.top
              , r = a + t.helperProportions.width
              , h = o + t.helperProportions.height
              , l = i.offset.left
              , u = i.offset.top
              , d = l + i.proportions().width
              , c = u + i.proportions().height;
            switch (s) {
            case "fit":
                return a >= l && d >= r && o >= u && c >= h;
            case "intersect":
                return a + t.helperProportions.width / 2 > l && d > r - t.helperProportions.width / 2 && o + t.helperProportions.height / 2 > u && c > h - t.helperProportions.height / 2;
            case "pointer":
                return e(n.pageY, u, i.proportions().height) && e(n.pageX, l, i.proportions().width);
            case "touch":
                return (o >= u && c >= o || h >= u && c >= h || u > o && h > c) && (a >= l && d >= a || r >= l && d >= r || l > a && r > d);
            default:
                return !1
            }
        }
    }(),
    e.ui.ddmanager = {
        current: null,
        droppables: {
            "default": []
        },
        prepareOffsets: function(t, i) {
            var s, n, a = e.ui.ddmanager.droppables[t.options.scope] || [], o = i ? i.type : null, r = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
            e: for (s = 0; a.length > s; s++)
                if (!(a[s].options.disabled || t && !a[s].accept.call(a[s].element[0], t.currentItem || t.element))) {
                    for (n = 0; r.length > n; n++)
                        if (r[n] === a[s].element[0]) {
                            a[s].proportions().height = 0;
                            continue e
                        }
                    a[s].visible = "none" !== a[s].element.css("display"),
                    a[s].visible && ("mousedown" === o && a[s]._activate.call(a[s], i),
                    a[s].offset = a[s].element.offset(),
                    a[s].proportions({
                        width: a[s].element[0].offsetWidth,
                        height: a[s].element[0].offsetHeight
                    }))
                }
        },
        drop: function(t, i) {
            var s = !1;
            return e.each((e.ui.ddmanager.droppables[t.options.scope] || []).slice(), function() {
                this.options && (!this.options.disabled && this.visible && e.ui.intersect(t, this, this.options.tolerance, i) && (s = this._drop.call(this, i) || s),
                !this.options.disabled && this.visible && this.accept.call(this.element[0], t.currentItem || t.element) && (this.isout = !0,
                this.isover = !1,
                this._deactivate.call(this, i)))
            }),
            s
        },
        dragStart: function(t, i) {
            t.element.parentsUntil("body").bind("scroll.droppable", function() {
                t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i)
            })
        },
        drag: function(t, i) {
            t.options.refreshPositions && e.ui.ddmanager.prepareOffsets(t, i),
            e.each(e.ui.ddmanager.droppables[t.options.scope] || [], function() {
                if (!this.options.disabled && !this.greedyChild && this.visible) {
                    var s, n, a, o = e.ui.intersect(t, this, this.options.tolerance, i), r = !o && this.isover ? "isout" : o && !this.isover ? "isover" : null;
                    r && (this.options.greedy && (n = this.options.scope,
                    a = this.element.parents(":data(ui-droppable)").filter(function() {
                        return e(this).droppable("instance").options.scope === n
                    }),
                    a.length && (s = e(a[0]).droppable("instance"),
                    s.greedyChild = "isover" === r)),
                    s && "isover" === r && (s.isover = !1,
                    s.isout = !0,
                    s._out.call(s, i)),
                    this[r] = !0,
                    this["isout" === r ? "isover" : "isout"] = !1,
                    this["isover" === r ? "_over" : "_out"].call(this, i),
                    s && "isout" === r && (s.isout = !1,
                    s.isover = !0,
                    s._over.call(s, i)))
                }
            })
        },
        dragStop: function(t, i) {
            t.element.parentsUntil("body").unbind("scroll.droppable"),
            t.options.refreshPositions || e.ui.ddmanager.prepareOffsets(t, i)
        }
    },
    e.ui.droppable,
    e.widget("ui.resizable", e.ui.mouse, {
        version: "1.11.3",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(e) {
            return parseInt(e, 10) || 0
        },
        _isNumber: function(e) {
            return !isNaN(parseInt(e, 10))
        },
        _hasScroll: function(t, i) {
            if ("hidden" === e(t).css("overflow"))
                return !1;
            var s = i && "left" === i ? "scrollLeft" : "scrollTop"
              , n = !1;
            return t[s] > 0 ? !0 : (t[s] = 1,
            n = t[s] > 0,
            t[s] = 0,
            n)
        },
        _create: function() {
            var t, i, s, n, a, o = this, r = this.options;
            if (this.element.addClass("ui-resizable"),
            e.extend(this, {
                _aspectRatio: !!r.aspectRatio,
                aspectRatio: r.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
            }),
            this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })),
            this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")),
            this.elementIsWrapper = !0,
            this.element.css({
                marginLeft: this.originalElement.css("marginLeft"),
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom")
            }),
            this.originalElement.css({
                marginLeft: 0,
                marginTop: 0,
                marginRight: 0,
                marginBottom: 0
            }),
            this.originalResizeStyle = this.originalElement.css("resize"),
            this.originalElement.css("resize", "none"),
            this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })),
            this.originalElement.css({
                margin: this.originalElement.css("margin")
            }),
            this._proportionallyResize()),
            this.handles = r.handles || (e(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se"),
            this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"),
                t = this.handles.split(","),
                this.handles = {},
                i = 0; t.length > i; i++)
                    s = e.trim(t[i]),
                    a = "ui-resizable-" + s,
                    n = e("<div class='ui-resizable-handle " + a + "'></div>"),
                    n.css({
                        zIndex: r.zIndex
                    }),
                    "se" === s && n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),
                    this.handles[s] = ".ui-resizable-" + s,
                    this.element.append(n);
            this._renderAxis = function(t) {
                var i, s, n, a;
                t = t || this.element;
                for (i in this.handles)
                    this.handles[i].constructor === String && (this.handles[i] = this.element.children(this.handles[i]).first().show()),
                    this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (s = e(this.handles[i], this.element),
                    a = /sw|ne|nw|se|n|s/.test(i) ? s.outerHeight() : s.outerWidth(),
                    n = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join(""),
                    t.css(n, a),
                    this._proportionallyResize()),
                    e(this.handles[i]).length
            }
            ,
            this._renderAxis(this.element),
            this._handles = e(".ui-resizable-handle", this.element).disableSelection(),
            this._handles.mouseover(function() {
                o.resizing || (this.className && (n = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),
                o.axis = n && n[1] ? n[1] : "se")
            }),
            r.autoHide && (this._handles.hide(),
            e(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                r.disabled || (e(this).removeClass("ui-resizable-autohide"),
                o._handles.show())
            }).mouseleave(function() {
                r.disabled || o.resizing || (e(this).addClass("ui-resizable-autohide"),
                o._handles.hide())
            })),
            this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var t, i = function(t) {
                e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
            };
            return this.elementIsWrapper && (i(this.element),
            t = this.element,
            this.originalElement.css({
                position: t.css("position"),
                width: t.outerWidth(),
                height: t.outerHeight(),
                top: t.css("top"),
                left: t.css("left")
            }).insertAfter(t),
            t.remove()),
            this.originalElement.css("resize", this.originalResizeStyle),
            i(this.originalElement),
            this
        },
        _mouseCapture: function(t) {
            var i, s, n = !1;
            for (i in this.handles)
                s = e(this.handles[i])[0],
                (s === t.target || e.contains(s, t.target)) && (n = !0);
            return !this.options.disabled && n
        },
        _mouseStart: function(t) {
            var i, s, n, a = this.options, o = this.element;
            return this.resizing = !0,
            this._renderProxy(),
            i = this._num(this.helper.css("left")),
            s = this._num(this.helper.css("top")),
            a.containment && (i += e(a.containment).scrollLeft() || 0,
            s += e(a.containment).scrollTop() || 0),
            this.offset = this.helper.offset(),
            this.position = {
                left: i,
                top: s
            },
            this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: o.width(),
                height: o.height()
            },
            this.originalSize = this._helper ? {
                width: o.outerWidth(),
                height: o.outerHeight()
            } : {
                width: o.width(),
                height: o.height()
            },
            this.sizeDiff = {
                width: o.outerWidth() - o.width(),
                height: o.outerHeight() - o.height()
            },
            this.originalPosition = {
                left: i,
                top: s
            },
            this.originalMousePosition = {
                left: t.pageX,
                top: t.pageY
            },
            this.aspectRatio = "number" == typeof a.aspectRatio ? a.aspectRatio : this.originalSize.width / this.originalSize.height || 1,
            n = e(".ui-resizable-" + this.axis).css("cursor"),
            e("body").css("cursor", "auto" === n ? this.axis + "-resize" : n),
            o.addClass("ui-resizable-resizing"),
            this._propagate("start", t),
            !0
        },
        _mouseDrag: function(t) {
            var i, s, n = this.originalMousePosition, a = this.axis, o = t.pageX - n.left || 0, r = t.pageY - n.top || 0, h = this._change[a];
            return this._updatePrevProperties(),
            h ? (i = h.apply(this, [t, o, r]),
            this._updateVirtualBoundaries(t.shiftKey),
            (this._aspectRatio || t.shiftKey) && (i = this._updateRatio(i, t)),
            i = this._respectSize(i, t),
            this._updateCache(i),
            this._propagate("resize", t),
            s = this._applyChanges(),
            !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(),
            e.isEmptyObject(s) || (this._updatePrevProperties(),
            this._trigger("resize", t, this.ui()),
            this._applyChanges()),
            !1) : !1
        },
        _mouseStop: function(t) {
            this.resizing = !1;
            var i, s, n, a, o, r, h, l = this.options, u = this;
            return this._helper && (i = this._proportionallyResizeElements,
            s = i.length && /textarea/i.test(i[0].nodeName),
            n = s && this._hasScroll(i[0], "left") ? 0 : u.sizeDiff.height,
            a = s ? 0 : u.sizeDiff.width,
            o = {
                width: u.helper.width() - a,
                height: u.helper.height() - n
            },
            r = parseInt(u.element.css("left"), 10) + (u.position.left - u.originalPosition.left) || null,
            h = parseInt(u.element.css("top"), 10) + (u.position.top - u.originalPosition.top) || null,
            l.animate || this.element.css(e.extend(o, {
                top: h,
                left: r
            })),
            u.helper.height(u.size.height),
            u.helper.width(u.size.width),
            this._helper && !l.animate && this._proportionallyResize()),
            e("body").css("cursor", "auto"),
            this.element.removeClass("ui-resizable-resizing"),
            this._propagate("stop", t),
            this._helper && this.helper.remove(),
            !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            },
            this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var e = {};
            return this.position.top !== this.prevPosition.top && (e.top = this.position.top + "px"),
            this.position.left !== this.prevPosition.left && (e.left = this.position.left + "px"),
            this.size.width !== this.prevSize.width && (e.width = this.size.width + "px"),
            this.size.height !== this.prevSize.height && (e.height = this.size.height + "px"),
            this.helper.css(e),
            e
        },
        _updateVirtualBoundaries: function(e) {
            var t, i, s, n, a, o = this.options;
            a = {
                minWidth: this._isNumber(o.minWidth) ? o.minWidth : 0,
                maxWidth: this._isNumber(o.maxWidth) ? o.maxWidth : 1 / 0,
                minHeight: this._isNumber(o.minHeight) ? o.minHeight : 0,
                maxHeight: this._isNumber(o.maxHeight) ? o.maxHeight : 1 / 0
            },
            (this._aspectRatio || e) && (t = a.minHeight * this.aspectRatio,
            s = a.minWidth / this.aspectRatio,
            i = a.maxHeight * this.aspectRatio,
            n = a.maxWidth / this.aspectRatio,
            t > a.minWidth && (a.minWidth = t),
            s > a.minHeight && (a.minHeight = s),
            a.maxWidth > i && (a.maxWidth = i),
            a.maxHeight > n && (a.maxHeight = n)),
            this._vBoundaries = a
        },
        _updateCache: function(e) {
            this.offset = this.helper.offset(),
            this._isNumber(e.left) && (this.position.left = e.left),
            this._isNumber(e.top) && (this.position.top = e.top),
            this._isNumber(e.height) && (this.size.height = e.height),
            this._isNumber(e.width) && (this.size.width = e.width)
        },
        _updateRatio: function(e) {
            var t = this.position
              , i = this.size
              , s = this.axis;
            return this._isNumber(e.height) ? e.width = e.height * this.aspectRatio : this._isNumber(e.width) && (e.height = e.width / this.aspectRatio),
            "sw" === s && (e.left = t.left + (i.width - e.width),
            e.top = null),
            "nw" === s && (e.top = t.top + (i.height - e.height),
            e.left = t.left + (i.width - e.width)),
            e
        },
        _respectSize: function(e) {
            var t = this._vBoundaries
              , i = this.axis
              , s = this._isNumber(e.width) && t.maxWidth && t.maxWidth < e.width
              , n = this._isNumber(e.height) && t.maxHeight && t.maxHeight < e.height
              , a = this._isNumber(e.width) && t.minWidth && t.minWidth > e.width
              , o = this._isNumber(e.height) && t.minHeight && t.minHeight > e.height
              , r = this.originalPosition.left + this.originalSize.width
              , h = this.position.top + this.size.height
              , l = /sw|nw|w/.test(i)
              , u = /nw|ne|n/.test(i);
            return a && (e.width = t.minWidth),
            o && (e.height = t.minHeight),
            s && (e.width = t.maxWidth),
            n && (e.height = t.maxHeight),
            a && l && (e.left = r - t.minWidth),
            s && l && (e.left = r - t.maxWidth),
            o && u && (e.top = h - t.minHeight),
            n && u && (e.top = h - t.maxHeight),
            e.width || e.height || e.left || !e.top ? e.width || e.height || e.top || !e.left || (e.left = null) : e.top = null,
            e
        },
        _getPaddingPlusBorderDimensions: function(e) {
            for (var t = 0, i = [], s = [e.css("borderTopWidth"), e.css("borderRightWidth"), e.css("borderBottomWidth"), e.css("borderLeftWidth")], n = [e.css("paddingTop"), e.css("paddingRight"), e.css("paddingBottom"), e.css("paddingLeft")]; 4 > t; t++)
                i[t] = parseInt(s[t], 10) || 0,
                i[t] += parseInt(n[t], 10) || 0;
            return {
                height: i[0] + i[2],
                width: i[1] + i[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var e, t = 0, i = this.helper || this.element; this._proportionallyResizeElements.length > t; t++)
                    e = this._proportionallyResizeElements[t],
                    this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(e)),
                    e.css({
                        height: i.height() - this.outerDimensions.height || 0,
                        width: i.width() - this.outerDimensions.width || 0
                    })
        },
        _renderProxy: function() {
            var t = this.element
              , i = this.options;
            this.elementOffset = t.offset(),
            this._helper ? (this.helper = this.helper || e("<div style='overflow:hidden;'></div>"),
            this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++i.zIndex
            }),
            this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(e, t) {
                return {
                    width: this.originalSize.width + t
                }
            },
            w: function(e, t) {
                var i = this.originalSize
                  , s = this.originalPosition;
                return {
                    left: s.left + t,
                    width: i.width - t
                }
            },
            n: function(e, t, i) {
                var s = this.originalSize
                  , n = this.originalPosition;
                return {
                    top: n.top + i,
                    height: s.height - i
                }
            },
            s: function(e, t, i) {
                return {
                    height: this.originalSize.height + i
                }
            },
            se: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            sw: function(t, i, s) {
                return e.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            },
            ne: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [t, i, s]))
            },
            nw: function(t, i, s) {
                return e.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [t, i, s]))
            }
        },
        _propagate: function(t, i) {
            e.ui.plugin.call(this, t, [i, this.ui()]),
            "resize" !== t && this._trigger(t, i, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }),
    e.ui.plugin.add("resizable", "animate", {
        stop: function(t) {
            var i = e(this).resizable("instance")
              , s = i.options
              , n = i._proportionallyResizeElements
              , a = n.length && /textarea/i.test(n[0].nodeName)
              , o = a && i._hasScroll(n[0], "left") ? 0 : i.sizeDiff.height
              , r = a ? 0 : i.sizeDiff.width
              , h = {
                width: i.size.width - r,
                height: i.size.height - o
            }
              , l = parseInt(i.element.css("left"), 10) + (i.position.left - i.originalPosition.left) || null
              , u = parseInt(i.element.css("top"), 10) + (i.position.top - i.originalPosition.top) || null;
            i.element.animate(e.extend(h, u && l ? {
                top: u,
                left: l
            } : {}), {
                duration: s.animateDuration,
                easing: s.animateEasing,
                step: function() {
                    var s = {
                        width: parseInt(i.element.css("width"), 10),
                        height: parseInt(i.element.css("height"), 10),
                        top: parseInt(i.element.css("top"), 10),
                        left: parseInt(i.element.css("left"), 10)
                    };
                    n && n.length && e(n[0]).css({
                        width: s.width,
                        height: s.height
                    }),
                    i._updateCache(s),
                    i._propagate("resize", t)
                }
            })
        }
    }),
    e.ui.plugin.add("resizable", "containment", {
        start: function() {
            var t, i, s, n, a, o, r, h = e(this).resizable("instance"), l = h.options, u = h.element, d = l.containment, c = d instanceof e ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
            c && (h.containerElement = e(c),
            /document/.test(d) || d === document ? (h.containerOffset = {
                left: 0,
                top: 0
            },
            h.containerPosition = {
                left: 0,
                top: 0
            },
            h.parentData = {
                element: e(document),
                left: 0,
                top: 0,
                width: e(document).width(),
                height: e(document).height() || document.body.parentNode.scrollHeight
            }) : (t = e(c),
            i = [],
            e(["Top", "Right", "Left", "Bottom"]).each(function(e, s) {
                i[e] = h._num(t.css("padding" + s))
            }),
            h.containerOffset = t.offset(),
            h.containerPosition = t.position(),
            h.containerSize = {
                height: t.innerHeight() - i[3],
                width: t.innerWidth() - i[1]
            },
            s = h.containerOffset,
            n = h.containerSize.height,
            a = h.containerSize.width,
            o = h._hasScroll(c, "left") ? c.scrollWidth : a,
            r = h._hasScroll(c) ? c.scrollHeight : n,
            h.parentData = {
                element: c,
                left: s.left,
                top: s.top,
                width: o,
                height: r
            }))
        },
        resize: function(t) {
            var i, s, n, a, o = e(this).resizable("instance"), r = o.options, h = o.containerOffset, l = o.position, u = o._aspectRatio || t.shiftKey, d = {
                top: 0,
                left: 0
            }, c = o.containerElement, p = !0;
            c[0] !== document && /static/.test(c.css("position")) && (d = h),
            l.left < (o._helper ? h.left : 0) && (o.size.width = o.size.width + (o._helper ? o.position.left - h.left : o.position.left - d.left),
            u && (o.size.height = o.size.width / o.aspectRatio,
            p = !1),
            o.position.left = r.helper ? h.left : 0),
            l.top < (o._helper ? h.top : 0) && (o.size.height = o.size.height + (o._helper ? o.position.top - h.top : o.position.top),
            u && (o.size.width = o.size.height * o.aspectRatio,
            p = !1),
            o.position.top = o._helper ? h.top : 0),
            n = o.containerElement.get(0) === o.element.parent().get(0),
            a = /relative|absolute/.test(o.containerElement.css("position")),
            n && a ? (o.offset.left = o.parentData.left + o.position.left,
            o.offset.top = o.parentData.top + o.position.top) : (o.offset.left = o.element.offset().left,
            o.offset.top = o.element.offset().top),
            i = Math.abs(o.sizeDiff.width + (o._helper ? o.offset.left - d.left : o.offset.left - h.left)),
            s = Math.abs(o.sizeDiff.height + (o._helper ? o.offset.top - d.top : o.offset.top - h.top)),
            i + o.size.width >= o.parentData.width && (o.size.width = o.parentData.width - i,
            u && (o.size.height = o.size.width / o.aspectRatio,
            p = !1)),
            s + o.size.height >= o.parentData.height && (o.size.height = o.parentData.height - s,
            u && (o.size.width = o.size.height * o.aspectRatio,
            p = !1)),
            p || (o.position.left = o.prevPosition.left,
            o.position.top = o.prevPosition.top,
            o.size.width = o.prevSize.width,
            o.size.height = o.prevSize.height)
        },
        stop: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = t.containerOffset
              , n = t.containerPosition
              , a = t.containerElement
              , o = e(t.helper)
              , r = o.offset()
              , h = o.outerWidth() - t.sizeDiff.width
              , l = o.outerHeight() - t.sizeDiff.height;
            t._helper && !i.animate && /relative/.test(a.css("position")) && e(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            }),
            t._helper && !i.animate && /static/.test(a.css("position")) && e(this).css({
                left: r.left - n.left - s.left,
                width: h,
                height: l
            })
        }
    }),
    e.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = function(t) {
                e(t).each(function() {
                    var t = e(this);
                    t.data("ui-resizable-alsoresize", {
                        width: parseInt(t.width(), 10),
                        height: parseInt(t.height(), 10),
                        left: parseInt(t.css("left"), 10),
                        top: parseInt(t.css("top"), 10)
                    })
                })
            };
            "object" != typeof i.alsoResize || i.alsoResize.parentNode ? s(i.alsoResize) : i.alsoResize.length ? (i.alsoResize = i.alsoResize[0],
            s(i.alsoResize)) : e.each(i.alsoResize, function(e) {
                s(e)
            })
        },
        resize: function(t, i) {
            var s = e(this).resizable("instance")
              , n = s.options
              , a = s.originalSize
              , o = s.originalPosition
              , r = {
                height: s.size.height - a.height || 0,
                width: s.size.width - a.width || 0,
                top: s.position.top - o.top || 0,
                left: s.position.left - o.left || 0
            }
              , h = function(t, s) {
                e(t).each(function() {
                    var t = e(this)
                      , n = e(this).data("ui-resizable-alsoresize")
                      , a = {}
                      , o = s && s.length ? s : t.parents(i.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                    e.each(o, function(e, t) {
                        var i = (n[t] || 0) + (r[t] || 0);
                        i && i >= 0 && (a[t] = i || null)
                    }),
                    t.css(a)
                })
            };
            "object" != typeof n.alsoResize || n.alsoResize.nodeType ? h(n.alsoResize) : e.each(n.alsoResize, function(e, t) {
                h(e, t)
            })
        },
        stop: function() {
            e(this).removeData("resizable-alsoresize")
        }
    }),
    e.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var t = e(this).resizable("instance")
              , i = t.options
              , s = t.size;
            t.ghost = t.originalElement.clone(),
            t.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: s.height,
                width: s.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof i.ghost ? i.ghost : ""),
            t.ghost.appendTo(t.helper)
        },
        resize: function() {
            var t = e(this).resizable("instance");
            t.ghost && t.ghost.css({
                position: "relative",
                height: t.size.height,
                width: t.size.width
            })
        },
        stop: function() {
            var t = e(this).resizable("instance");
            t.ghost && t.helper && t.helper.get(0).removeChild(t.ghost.get(0))
        }
    }),
    e.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var t, i = e(this).resizable("instance"), s = i.options, n = i.size, a = i.originalSize, o = i.originalPosition, r = i.axis, h = "number" == typeof s.grid ? [s.grid, s.grid] : s.grid, l = h[0] || 1, u = h[1] || 1, d = Math.round((n.width - a.width) / l) * l, c = Math.round((n.height - a.height) / u) * u, p = a.width + d, f = a.height + c, m = s.maxWidth && p > s.maxWidth, g = s.maxHeight && f > s.maxHeight, v = s.minWidth && s.minWidth > p, y = s.minHeight && s.minHeight > f;
            s.grid = h,
            v && (p += l),
            y && (f += u),
            m && (p -= l),
            g && (f -= u),
            /^(se|s|e)$/.test(r) ? (i.size.width = p,
            i.size.height = f) : /^(ne)$/.test(r) ? (i.size.width = p,
            i.size.height = f,
            i.position.top = o.top - c) : /^(sw)$/.test(r) ? (i.size.width = p,
            i.size.height = f,
            i.position.left = o.left - d) : ((0 >= f - u || 0 >= p - l) && (t = i._getPaddingPlusBorderDimensions(this)),
            f - u > 0 ? (i.size.height = f,
            i.position.top = o.top - c) : (f = u - t.height,
            i.size.height = f,
            i.position.top = o.top + a.height - f),
            p - l > 0 ? (i.size.width = p,
            i.position.left = o.left - d) : (p = l - t.width,
            i.size.width = p,
            i.position.left = o.left + a.width - p))
        }
    }),
    e.ui.resizable,
    e.widget("ui.selectable", e.ui.mouse, {
        version: "1.11.3",
        options: {
            appendTo: "body",
            autoRefresh: !0,
            distance: 0,
            filter: "*",
            tolerance: "touch",
            selected: null,
            selecting: null,
            start: null,
            stop: null,
            unselected: null,
            unselecting: null
        },
        _create: function() {
            var t, i = this;
            this.element.addClass("ui-selectable"),
            this.dragged = !1,
            this.refresh = function() {
                t = e(i.options.filter, i.element[0]),
                t.addClass("ui-selectee"),
                t.each(function() {
                    var t = e(this)
                      , i = t.offset();
                    e.data(this, "selectable-item", {
                        element: this,
                        $element: t,
                        left: i.left,
                        top: i.top,
                        right: i.left + t.outerWidth(),
                        bottom: i.top + t.outerHeight(),
                        startselected: !1,
                        selected: t.hasClass("ui-selected"),
                        selecting: t.hasClass("ui-selecting"),
                        unselecting: t.hasClass("ui-unselecting")
                    })
                })
            }
            ,
            this.refresh(),
            this.selectees = t.addClass("ui-selectee"),
            this._mouseInit(),
            this.helper = e("<div class='ui-selectable-helper'></div>")
        },
        _destroy: function() {
            this.selectees.removeClass("ui-selectee").removeData("selectable-item"),
            this.element.removeClass("ui-selectable ui-selectable-disabled"),
            this._mouseDestroy()
        },
        _mouseStart: function(t) {
            var i = this
              , s = this.options;
            this.opos = [t.pageX, t.pageY],
            this.options.disabled || (this.selectees = e(s.filter, this.element[0]),
            this._trigger("start", t),
            e(s.appendTo).append(this.helper),
            this.helper.css({
                left: t.pageX,
                top: t.pageY,
                width: 0,
                height: 0
            }),
            s.autoRefresh && this.refresh(),
            this.selectees.filter(".ui-selected").each(function() {
                var s = e.data(this, "selectable-item");
                s.startselected = !0,
                t.metaKey || t.ctrlKey || (s.$element.removeClass("ui-selected"),
                s.selected = !1,
                s.$element.addClass("ui-unselecting"),
                s.unselecting = !0,
                i._trigger("unselecting", t, {
                    unselecting: s.element
                }))
            }),
            e(t.target).parents().addBack().each(function() {
                var s, n = e.data(this, "selectable-item");
                return n ? (s = !t.metaKey && !t.ctrlKey || !n.$element.hasClass("ui-selected"),
                n.$element.removeClass(s ? "ui-unselecting" : "ui-selected").addClass(s ? "ui-selecting" : "ui-unselecting"),
                n.unselecting = !s,
                n.selecting = s,
                n.selected = s,
                s ? i._trigger("selecting", t, {
                    selecting: n.element
                }) : i._trigger("unselecting", t, {
                    unselecting: n.element
                }),
                !1) : void 0
            }))
        },
        _mouseDrag: function(t) {
            if (this.dragged = !0,
            !this.options.disabled) {
                var i, s = this, n = this.options, a = this.opos[0], o = this.opos[1], r = t.pageX, h = t.pageY;
                return a > r && (i = r,
                r = a,
                a = i),
                o > h && (i = h,
                h = o,
                o = i),
                this.helper.css({
                    left: a,
                    top: o,
                    width: r - a,
                    height: h - o
                }),
                this.selectees.each(function() {
                    var i = e.data(this, "selectable-item")
                      , l = !1;
                    i && i.element !== s.element[0] && ("touch" === n.tolerance ? l = !(i.left > r || a > i.right || i.top > h || o > i.bottom) : "fit" === n.tolerance && (l = i.left > a && r > i.right && i.top > o && h > i.bottom),
                    l ? (i.selected && (i.$element.removeClass("ui-selected"),
                    i.selected = !1),
                    i.unselecting && (i.$element.removeClass("ui-unselecting"),
                    i.unselecting = !1),
                    i.selecting || (i.$element.addClass("ui-selecting"),
                    i.selecting = !0,
                    s._trigger("selecting", t, {
                        selecting: i.element
                    }))) : (i.selecting && ((t.metaKey || t.ctrlKey) && i.startselected ? (i.$element.removeClass("ui-selecting"),
                    i.selecting = !1,
                    i.$element.addClass("ui-selected"),
                    i.selected = !0) : (i.$element.removeClass("ui-selecting"),
                    i.selecting = !1,
                    i.startselected && (i.$element.addClass("ui-unselecting"),
                    i.unselecting = !0),
                    s._trigger("unselecting", t, {
                        unselecting: i.element
                    }))),
                    i.selected && (t.metaKey || t.ctrlKey || i.startselected || (i.$element.removeClass("ui-selected"),
                    i.selected = !1,
                    i.$element.addClass("ui-unselecting"),
                    i.unselecting = !0,
                    s._trigger("unselecting", t, {
                        unselecting: i.element
                    })))))
                }),
                !1
            }
        },
        _mouseStop: function(t) {
            var i = this;
            return this.dragged = !1,
            e(".ui-unselecting", this.element[0]).each(function() {
                var s = e.data(this, "selectable-item");
                s.$element.removeClass("ui-unselecting"),
                s.unselecting = !1,
                s.startselected = !1,
                i._trigger("unselected", t, {
                    unselected: s.element
                })
            }),
            e(".ui-selecting", this.element[0]).each(function() {
                var s = e.data(this, "selectable-item");
                s.$element.removeClass("ui-selecting").addClass("ui-selected"),
                s.selecting = !1,
                s.selected = !0,
                s.startselected = !0,
                i._trigger("selected", t, {
                    selected: s.element
                })
            }),
            this._trigger("stop", t),
            this.helper.remove(),
            !1
        }
    }),
    e.widget("ui.sortable", e.ui.mouse, {
        version: "1.11.3",
        widgetEventPrefix: "sort",
        ready: !1,
        options: {
            appendTo: "parent",
            axis: !1,
            connectWith: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            dropOnEmpty: !0,
            forcePlaceholderSize: !1,
            forceHelperSize: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            items: "> *",
            opacity: !1,
            placeholder: !1,
            revert: !1,
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            scope: "default",
            tolerance: "intersect",
            zIndex: 1e3,
            activate: null,
            beforeStop: null,
            change: null,
            deactivate: null,
            out: null,
            over: null,
            receive: null,
            remove: null,
            sort: null,
            start: null,
            stop: null,
            update: null
        },
        _isOverAxis: function(e, t, i) {
            return e >= t && t + i > e
        },
        _isFloating: function(e) {
            return /left|right/.test(e.css("float")) || /inline|table-cell/.test(e.css("display"))
        },
        _create: function() {
            var e = this.options;
            this.containerCache = {},
            this.element.addClass("ui-sortable"),
            this.refresh(),
            this.floating = this.items.length ? "x" === e.axis || this._isFloating(this.items[0].item) : !1,
            this.offset = this.element.offset(),
            this._mouseInit(),
            this._setHandleClassName(),
            this.ready = !0
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "handle" === e && this._setHandleClassName()
        },
        _setHandleClassName: function() {
            this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            e.each(this.items, function() {
                (this.instance.options.handle ? this.item.find(this.instance.options.handle) : this.item).addClass("ui-sortable-handle")
            })
        },
        _destroy: function() {
            this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),
            this._mouseDestroy();
            for (var e = this.items.length - 1; e >= 0; e--)
                this.items[e].item.removeData(this.widgetName + "-item");
            return this
        },
        _mouseCapture: function(t, i) {
            var s = null
              , n = !1
              , a = this;
            return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(t),
            e(t.target).parents().each(function() {
                return e.data(this, a.widgetName + "-item") === a ? (s = e(this),
                !1) : void 0
            }),
            e.data(t.target, a.widgetName + "-item") === a && (s = e(t.target)),
            s ? !this.options.handle || i || (e(this.options.handle, s).find("*").addBack().each(function() {
                this === t.target && (n = !0)
            }),
            n) ? (this.currentItem = s,
            this._removeCurrentsFromItems(),
            !0) : !1 : !1)
        },
        _mouseStart: function(t, i, s) {
            var n, a, o = this.options;
            if (this.currentContainer = this,
            this.refreshPositions(),
            this.helper = this._createHelper(t),
            this._cacheHelperProportions(),
            this._cacheMargins(),
            this.scrollParent = this.helper.scrollParent(),
            this.offset = this.currentItem.offset(),
            this.offset = {
                top: this.offset.top - this.margins.top,
                left: this.offset.left - this.margins.left
            },
            e.extend(this.offset, {
                click: {
                    left: t.pageX - this.offset.left,
                    top: t.pageY - this.offset.top
                },
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }),
            this.helper.css("position", "absolute"),
            this.cssPosition = this.helper.css("position"),
            this.originalPosition = this._generatePosition(t),
            this.originalPageX = t.pageX,
            this.originalPageY = t.pageY,
            o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt),
            this.domPosition = {
                prev: this.currentItem.prev()[0],
                parent: this.currentItem.parent()[0]
            },
            this.helper[0] !== this.currentItem[0] && this.currentItem.hide(),
            this._createPlaceholder(),
            o.containment && this._setContainment(),
            o.cursor && "auto" !== o.cursor && (a = this.document.find("body"),
            this.storedCursor = a.css("cursor"),
            a.css("cursor", o.cursor),
            this.storedStylesheet = e("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(a)),
            o.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")),
            this.helper.css("opacity", o.opacity)),
            o.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")),
            this.helper.css("zIndex", o.zIndex)),
            this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()),
            this._trigger("start", t, this._uiHash()),
            this._preserveHelperProportions || this._cacheHelperProportions(),
            !s)
                for (n = this.containers.length - 1; n >= 0; n--)
                    this.containers[n]._trigger("activate", t, this._uiHash(this));
            return e.ui.ddmanager && (e.ui.ddmanager.current = this),
            e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t),
            this.dragging = !0,
            this.helper.addClass("ui-sortable-helper"),
            this._mouseDrag(t),
            !0
        },
        _mouseDrag: function(t) {
            var i, s, n, a, o = this.options, r = !1;
            for (this.position = this._generatePosition(t),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs),
            this.options.scroll && (this.scrollParent[0] !== this.document[0] && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - t.pageY < o.scrollSensitivity ? this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop + o.scrollSpeed : t.pageY - this.overflowOffset.top < o.scrollSensitivity && (this.scrollParent[0].scrollTop = r = this.scrollParent[0].scrollTop - o.scrollSpeed),
            this.overflowOffset.left + this.scrollParent[0].offsetWidth - t.pageX < o.scrollSensitivity ? this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft + o.scrollSpeed : t.pageX - this.overflowOffset.left < o.scrollSensitivity && (this.scrollParent[0].scrollLeft = r = this.scrollParent[0].scrollLeft - o.scrollSpeed)) : (t.pageY - this.document.scrollTop() < o.scrollSensitivity ? r = this.document.scrollTop(this.document.scrollTop() - o.scrollSpeed) : this.window.height() - (t.pageY - this.document.scrollTop()) < o.scrollSensitivity && (r = this.document.scrollTop(this.document.scrollTop() + o.scrollSpeed)),
            t.pageX - this.document.scrollLeft() < o.scrollSensitivity ? r = this.document.scrollLeft(this.document.scrollLeft() - o.scrollSpeed) : this.window.width() - (t.pageX - this.document.scrollLeft()) < o.scrollSensitivity && (r = this.document.scrollLeft(this.document.scrollLeft() + o.scrollSpeed))),
            r !== !1 && e.ui.ddmanager && !o.dropBehaviour && e.ui.ddmanager.prepareOffsets(this, t)),
            this.positionAbs = this._convertPositionTo("absolute"),
            this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"),
            this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"),
            i = this.items.length - 1; i >= 0; i--)
                if (s = this.items[i],
                n = s.item[0],
                a = this._intersectsWithPointer(s),
                a && s.instance === this.currentContainer && n !== this.currentItem[0] && this.placeholder[1 === a ? "next" : "prev"]()[0] !== n && !e.contains(this.placeholder[0], n) && ("semi-dynamic" === this.options.type ? !e.contains(this.element[0], n) : !0)) {
                    if (this.direction = 1 === a ? "down" : "up",
                    "pointer" !== this.options.tolerance && !this._intersectsWithSides(s))
                        break;
                    this._rearrange(t, s),
                    this._trigger("change", t, this._uiHash());
                    break
                }
            return this._contactContainers(t),
            e.ui.ddmanager && e.ui.ddmanager.drag(this, t),
            this._trigger("sort", t, this._uiHash()),
            this.lastPositionAbs = this.positionAbs,
            !1
        },
        _mouseStop: function(t, i) {
            if (t) {
                if (e.ui.ddmanager && !this.options.dropBehaviour && e.ui.ddmanager.drop(this, t),
                this.options.revert) {
                    var s = this
                      , n = this.placeholder.offset()
                      , a = this.options.axis
                      , o = {};
                    a && "x" !== a || (o.left = n.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollLeft)),
                    a && "y" !== a || (o.top = n.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === this.document[0].body ? 0 : this.offsetParent[0].scrollTop)),
                    this.reverting = !0,
                    e(this.helper).animate(o, parseInt(this.options.revert, 10) || 500, function() {
                        s._clear(t)
                    })
                } else
                    this._clear(t, i);
                return !1
            }
        },
        cancel: function() {
            if (this.dragging) {
                this._mouseUp({
                    target: null
                }),
                "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
                for (var t = this.containers.length - 1; t >= 0; t--)
                    this.containers[t]._trigger("deactivate", null, this._uiHash(this)),
                    this.containers[t].containerCache.over && (this.containers[t]._trigger("out", null, this._uiHash(this)),
                    this.containers[t].containerCache.over = 0)
            }
            return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(),
            e.extend(this, {
                helper: null,
                dragging: !1,
                reverting: !1,
                _noFinalSort: null
            }),
            this.domPosition.prev ? e(this.domPosition.prev).after(this.currentItem) : e(this.domPosition.parent).prepend(this.currentItem)),
            this
        },
        serialize: function(t) {
            var i = this._getItemsAsjQuery(t && t.connected)
              , s = [];
            return t = t || {},
            e(i).each(function() {
                var i = (e(t.item || this).attr(t.attribute || "id") || "").match(t.expression || /(.+)[\-=_](.+)/);
                i && s.push((t.key || i[1] + "[]") + "=" + (t.key && t.expression ? i[1] : i[2]))
            }),
            !s.length && t.key && s.push(t.key + "="),
            s.join("&")
        },
        toArray: function(t) {
            var i = this._getItemsAsjQuery(t && t.connected)
              , s = [];
            return t = t || {},
            i.each(function() {
                s.push(e(t.item || this).attr(t.attribute || "id") || "")
            }),
            s
        },
        _intersectsWith: function(e) {
            var t = this.positionAbs.left
              , i = t + this.helperProportions.width
              , s = this.positionAbs.top
              , n = s + this.helperProportions.height
              , a = e.left
              , o = a + e.width
              , r = e.top
              , h = r + e.height
              , l = this.offset.click.top
              , u = this.offset.click.left
              , d = "x" === this.options.axis || s + l > r && h > s + l
              , c = "y" === this.options.axis || t + u > a && o > t + u
              , p = d && c;
            return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > e[this.floating ? "width" : "height"] ? p : t + this.helperProportions.width / 2 > a && o > i - this.helperProportions.width / 2 && s + this.helperProportions.height / 2 > r && h > n - this.helperProportions.height / 2
        },
        _intersectsWithPointer: function(e) {
            var t = "x" === this.options.axis || this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top, e.height)
              , i = "y" === this.options.axis || this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left, e.width)
              , s = t && i
              , n = this._getDragVerticalDirection()
              , a = this._getDragHorizontalDirection();
            return s ? this.floating ? a && "right" === a || "down" === n ? 2 : 1 : n && ("down" === n ? 2 : 1) : !1
        },
        _intersectsWithSides: function(e) {
            var t = this._isOverAxis(this.positionAbs.top + this.offset.click.top, e.top + e.height / 2, e.height)
              , i = this._isOverAxis(this.positionAbs.left + this.offset.click.left, e.left + e.width / 2, e.width)
              , s = this._getDragVerticalDirection()
              , n = this._getDragHorizontalDirection();
            return this.floating && n ? "right" === n && i || "left" === n && !i : s && ("down" === s && t || "up" === s && !t)
        },
        _getDragVerticalDirection: function() {
            var e = this.positionAbs.top - this.lastPositionAbs.top;
            return 0 !== e && (e > 0 ? "down" : "up")
        },
        _getDragHorizontalDirection: function() {
            var e = this.positionAbs.left - this.lastPositionAbs.left;
            return 0 !== e && (e > 0 ? "right" : "left")
        },
        refresh: function(e) {
            return this._refreshItems(e),
            this._setHandleClassName(),
            this.refreshPositions(),
            this
        },
        _connectWith: function() {
            var e = this.options;
            return e.connectWith.constructor === String ? [e.connectWith] : e.connectWith
        },
        _getItemsAsjQuery: function(t) {
            function i() {
                r.push(this)
            }
            var s, n, a, o, r = [], h = [], l = this._connectWith();
            if (l && t)
                for (s = l.length - 1; s >= 0; s--)
                    for (a = e(l[s], this.document[0]),
                    n = a.length - 1; n >= 0; n--)
                        o = e.data(a[n], this.widgetFullName),
                        o && o !== this && !o.options.disabled && h.push([e.isFunction(o.options.items) ? o.options.items.call(o.element) : e(o.options.items, o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), o]);
            for (h.push([e.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                options: this.options,
                item: this.currentItem
            }) : e(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]),
            s = h.length - 1; s >= 0; s--)
                h[s][0].each(i);
            return e(r)
        },
        _removeCurrentsFromItems: function() {
            var t = this.currentItem.find(":data(" + this.widgetName + "-item)");
            this.items = e.grep(this.items, function(e) {
                for (var i = 0; t.length > i; i++)
                    if (t[i] === e.item[0])
                        return !1;
                return !0
            })
        },
        _refreshItems: function(t) {
            this.items = [],
            this.containers = [this];
            var i, s, n, a, o, r, h, l, u = this.items, d = [[e.isFunction(this.options.items) ? this.options.items.call(this.element[0], t, {
                item: this.currentItem
            }) : e(this.options.items, this.element), this]], c = this._connectWith();
            if (c && this.ready)
                for (i = c.length - 1; i >= 0; i--)
                    for (n = e(c[i], this.document[0]),
                    s = n.length - 1; s >= 0; s--)
                        a = e.data(n[s], this.widgetFullName),
                        a && a !== this && !a.options.disabled && (d.push([e.isFunction(a.options.items) ? a.options.items.call(a.element[0], t, {
                            item: this.currentItem
                        }) : e(a.options.items, a.element), a]),
                        this.containers.push(a));
            for (i = d.length - 1; i >= 0; i--)
                for (o = d[i][1],
                r = d[i][0],
                s = 0,
                l = r.length; l > s; s++)
                    h = e(r[s]),
                    h.data(this.widgetName + "-item", o),
                    u.push({
                        item: h,
                        instance: o,
                        width: 0,
                        height: 0,
                        left: 0,
                        top: 0
                    })
        },
        refreshPositions: function(t) {
            this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
            var i, s, n, a;
            for (i = this.items.length - 1; i >= 0; i--)
                s = this.items[i],
                s.instance !== this.currentContainer && this.currentContainer && s.item[0] !== this.currentItem[0] || (n = this.options.toleranceElement ? e(this.options.toleranceElement, s.item) : s.item,
                t || (s.width = n.outerWidth(),
                s.height = n.outerHeight()),
                a = n.offset(),
                s.left = a.left,
                s.top = a.top);
            if (this.options.custom && this.options.custom.refreshContainers)
                this.options.custom.refreshContainers.call(this);
            else
                for (i = this.containers.length - 1; i >= 0; i--)
                    a = this.containers[i].element.offset(),
                    this.containers[i].containerCache.left = a.left,
                    this.containers[i].containerCache.top = a.top,
                    this.containers[i].containerCache.width = this.containers[i].element.outerWidth(),
                    this.containers[i].containerCache.height = this.containers[i].element.outerHeight();
            return this
        },
        _createPlaceholder: function(t) {
            t = t || this;
            var i, s = t.options;
            s.placeholder && s.placeholder.constructor !== String || (i = s.placeholder,
            s.placeholder = {
                element: function() {
                    var s = t.currentItem[0].nodeName.toLowerCase()
                      , n = e("<" + s + ">", t.document[0]).addClass(i || t.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                    return "tr" === s ? t.currentItem.children().each(function() {
                        e("<td>&#160;</td>", t.document[0]).attr("colspan", e(this).attr("colspan") || 1).appendTo(n)
                    }) : "img" === s && n.attr("src", t.currentItem.attr("src")),
                    i || n.css("visibility", "hidden"),
                    n
                },
                update: function(e, n) {
                    (!i || s.forcePlaceholderSize) && (n.height() || n.height(t.currentItem.innerHeight() - parseInt(t.currentItem.css("paddingTop") || 0, 10) - parseInt(t.currentItem.css("paddingBottom") || 0, 10)),
                    n.width() || n.width(t.currentItem.innerWidth() - parseInt(t.currentItem.css("paddingLeft") || 0, 10) - parseInt(t.currentItem.css("paddingRight") || 0, 10)))
                }
            }),
            t.placeholder = e(s.placeholder.element.call(t.element, t.currentItem)),
            t.currentItem.after(t.placeholder),
            s.placeholder.update(t, t.placeholder)
        },
        _contactContainers: function(t) {
            var i, s, n, a, o, r, h, l, u, d, c = null, p = null;
            for (i = this.containers.length - 1; i >= 0; i--)
                if (!e.contains(this.currentItem[0], this.containers[i].element[0]))
                    if (this._intersectsWith(this.containers[i].containerCache)) {
                        if (c && e.contains(this.containers[i].element[0], c.element[0]))
                            continue;
                        c = this.containers[i],
                        p = i
                    } else
                        this.containers[i].containerCache.over && (this.containers[i]._trigger("out", t, this._uiHash(this)),
                        this.containers[i].containerCache.over = 0);
            if (c)
                if (1 === this.containers.length)
                    this.containers[p].containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1);
                else {
                    for (n = 1e4,
                    a = null,
                    u = c.floating || this._isFloating(this.currentItem),
                    o = u ? "left" : "top",
                    r = u ? "width" : "height",
                    d = u ? "clientX" : "clientY",
                    s = this.items.length - 1; s >= 0; s--)
                        e.contains(this.containers[p].element[0], this.items[s].item[0]) && this.items[s].item[0] !== this.currentItem[0] && (h = this.items[s].item.offset()[o],
                        l = !1,
                        t[d] - h > this.items[s][r] / 2 && (l = !0),
                        n > Math.abs(t[d] - h) && (n = Math.abs(t[d] - h),
                        a = this.items[s],
                        this.direction = l ? "up" : "down"));
                    if (!a && !this.options.dropOnEmpty)
                        return;
                    if (this.currentContainer === this.containers[p])
                        return this.currentContainer.containerCache.over || (this.containers[p]._trigger("over", t, this._uiHash()),
                        this.currentContainer.containerCache.over = 1),
                        void 0;
                    a ? this._rearrange(t, a, null, !0) : this._rearrange(t, null, this.containers[p].element, !0),
                    this._trigger("change", t, this._uiHash()),
                    this.containers[p]._trigger("change", t, this._uiHash(this)),
                    this.currentContainer = this.containers[p],
                    this.options.placeholder.update(this.currentContainer, this.placeholder),
                    this.containers[p]._trigger("over", t, this._uiHash(this)),
                    this.containers[p].containerCache.over = 1
                }
        },
        _createHelper: function(t) {
            var i = this.options
              , s = e.isFunction(i.helper) ? e(i.helper.apply(this.element[0], [t, this.currentItem])) : "clone" === i.helper ? this.currentItem.clone() : this.currentItem;
            return s.parents("body").length || e("parent" !== i.appendTo ? i.appendTo : this.currentItem[0].parentNode)[0].appendChild(s[0]),
            s[0] === this.currentItem[0] && (this._storedCSS = {
                width: this.currentItem[0].style.width,
                height: this.currentItem[0].style.height,
                position: this.currentItem.css("position"),
                top: this.currentItem.css("top"),
                left: this.currentItem.css("left")
            }),
            (!s[0].style.width || i.forceHelperSize) && s.width(this.currentItem.width()),
            (!s[0].style.height || i.forceHelperSize) && s.height(this.currentItem.height()),
            s
        },
        _adjustOffsetFromHelper: function(t) {
            "string" == typeof t && (t = t.split(" ")),
            e.isArray(t) && (t = {
                left: +t[0],
                top: +t[1] || 0
            }),
            "left"in t && (this.offset.click.left = t.left + this.margins.left),
            "right"in t && (this.offset.click.left = this.helperProportions.width - t.right + this.margins.left),
            "top"in t && (this.offset.click.top = t.top + this.margins.top),
            "bottom"in t && (this.offset.click.top = this.helperProportions.height - t.bottom + this.margins.top)
        },
        _getParentOffset: function() {
            this.offsetParent = this.helper.offsetParent();
            var t = this.offsetParent.offset();
            return "absolute" === this.cssPosition && this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) && (t.left += this.scrollParent.scrollLeft(),
            t.top += this.scrollParent.scrollTop()),
            (this.offsetParent[0] === this.document[0].body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && e.ui.ie) && (t = {
                top: 0,
                left: 0
            }),
            {
                top: t.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: t.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" === this.cssPosition) {
                var e = this.currentItem.position();
                return {
                    top: e.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                    left: e.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                }
            }
            return {
                top: 0,
                left: 0
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                top: parseInt(this.currentItem.css("marginTop"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var t, i, s, n = this.options;
            "parent" === n.containment && (n.containment = this.helper[0].parentNode),
            ("document" === n.containment || "window" === n.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, "document" === n.containment ? this.document.width() : this.window.width() - this.helperProportions.width - this.margins.left, ("document" === n.containment ? this.document.width() : this.window.height() || this.document[0].body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]),
            /^(document|window|parent)$/.test(n.containment) || (t = e(n.containment)[0],
            i = e(n.containment).offset(),
            s = "hidden" !== e(t).css("overflow"),
            this.containment = [i.left + (parseInt(e(t).css("borderLeftWidth"), 10) || 0) + (parseInt(e(t).css("paddingLeft"), 10) || 0) - this.margins.left, i.top + (parseInt(e(t).css("borderTopWidth"), 10) || 0) + (parseInt(e(t).css("paddingTop"), 10) || 0) - this.margins.top, i.left + (s ? Math.max(t.scrollWidth, t.offsetWidth) : t.offsetWidth) - (parseInt(e(t).css("borderLeftWidth"), 10) || 0) - (parseInt(e(t).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, i.top + (s ? Math.max(t.scrollHeight, t.offsetHeight) : t.offsetHeight) - (parseInt(e(t).css("borderTopWidth"), 10) || 0) - (parseInt(e(t).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
        },
        _convertPositionTo: function(t, i) {
            i || (i = this.position);
            var s = "absolute" === t ? 1 : -1
              , n = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent
              , a = /(html|body)/i.test(n[0].tagName);
            return {
                top: i.top + this.offset.relative.top * s + this.offset.parent.top * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : a ? 0 : n.scrollTop()) * s,
                left: i.left + this.offset.relative.left * s + this.offset.parent.left * s - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : a ? 0 : n.scrollLeft()) * s
            }
        },
        _generatePosition: function(t) {
            var i, s, n = this.options, a = t.pageX, o = t.pageY, r = "absolute" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && e.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent, h = /(html|body)/i.test(r[0].tagName);
            return "relative" !== this.cssPosition || this.scrollParent[0] !== this.document[0] && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()),
            this.originalPosition && (this.containment && (t.pageX - this.offset.click.left < this.containment[0] && (a = this.containment[0] + this.offset.click.left),
            t.pageY - this.offset.click.top < this.containment[1] && (o = this.containment[1] + this.offset.click.top),
            t.pageX - this.offset.click.left > this.containment[2] && (a = this.containment[2] + this.offset.click.left),
            t.pageY - this.offset.click.top > this.containment[3] && (o = this.containment[3] + this.offset.click.top)),
            n.grid && (i = this.originalPageY + Math.round((o - this.originalPageY) / n.grid[1]) * n.grid[1],
            o = this.containment ? i - this.offset.click.top >= this.containment[1] && i - this.offset.click.top <= this.containment[3] ? i : i - this.offset.click.top >= this.containment[1] ? i - n.grid[1] : i + n.grid[1] : i,
            s = this.originalPageX + Math.round((a - this.originalPageX) / n.grid[0]) * n.grid[0],
            a = this.containment ? s - this.offset.click.left >= this.containment[0] && s - this.offset.click.left <= this.containment[2] ? s : s - this.offset.click.left >= this.containment[0] ? s - n.grid[0] : s + n.grid[0] : s)),
            {
                top: o - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : h ? 0 : r.scrollTop()),
                left: a - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : h ? 0 : r.scrollLeft())
            }
        },
        _rearrange: function(e, t, i, s) {
            i ? i[0].appendChild(this.placeholder[0]) : t.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? t.item[0] : t.item[0].nextSibling),
            this.counter = this.counter ? ++this.counter : 1;
            var n = this.counter;
            this._delay(function() {
                n === this.counter && this.refreshPositions(!s)
            })
        },
        _clear: function(e, t) {
            function i(e, t, i) {
                return function(s) {
                    i._trigger(e, s, t._uiHash(t))
                }
            }
            this.reverting = !1;
            var s, n = [];
            if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem),
            this._noFinalSort = null,
            this.helper[0] === this.currentItem[0]) {
                for (s in this._storedCSS)
                    ("auto" === this._storedCSS[s] || "static" === this._storedCSS[s]) && (this._storedCSS[s] = "");
                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
            } else
                this.currentItem.show();
            for (this.fromOutside && !t && n.push(function(e) {
                this._trigger("receive", e, this._uiHash(this.fromOutside))
            }),
            !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || t || n.push(function(e) {
                this._trigger("update", e, this._uiHash())
            }),
            this !== this.currentContainer && (t || (n.push(function(e) {
                this._trigger("remove", e, this._uiHash())
            }),
            n.push(function(e) {
                return function(t) {
                    e._trigger("receive", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)),
            n.push(function(e) {
                return function(t) {
                    e._trigger("update", t, this._uiHash(this))
                }
            }
            .call(this, this.currentContainer)))),
            s = this.containers.length - 1; s >= 0; s--)
                t || n.push(i("deactivate", this, this.containers[s])),
                this.containers[s].containerCache.over && (n.push(i("out", this, this.containers[s])),
                this.containers[s].containerCache.over = 0);
            if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor),
            this.storedStylesheet.remove()),
            this._storedOpacity && this.helper.css("opacity", this._storedOpacity),
            this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex),
            this.dragging = !1,
            t || this._trigger("beforeStop", e, this._uiHash()),
            this.placeholder[0].parentNode.removeChild(this.placeholder[0]),
            this.cancelHelperRemoval || (this.helper[0] !== this.currentItem[0] && this.helper.remove(),
            this.helper = null),
            !t) {
                for (s = 0; n.length > s; s++)
                    n[s].call(this, e);
                this._trigger("stop", e, this._uiHash())
            }
            return this.fromOutside = !1,
            !this.cancelHelperRemoval
        },
        _trigger: function() {
            e.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
        },
        _uiHash: function(t) {
            var i = t || this;
            return {
                helper: i.helper,
                placeholder: i.placeholder || e([]),
                position: i.position,
                originalPosition: i.originalPosition,
                offset: i.positionAbs,
                item: i.currentItem,
                sender: t ? t.element : null
            }
        }
    }),
    e.widget("ui.accordion", {
        version: "1.11.3",
        options: {
            active: 0,
            animate: {},
            collapsible: !1,
            event: "click",
            header: "> li > :first-child,> :not(li):even",
            heightStyle: "auto",
            icons: {
                activeHeader: "ui-icon-triangle-1-s",
                header: "ui-icon-triangle-1-e"
            },
            activate: null,
            beforeActivate: null
        },
        hideProps: {
            borderTopWidth: "hide",
            borderBottomWidth: "hide",
            paddingTop: "hide",
            paddingBottom: "hide",
            height: "hide"
        },
        showProps: {
            borderTopWidth: "show",
            borderBottomWidth: "show",
            paddingTop: "show",
            paddingBottom: "show",
            height: "show"
        },
        _create: function() {
            var t = this.options;
            this.prevShow = this.prevHide = e(),
            this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist"),
            t.collapsible || t.active !== !1 && null != t.active || (t.active = 0),
            this._processPanels(),
            0 > t.active && (t.active += this.headers.length),
            this._refresh()
        },
        _getCreateEventData: function() {
            return {
                header: this.active,
                panel: this.active.length ? this.active.next() : e()
            }
        },
        _createIcons: function() {
            var t = this.options.icons;
            t && (e("<span>").addClass("ui-accordion-header-icon ui-icon " + t.header).prependTo(this.headers),
            this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),
            this.headers.addClass("ui-accordion-icons"))
        },
        _destroyIcons: function() {
            this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
        },
        _destroy: function() {
            var e;
            this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),
            this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),
            this._destroyIcons(),
            e = this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display", "").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),
            "content" !== this.options.heightStyle && e.css("height", "")
        },
        _setOption: function(e, t) {
            return "active" === e ? (this._activate(t),
            void 0) : ("event" === e && (this.options.event && this._off(this.headers, this.options.event),
            this._setupEvents(t)),
            this._super(e, t),
            "collapsible" !== e || t || this.options.active !== !1 || this._activate(0),
            "icons" === e && (this._destroyIcons(),
            t && this._createIcons()),
            "disabled" === e && (this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!t)),
            void 0)
        },
        _keydown: function(t) {
            if (!t.altKey && !t.ctrlKey) {
                var i = e.ui.keyCode
                  , s = this.headers.length
                  , n = this.headers.index(t.target)
                  , a = !1;
                switch (t.keyCode) {
                case i.RIGHT:
                case i.DOWN:
                    a = this.headers[(n + 1) % s];
                    break;
                case i.LEFT:
                case i.UP:
                    a = this.headers[(n - 1 + s) % s];
                    break;
                case i.SPACE:
                case i.ENTER:
                    this._eventHandler(t);
                    break;
                case i.HOME:
                    a = this.headers[0];
                    break;
                case i.END:
                    a = this.headers[s - 1]
                }
                a && (e(t.target).attr("tabIndex", -1),
                e(a).attr("tabIndex", 0),
                a.focus(),
                t.preventDefault())
            }
        },
        _panelKeyDown: function(t) {
            t.keyCode === e.ui.keyCode.UP && t.ctrlKey && e(t.currentTarget).prev().focus()
        },
        refresh: function() {
            var t = this.options;
            this._processPanels(),
            t.active === !1 && t.collapsible === !0 || !this.headers.length ? (t.active = !1,
            this.active = e()) : t.active === !1 ? this._activate(0) : this.active.length && !e.contains(this.element[0], this.active[0]) ? this.headers.length === this.headers.find(".ui-state-disabled").length ? (t.active = !1,
            this.active = e()) : this._activate(Math.max(0, t.active - 1)) : t.active = this.headers.index(this.active),
            this._destroyIcons(),
            this._refresh()
        },
        _processPanels: function() {
            var e = this.headers
              , t = this.panels;
            this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),
            this.panels = this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),
            t && (this._off(e.not(this.headers)),
            this._off(t.not(this.panels)))
        },
        _refresh: function() {
            var t, i = this.options, s = i.heightStyle, n = this.element.parent();
            this.active = this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),
            this.active.next().addClass("ui-accordion-content-active").show(),
            this.headers.attr("role", "tab").each(function() {
                var t = e(this)
                  , i = t.uniqueId().attr("id")
                  , s = t.next()
                  , n = s.uniqueId().attr("id");
                t.attr("aria-controls", n),
                s.attr("aria-labelledby", i)
            }).next().attr("role", "tabpanel"),
            this.headers.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }).next().attr({
                "aria-hidden": "true"
            }).hide(),
            this.active.length ? this.active.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }).next().attr({
                "aria-hidden": "false"
            }) : this.headers.eq(0).attr("tabIndex", 0),
            this._createIcons(),
            this._setupEvents(i.event),
            "fill" === s ? (t = n.height(),
            this.element.siblings(":visible").each(function() {
                var i = e(this)
                  , s = i.css("position");
                "absolute" !== s && "fixed" !== s && (t -= i.outerHeight(!0))
            }),
            this.headers.each(function() {
                t -= e(this).outerHeight(!0)
            }),
            this.headers.next().each(function() {
                e(this).height(Math.max(0, t - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === s && (t = 0,
            this.headers.next().each(function() {
                t = Math.max(t, e(this).css("height", "").height())
            }).height(t))
        },
        _activate: function(t) {
            var i = this._findActive(t)[0];
            i !== this.active[0] && (i = i || this.active[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return "number" == typeof t ? this.headers.eq(t) : e()
        },
        _setupEvents: function(t) {
            var i = {
                keydown: "_keydown"
            };
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.headers.add(this.headers.next())),
            this._on(this.headers, i),
            this._on(this.headers.next(), {
                keydown: "_panelKeyDown"
            }),
            this._hoverable(this.headers),
            this._focusable(this.headers)
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n[0] === s[0]
              , o = a && i.collapsible
              , r = o ? e() : n.next()
              , h = s.next()
              , l = {
                oldHeader: s,
                oldPanel: h,
                newHeader: o ? e() : n,
                newPanel: r
            };
            t.preventDefault(),
            a && !i.collapsible || this._trigger("beforeActivate", t, l) === !1 || (i.active = o ? !1 : this.headers.index(n),
            this.active = a ? e() : n,
            this._toggle(l),
            s.removeClass("ui-accordion-header-active ui-state-active"),
            i.icons && s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),
            a || (n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),
            i.icons && n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),
            n.next().addClass("ui-accordion-content-active")))
        },
        _toggle: function(t) {
            var i = t.newPanel
              , s = this.prevShow.length ? this.prevShow : t.oldPanel;
            this.prevShow.add(this.prevHide).stop(!0, !0),
            this.prevShow = i,
            this.prevHide = s,
            this.options.animate ? this._animate(i, s, t) : (s.hide(),
            i.show(),
            this._toggleComplete(t)),
            s.attr({
                "aria-hidden": "true"
            }),
            s.prev().attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            i.length && s.length ? s.prev().attr({
                tabIndex: -1,
                "aria-expanded": "false"
            }) : i.length && this.headers.filter(function() {
                return 0 === parseInt(e(this).attr("tabIndex"), 10)
            }).attr("tabIndex", -1),
            i.attr("aria-hidden", "false").prev().attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _animate: function(e, t, i) {
            var s, n, a, o = this, r = 0, h = e.length && (!t.length || e.index() < t.index()), l = this.options.animate || {}, u = h && l.down || l, d = function() {
                o._toggleComplete(i)
            };
            return "number" == typeof u && (a = u),
            "string" == typeof u && (n = u),
            n = n || u.easing || l.easing,
            a = a || u.duration || l.duration,
            t.length ? e.length ? (s = e.show().outerHeight(),
            t.animate(this.hideProps, {
                duration: a,
                easing: n,
                step: function(e, t) {
                    t.now = Math.round(e)
                }
            }),
            e.hide().animate(this.showProps, {
                duration: a,
                easing: n,
                complete: d,
                step: function(e, i) {
                    i.now = Math.round(e),
                    "height" !== i.prop ? r += i.now : "content" !== o.options.heightStyle && (i.now = Math.round(s - t.outerHeight() - r),
                    r = 0)
                }
            }),
            void 0) : t.animate(this.hideProps, a, n, d) : e.animate(this.showProps, a, n, d)
        },
        _toggleComplete: function(e) {
            var t = e.oldPanel;
            t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),
            t.length && (t.parent()[0].className = t.parent()[0].className),
            this._trigger("activate", null, e)
        }
    }),
    e.widget("ui.menu", {
        version: "1.11.3",
        defaultElement: "<ul>",
        delay: 300,
        options: {
            icons: {
                submenu: "ui-icon-carat-1-e"
            },
            items: "> *",
            menus: "ul",
            position: {
                my: "left-1 top",
                at: "right top"
            },
            role: "menu",
            blur: null,
            focus: null,
            select: null
        },
        _create: function() {
            this.activeMenu = this.element,
            this.mouseHandled = !1,
            this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                role: this.options.role,
                tabIndex: 0
            }),
            this.options.disabled && this.element.addClass("ui-state-disabled").attr("aria-disabled", "true"),
            this._on({
                "mousedown .ui-menu-item": function(e) {
                    e.preventDefault()
                },
                "click .ui-menu-item": function(t) {
                    var i = e(t.target);
                    !this.mouseHandled && i.not(".ui-state-disabled").length && (this.select(t),
                    t.isPropagationStopped() || (this.mouseHandled = !0),
                    i.has(".ui-menu").length ? this.expand(t) : !this.element.is(":focus") && e(this.document[0].activeElement).closest(".ui-menu").length && (this.element.trigger("focus", [!0]),
                    this.active && 1 === this.active.parents(".ui-menu").length && clearTimeout(this.timer)))
                },
                "mouseenter .ui-menu-item": function(t) {
                    if (!this.previousFilter) {
                        var i = e(t.currentTarget);
                        i.siblings(".ui-state-active").removeClass("ui-state-active"),
                        this.focus(t, i)
                    }
                },
                mouseleave: "collapseAll",
                "mouseleave .ui-menu": "collapseAll",
                focus: function(e, t) {
                    var i = this.active || this.element.find(this.options.items).eq(0);
                    t || this.focus(e, i)
                },
                blur: function(t) {
                    this._delay(function() {
                        e.contains(this.element[0], this.document[0].activeElement) || this.collapseAll(t)
                    })
                },
                keydown: "_keydown"
            }),
            this.refresh(),
            this._on(this.document, {
                click: function(e) {
                    this._closeOnDocumentClick(e) && this.collapseAll(e),
                    this.mouseHandled = !1
                }
            })
        },
        _destroy: function() {
            this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),
            this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                var t = e(this);
                t.data("ui-menu-submenu-carat") && t.remove()
            }),
            this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
        },
        _keydown: function(t) {
            var i, s, n, a, o = !0;
            switch (t.keyCode) {
            case e.ui.keyCode.PAGE_UP:
                this.previousPage(t);
                break;
            case e.ui.keyCode.PAGE_DOWN:
                this.nextPage(t);
                break;
            case e.ui.keyCode.HOME:
                this._move("first", "first", t);
                break;
            case e.ui.keyCode.END:
                this._move("last", "last", t);
                break;
            case e.ui.keyCode.UP:
                this.previous(t);
                break;
            case e.ui.keyCode.DOWN:
                this.next(t);
                break;
            case e.ui.keyCode.LEFT:
                this.collapse(t);
                break;
            case e.ui.keyCode.RIGHT:
                this.active && !this.active.is(".ui-state-disabled") && this.expand(t);
                break;
            case e.ui.keyCode.ENTER:
            case e.ui.keyCode.SPACE:
                this._activate(t);
                break;
            case e.ui.keyCode.ESCAPE:
                this.collapse(t);
                break;
            default:
                o = !1,
                s = this.previousFilter || "",
                n = String.fromCharCode(t.keyCode),
                a = !1,
                clearTimeout(this.filterTimer),
                n === s ? a = !0 : n = s + n,
                i = this._filterMenuItems(n),
                i = a && -1 !== i.index(this.active.next()) ? this.active.nextAll(".ui-menu-item") : i,
                i.length || (n = String.fromCharCode(t.keyCode),
                i = this._filterMenuItems(n)),
                i.length ? (this.focus(t, i),
                this.previousFilter = n,
                this.filterTimer = this._delay(function() {
                    delete this.previousFilter
                }, 1e3)) : delete this.previousFilter
            }
            o && t.preventDefault()
        },
        _activate: function(e) {
            this.active.is(".ui-state-disabled") || (this.active.is("[aria-haspopup='true']") ? this.expand(e) : this.select(e))
        },
        refresh: function() {
            var t, i, s = this, n = this.options.icons.submenu, a = this.element.find(this.options.menus);
            this.element.toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length),
            a.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({
                role: this.options.role,
                "aria-hidden": "true",
                "aria-expanded": "false"
            }).each(function() {
                var t = e(this)
                  , i = t.parent()
                  , s = e("<span>").addClass("ui-menu-icon ui-icon " + n).data("ui-menu-submenu-carat", !0);
                i.attr("aria-haspopup", "true").prepend(s),
                t.attr("aria-labelledby", i.attr("id"))
            }),
            t = a.add(this.element),
            i = t.find(this.options.items),
            i.not(".ui-menu-item").each(function() {
                var t = e(this);
                s._isDivider(t) && t.addClass("ui-widget-content ui-menu-divider")
            }),
            i.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({
                tabIndex: -1,
                role: this._itemRole()
            }),
            i.filter(".ui-state-disabled").attr("aria-disabled", "true"),
            this.active && !e.contains(this.element[0], this.active[0]) && this.blur()
        },
        _itemRole: function() {
            return {
                menu: "menuitem",
                listbox: "option"
            }[this.options.role]
        },
        _setOption: function(e, t) {
            "icons" === e && this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),
            "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this._super(e, t)
        },
        focus: function(e, t) {
            var i, s;
            this.blur(e, e && "focus" === e.type),
            this._scrollIntoView(t),
            this.active = t.first(),
            s = this.active.addClass("ui-state-focus").removeClass("ui-state-active"),
            this.options.role && this.element.attr("aria-activedescendant", s.attr("id")),
            this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),
            e && "keydown" === e.type ? this._close() : this.timer = this._delay(function() {
                this._close()
            }, this.delay),
            i = t.children(".ui-menu"),
            i.length && e && /^mouse/.test(e.type) && this._startOpening(i),
            this.activeMenu = t.parent(),
            this._trigger("focus", e, {
                item: t
            })
        },
        _scrollIntoView: function(t) {
            var i, s, n, a, o, r;
            this._hasScroll() && (i = parseFloat(e.css(this.activeMenu[0], "borderTopWidth")) || 0,
            s = parseFloat(e.css(this.activeMenu[0], "paddingTop")) || 0,
            n = t.offset().top - this.activeMenu.offset().top - i - s,
            a = this.activeMenu.scrollTop(),
            o = this.activeMenu.height(),
            r = t.outerHeight(),
            0 > n ? this.activeMenu.scrollTop(a + n) : n + r > o && this.activeMenu.scrollTop(a + n - o + r))
        },
        blur: function(e, t) {
            t || clearTimeout(this.timer),
            this.active && (this.active.removeClass("ui-state-focus"),
            this.active = null,
            this._trigger("blur", e, {
                item: this.active
            }))
        },
        _startOpening: function(e) {
            clearTimeout(this.timer),
            "true" === e.attr("aria-hidden") && (this.timer = this._delay(function() {
                this._close(),
                this._open(e)
            }, this.delay))
        },
        _open: function(t) {
            var i = e.extend({
                of: this.active
            }, this.options.position);
            clearTimeout(this.timer),
            this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden", "true"),
            t.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(i)
        },
        collapseAll: function(t, i) {
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                var s = i ? this.element : e(t && t.target).closest(this.element.find(".ui-menu"));
                s.length || (s = this.element),
                this._close(s),
                this.blur(t),
                this.activeMenu = s
            }, this.delay)
        },
        _close: function(e) {
            e || (e = this.active ? this.active.parent() : this.element),
            e.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")
        },
        _closeOnDocumentClick: function(t) {
            return !e(t.target).closest(".ui-menu").length
        },
        _isDivider: function(e) {
            return !/[^\-\u2014\u2013\s]/.test(e.text())
        },
        collapse: function(e) {
            var t = this.active && this.active.parent().closest(".ui-menu-item", this.element);
            t && t.length && (this._close(),
            this.focus(e, t))
        },
        expand: function(e) {
            var t = this.active && this.active.children(".ui-menu ").find(this.options.items).first();
            t && t.length && (this._open(t.parent()),
            this._delay(function() {
                this.focus(e, t)
            }))
        },
        next: function(e) {
            this._move("next", "first", e)
        },
        previous: function(e) {
            this._move("prev", "last", e)
        },
        isFirstItem: function() {
            return this.active && !this.active.prevAll(".ui-menu-item").length
        },
        isLastItem: function() {
            return this.active && !this.active.nextAll(".ui-menu-item").length
        },
        _move: function(e, t, i) {
            var s;
            this.active && (s = "first" === e || "last" === e ? this.active["first" === e ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1) : this.active[e + "All"](".ui-menu-item").eq(0)),
            s && s.length && this.active || (s = this.activeMenu.find(this.options.items)[t]()),
            this.focus(i, s)
        },
        nextPage: function(t) {
            var i, s, n;
            return this.active ? (this.isLastItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.nextAll(".ui-menu-item").each(function() {
                return i = e(this),
                0 > i.offset().top - s - n
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items)[this.active ? "last" : "first"]())),
            void 0) : (this.next(t),
            void 0)
        },
        previousPage: function(t) {
            var i, s, n;
            return this.active ? (this.isFirstItem() || (this._hasScroll() ? (s = this.active.offset().top,
            n = this.element.height(),
            this.active.prevAll(".ui-menu-item").each(function() {
                return i = e(this),
                i.offset().top - s + n > 0
            }),
            this.focus(t, i)) : this.focus(t, this.activeMenu.find(this.options.items).first())),
            void 0) : (this.next(t),
            void 0)
        },
        _hasScroll: function() {
            return this.element.outerHeight() < this.element.prop("scrollHeight")
        },
        select: function(t) {
            this.active = this.active || e(t.target).closest(".ui-menu-item");
            var i = {
                item: this.active
            };
            this.active.has(".ui-menu").length || this.collapseAll(t, !0),
            this._trigger("select", t, i)
        },
        _filterMenuItems: function(t) {
            var i = t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
              , s = RegExp("^" + i, "i");
            return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function() {
                return s.test(e.trim(e(this).text()))
            })
        }
    }),
    e.widget("ui.autocomplete", {
        version: "1.11.3",
        defaultElement: "<input>",
        options: {
            appendTo: null,
            autoFocus: !1,
            delay: 300,
            minLength: 1,
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            source: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            response: null,
            search: null,
            select: null
        },
        requestIndex: 0,
        pending: 0,
        _create: function() {
            var t, i, s, n = this.element[0].nodeName.toLowerCase(), a = "textarea" === n, o = "input" === n;
            this.isMultiLine = a ? !0 : o ? !1 : this.element.prop("isContentEditable"),
            this.valueMethod = this.element[a || o ? "val" : "text"],
            this.isNewMenu = !0,
            this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off"),
            this._on(this.element, {
                keydown: function(n) {
                    if (this.element.prop("readOnly"))
                        return t = !0,
                        s = !0,
                        i = !0,
                        void 0;
                    t = !1,
                    s = !1,
                    i = !1;
                    var a = e.ui.keyCode;
                    switch (n.keyCode) {
                    case a.PAGE_UP:
                        t = !0,
                        this._move("previousPage", n);
                        break;
                    case a.PAGE_DOWN:
                        t = !0,
                        this._move("nextPage", n);
                        break;
                    case a.UP:
                        t = !0,
                        this._keyEvent("previous", n);
                        break;
                    case a.DOWN:
                        t = !0,
                        this._keyEvent("next", n);
                        break;
                    case a.ENTER:
                        this.menu.active && (t = !0,
                        n.preventDefault(),
                        this.menu.select(n));
                        break;
                    case a.TAB:
                        this.menu.active && this.menu.select(n);
                        break;
                    case a.ESCAPE:
                        this.menu.element.is(":visible") && (this.isMultiLine || this._value(this.term),
                        this.close(n),
                        n.preventDefault());
                        break;
                    default:
                        i = !0,
                        this._searchTimeout(n)
                    }
                },
                keypress: function(s) {
                    if (t)
                        return t = !1,
                        (!this.isMultiLine || this.menu.element.is(":visible")) && s.preventDefault(),
                        void 0;
                    if (!i) {
                        var n = e.ui.keyCode;
                        switch (s.keyCode) {
                        case n.PAGE_UP:
                            this._move("previousPage", s);
                            break;
                        case n.PAGE_DOWN:
                            this._move("nextPage", s);
                            break;
                        case n.UP:
                            this._keyEvent("previous", s);
                            break;
                        case n.DOWN:
                            this._keyEvent("next", s)
                        }
                    }
                },
                input: function(e) {
                    return s ? (s = !1,
                    e.preventDefault(),
                    void 0) : (this._searchTimeout(e),
                    void 0)
                },
                focus: function() {
                    this.selectedItem = null,
                    this.previous = this._value()
                },
                blur: function(e) {
                    return this.cancelBlur ? (delete this.cancelBlur,
                    void 0) : (clearTimeout(this.searching),
                    this.close(e),
                    this._change(e),
                    void 0)
                }
            }),
            this._initSource(),
            this.menu = e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                role: null
            }).hide().menu("instance"),
            this._on(this.menu.element, {
                mousedown: function(t) {
                    t.preventDefault(),
                    this.cancelBlur = !0,
                    this._delay(function() {
                        delete this.cancelBlur
                    });
                    var i = this.menu.element[0];
                    e(t.target).closest(".ui-menu-item").length || this._delay(function() {
                        var t = this;
                        this.document.one("mousedown", function(s) {
                            s.target === t.element[0] || s.target === i || e.contains(i, s.target) || t.close()
                        })
                    })
                },
                menufocus: function(t, i) {
                    var s, n;
                    return this.isNewMenu && (this.isNewMenu = !1,
                    t.originalEvent && /^mouse/.test(t.originalEvent.type)) ? (this.menu.blur(),
                    this.document.one("mousemove", function() {
                        e(t.target).trigger(t.originalEvent)
                    }),
                    void 0) : (n = i.item.data("ui-autocomplete-item"),
                    !1 !== this._trigger("focus", t, {
                        item: n
                    }) && t.originalEvent && /^key/.test(t.originalEvent.type) && this._value(n.value),
                    s = i.item.attr("aria-label") || n.value,
                    s && e.trim(s).length && (this.liveRegion.children().hide(),
                    e("<div>").text(s).appendTo(this.liveRegion)),
                    void 0)
                },
                menuselect: function(e, t) {
                    var i = t.item.data("ui-autocomplete-item")
                      , s = this.previous;
                    this.element[0] !== this.document[0].activeElement && (this.element.focus(),
                    this.previous = s,
                    this._delay(function() {
                        this.previous = s,
                        this.selectedItem = i
                    })),
                    !1 !== this._trigger("select", e, {
                        item: i
                    }) && this._value(i.value),
                    this.term = this._value(),
                    this.close(e),
                    this.selectedItem = i
                }
            }),
            this.liveRegion = e("<span>", {
                role: "status",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _destroy: function() {
            clearTimeout(this.searching),
            this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),
            this.menu.element.remove(),
            this.liveRegion.remove()
        },
        _setOption: function(e, t) {
            this._super(e, t),
            "source" === e && this._initSource(),
            "appendTo" === e && this.menu.element.appendTo(this._appendTo()),
            "disabled" === e && t && this.xhr && this.xhr.abort()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _initSource: function() {
            var t, i, s = this;
            e.isArray(this.options.source) ? (t = this.options.source,
            this.source = function(i, s) {
                s(e.ui.autocomplete.filter(t, i.term))
            }
            ) : "string" == typeof this.options.source ? (i = this.options.source,
            this.source = function(t, n) {
                s.xhr && s.xhr.abort(),
                s.xhr = e.ajax({
                    url: i,
                    data: t,
                    dataType: "json",
                    success: function(e) {
                        n(e)
                    },
                    error: function() {
                        n([])
                    }
                })
            }
            ) : this.source = this.options.source
        },
        _searchTimeout: function(e) {
            clearTimeout(this.searching),
            this.searching = this._delay(function() {
                var t = this.term === this._value()
                  , i = this.menu.element.is(":visible")
                  , s = e.altKey || e.ctrlKey || e.metaKey || e.shiftKey;
                (!t || t && !i && !s) && (this.selectedItem = null,
                this.search(null, e))
            }, this.options.delay)
        },
        search: function(e, t) {
            return e = null != e ? e : this._value(),
            this.term = this._value(),
            e.length < this.options.minLength ? this.close(t) : this._trigger("search", t) !== !1 ? this._search(e) : void 0
        },
        _search: function(e) {
            this.pending++,
            this.element.addClass("ui-autocomplete-loading"),
            this.cancelSearch = !1,
            this.source({
                term: e
            }, this._response())
        },
        _response: function() {
            var t = ++this.requestIndex;
            return e.proxy(function(e) {
                t === this.requestIndex && this.__response(e),
                this.pending--,
                this.pending || this.element.removeClass("ui-autocomplete-loading")
            }, this)
        },
        __response: function(e) {
            e && (e = this._normalize(e)),
            this._trigger("response", null, {
                content: e
            }),
            !this.options.disabled && e && e.length && !this.cancelSearch ? (this._suggest(e),
            this._trigger("open")) : this._close()
        },
        close: function(e) {
            this.cancelSearch = !0,
            this._close(e)
        },
        _close: function(e) {
            this.menu.element.is(":visible") && (this.menu.element.hide(),
            this.menu.blur(),
            this.isNewMenu = !0,
            this._trigger("close", e))
        },
        _change: function(e) {
            this.previous !== this._value() && this._trigger("change", e, {
                item: this.selectedItem
            })
        },
        _normalize: function(t) {
            return t.length && t[0].label && t[0].value ? t : e.map(t, function(t) {
                return "string" == typeof t ? {
                    label: t,
                    value: t
                } : e.extend({}, t, {
                    label: t.label || t.value,
                    value: t.value || t.label
                })
            })
        },
        _suggest: function(t) {
            var i = this.menu.element.empty();
            this._renderMenu(i, t),
            this.isNewMenu = !0,
            this.menu.refresh(),
            i.show(),
            this._resizeMenu(),
            i.position(e.extend({
                of: this.element
            }, this.options.position)),
            this.options.autoFocus && this.menu.next()
        },
        _resizeMenu: function() {
            var e = this.menu.element;
            e.outerWidth(Math.max(e.width("").outerWidth() + 1, this.element.outerWidth()))
        },
        _renderMenu: function(t, i) {
            var s = this;
            e.each(i, function(e, i) {
                s._renderItemData(t, i)
            })
        },
        _renderItemData: function(e, t) {
            return this._renderItem(e, t).data("ui-autocomplete-item", t)
        },
        _renderItem: function(t, i) {
            return e("<li>").text(i.label).appendTo(t)
        },
        _move: function(e, t) {
            return this.menu.element.is(":visible") ? this.menu.isFirstItem() && /^previous/.test(e) || this.menu.isLastItem() && /^next/.test(e) ? (this.isMultiLine || this._value(this.term),
            this.menu.blur(),
            void 0) : (this.menu[e](t),
            void 0) : (this.search(null, t),
            void 0)
        },
        widget: function() {
            return this.menu.element
        },
        _value: function() {
            return this.valueMethod.apply(this.element, arguments)
        },
        _keyEvent: function(e, t) {
            (!this.isMultiLine || this.menu.element.is(":visible")) && (this._move(e, t),
            t.preventDefault())
        }
    }),
    e.extend(e.ui.autocomplete, {
        escapeRegex: function(e) {
            return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
        },
        filter: function(t, i) {
            var s = RegExp(e.ui.autocomplete.escapeRegex(i), "i");
            return e.grep(t, function(e) {
                return s.test(e.label || e.value || e)
            })
        }
    }),
    e.widget("ui.autocomplete", e.ui.autocomplete, {
        options: {
            messages: {
                noResults: "No search results.",
                results: function(e) {
                    return e + (e > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                }
            }
        },
        __response: function(t) {
            var i;
            this._superApply(arguments),
            this.options.disabled || this.cancelSearch || (i = t && t.length ? this.options.messages.results(t.length) : this.options.messages.noResults,
            this.liveRegion.children().hide(),
            e("<div>").text(i).appendTo(this.liveRegion))
        }
    }),
    e.ui.autocomplete;
    var c, p = "ui-button ui-widget ui-state-default ui-corner-all", f = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only", m = function() {
        var t = e(this);
        setTimeout(function() {
            t.find(":ui-button").button("refresh")
        }, 1)
    }, g = function(t) {
        var i = t.name
          , s = t.form
          , n = e([]);
        return i && (i = i.replace(/'/g, "\\'"),
        n = s ? e(s).find("[name='" + i + "'][type=radio]") : e("[name='" + i + "'][type=radio]", t.ownerDocument).filter(function() {
            return !this.form
        })),
        n
    };
    e.widget("ui.button", {
        version: "1.11.3",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, m),
            "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled),
            this._determineButtonType(),
            this.hasTitle = !!this.buttonElement.attr("title");
            var t = this
              , i = this.options
              , s = "checkbox" === this.type || "radio" === this.type
              , n = s ? "" : "ui-state-active";
            null === i.label && (i.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()),
            this._hoverable(this.buttonElement),
            this.buttonElement.addClass(p).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                i.disabled || this === c && e(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                i.disabled || e(this).removeClass(n)
            }).bind("click" + this.eventNamespace, function(e) {
                i.disabled && (e.preventDefault(),
                e.stopImmediatePropagation())
            }),
            this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }),
            s && this.element.bind("change" + this.eventNamespace, function() {
                t.refresh()
            }),
            "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                return i.disabled ? !1 : void 0
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (i.disabled)
                    return !1;
                e(this).addClass("ui-state-active"),
                t.buttonElement.attr("aria-pressed", "true");
                var s = t.element[0];
                g(s).not(s).map(function() {
                    return e(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                return i.disabled ? !1 : (e(this).addClass("ui-state-active"),
                c = this,
                t.document.one("mouseup", function() {
                    c = null
                }),
                void 0)
            }).bind("mouseup" + this.eventNamespace, function() {
                return i.disabled ? !1 : (e(this).removeClass("ui-state-active"),
                void 0)
            }).bind("keydown" + this.eventNamespace, function(t) {
                return i.disabled ? !1 : ((t.keyCode === e.ui.keyCode.SPACE || t.keyCode === e.ui.keyCode.ENTER) && e(this).addClass("ui-state-active"),
                void 0)
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                e(this).removeClass("ui-state-active")
            }),
            this.buttonElement.is("a") && this.buttonElement.keyup(function(t) {
                t.keyCode === e.ui.keyCode.SPACE && e(this).click()
            })),
            this._setOption("disabled", i.disabled),
            this._resetButton()
        },
        _determineButtonType: function() {
            var e, t, i;
            this.type = this.element.is("[type=checkbox]") ? "checkbox" : this.element.is("[type=radio]") ? "radio" : this.element.is("input") ? "input" : "button",
            "checkbox" === this.type || "radio" === this.type ? (e = this.element.parents().last(),
            t = "label[for='" + this.element.attr("id") + "']",
            this.buttonElement = e.find(t),
            this.buttonElement.length || (e = e.length ? e.siblings() : this.element.siblings(),
            this.buttonElement = e.filter(t),
            this.buttonElement.length || (this.buttonElement = e.find(t))),
            this.element.addClass("ui-helper-hidden-accessible"),
            i = this.element.is(":checked"),
            i && this.buttonElement.addClass("ui-state-active"),
            this.buttonElement.prop("aria-pressed", i)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"),
            this.buttonElement.removeClass(p + " ui-state-active " + f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),
            this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(e, t) {
            return this._super(e, t),
            "disabled" === e ? (this.widget().toggleClass("ui-state-disabled", !!t),
            this.element.prop("disabled", !!t),
            t && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")),
            void 0) : (this._resetButton(),
            void 0)
        },
        refresh: function() {
            var t = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            t !== this.options.disabled && this._setOption("disabled", t),
            "radio" === this.type ? g(this.element[0]).each(function() {
                e(this).is(":checked") ? e(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type)
                return this.options.label && this.element.val(this.options.label),
                void 0;
            var t = this.buttonElement.removeClass(f)
              , i = e("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text()
              , s = this.options.icons
              , n = s.primary && s.secondary
              , a = [];
            s.primary || s.secondary ? (this.options.text && a.push("ui-button-text-icon" + (n ? "s" : s.primary ? "-primary" : "-secondary")),
            s.primary && t.prepend("<span class='ui-button-icon-primary ui-icon " + s.primary + "'></span>"),
            s.secondary && t.append("<span class='ui-button-icon-secondary ui-icon " + s.secondary + "'></span>"),
            this.options.text || (a.push(n ? "ui-button-icons-only" : "ui-button-icon-only"),
            this.hasTitle || t.attr("title", e.trim(i)))) : a.push("ui-button-text-only"),
            t.addClass(a.join(" "))
        }
    }),
    e.widget("ui.buttonset", {
        version: "1.11.3",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(e, t) {
            "disabled" === e && this.buttons.button("option", e, t),
            this._super(e, t)
        },
        refresh: function() {
            var t = "rtl" === this.element.css("direction")
              , i = this.element.find(this.options.items)
              , s = i.filter(":ui-button");
            i.not(":ui-button").button(),
            s.button("refresh"),
            this.buttons = i.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(t ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"),
            this.buttons.map(function() {
                return e(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    }),
    e.ui.button,
    e.extend(e.ui, {
        datepicker: {
            version: "1.11.3"
        }
    });
    var v;
    e.extend(n.prototype, {
        markerClassName: "hasDatepicker",
        maxRows: 4,
        _widgetDatepicker: function() {
            return this.dpDiv
        },
        setDefaults: function(e) {
            return r(this._defaults, e || {}),
            this
        },
        _attachDatepicker: function(t, i) {
            var s, n, a;
            s = t.nodeName.toLowerCase(),
            n = "div" === s || "span" === s,
            t.id || (this.uuid += 1,
            t.id = "dp" + this.uuid),
            a = this._newInst(e(t), n),
            a.settings = e.extend({}, i || {}),
            "input" === s ? this._connectDatepicker(t, a) : n && this._inlineDatepicker(t, a)
        },
        _newInst: function(t, i) {
            var s = t[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
            return {
                id: s,
                input: t,
                selectedDay: 0,
                selectedMonth: 0,
                selectedYear: 0,
                drawMonth: 0,
                drawYear: 0,
                inline: i,
                dpDiv: i ? a(e("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")) : this.dpDiv
            }
        },
        _connectDatepicker: function(t, i) {
            var s = e(t);
            i.append = e([]),
            i.trigger = e([]),
            s.hasClass(this.markerClassName) || (this._attachments(s, i),
            s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),
            this._autoSize(i),
            e.data(t, "datepicker", i),
            i.settings.disabled && this._disableDatepicker(t))
        },
        _attachments: function(t, i) {
            var s, n, a, o = this._get(i, "appendText"), r = this._get(i, "isRTL");
            i.append && i.append.remove(),
            o && (i.append = e("<span class='" + this._appendClass + "'>" + o + "</span>"),
            t[r ? "before" : "after"](i.append)),
            t.unbind("focus", this._showDatepicker),
            i.trigger && i.trigger.remove(),
            s = this._get(i, "showOn"),
            ("focus" === s || "both" === s) && t.focus(this._showDatepicker),
            ("button" === s || "both" === s) && (n = this._get(i, "buttonText"),
            a = this._get(i, "buttonImage"),
            i.trigger = e(this._get(i, "buttonImageOnly") ? e("<img/>").addClass(this._triggerClass).attr({
                src: a,
                alt: n,
                title: n
            }) : e("<button type='button'></button>").addClass(this._triggerClass).html(a ? e("<img/>").attr({
                src: a,
                alt: n,
                title: n
            }) : n)),
            t[r ? "before" : "after"](i.trigger),
            i.trigger.click(function() {
                return e.datepicker._datepickerShowing && e.datepicker._lastInput === t[0] ? e.datepicker._hideDatepicker() : e.datepicker._datepickerShowing && e.datepicker._lastInput !== t[0] ? (e.datepicker._hideDatepicker(),
                e.datepicker._showDatepicker(t[0])) : e.datepicker._showDatepicker(t[0]),
                !1
            }))
        },
        _autoSize: function(e) {
            if (this._get(e, "autoSize") && !e.inline) {
                var t, i, s, n, a = new Date(2009,11,20), o = this._get(e, "dateFormat");
                o.match(/[DM]/) && (t = function(e) {
                    for (i = 0,
                    s = 0,
                    n = 0; e.length > n; n++)
                        e[n].length > i && (i = e[n].length,
                        s = n);
                    return s
                }
                ,
                a.setMonth(t(this._get(e, o.match(/MM/) ? "monthNames" : "monthNamesShort"))),
                a.setDate(t(this._get(e, o.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - a.getDay())),
                e.input.attr("size", this._formatDate(e, a).length)
            }
        },
        _inlineDatepicker: function(t, i) {
            var s = e(t);
            s.hasClass(this.markerClassName) || (s.addClass(this.markerClassName).append(i.dpDiv),
            e.data(t, "datepicker", i),
            this._setDate(i, this._getDefaultDate(i), !0),
            this._updateDatepicker(i),
            this._updateAlternate(i),
            i.settings.disabled && this._disableDatepicker(t),
            i.dpDiv.css("display", "block"))
        },
        _dialogDatepicker: function(t, i, s, n, a) {
            var o, h, l, u, d, c = this._dialogInst;
            return c || (this.uuid += 1,
            o = "dp" + this.uuid,
            this._dialogInput = e("<input type='text' id='" + o + "' style='position: absolute; top: -100px; width: 0px;'/>"),
            this._dialogInput.keydown(this._doKeyDown),
            e("body").append(this._dialogInput),
            c = this._dialogInst = this._newInst(this._dialogInput, !1),
            c.settings = {},
            e.data(this._dialogInput[0], "datepicker", c)),
            r(c.settings, n || {}),
            i = i && i.constructor === Date ? this._formatDate(c, i) : i,
            this._dialogInput.val(i),
            this._pos = a ? a.length ? a : [a.pageX, a.pageY] : null,
            this._pos || (h = document.documentElement.clientWidth,
            l = document.documentElement.clientHeight,
            u = document.documentElement.scrollLeft || document.body.scrollLeft,
            d = document.documentElement.scrollTop || document.body.scrollTop,
            this._pos = [h / 2 - 100 + u, l / 2 - 150 + d]),
            this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px"),
            c.settings.onSelect = s,
            this._inDialog = !0,
            this.dpDiv.addClass(this._dialogClass),
            this._showDatepicker(this._dialogInput[0]),
            e.blockUI && e.blockUI(this.dpDiv),
            e.data(this._dialogInput[0], "datepicker", c),
            this
        },
        _destroyDatepicker: function(t) {
            var i, s = e(t), n = e.data(t, "datepicker");
            s.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            e.removeData(t, "datepicker"),
            "input" === i ? (n.append.remove(),
            n.trigger.remove(),
            s.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)) : ("div" === i || "span" === i) && s.removeClass(this.markerClassName).empty(),
            v === n && (v = null))
        },
        _enableDatepicker: function(t) {
            var i, s, n = e(t), a = e.data(t, "datepicker");
            n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            "input" === i ? (t.disabled = !1,
            a.trigger.filter("button").each(function() {
                this.disabled = !1
            }).end().filter("img").css({
                opacity: "1.0",
                cursor: ""
            })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().removeClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !1)),
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            }))
        },
        _disableDatepicker: function(t) {
            var i, s, n = e(t), a = e.data(t, "datepicker");
            n.hasClass(this.markerClassName) && (i = t.nodeName.toLowerCase(),
            "input" === i ? (t.disabled = !0,
            a.trigger.filter("button").each(function() {
                this.disabled = !0
            }).end().filter("img").css({
                opacity: "0.5",
                cursor: "default"
            })) : ("div" === i || "span" === i) && (s = n.children("." + this._inlineClass),
            s.children().addClass("ui-state-disabled"),
            s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", !0)),
            this._disabledInputs = e.map(this._disabledInputs, function(e) {
                return e === t ? null : e
            }),
            this._disabledInputs[this._disabledInputs.length] = t)
        },
        _isDisabledDatepicker: function(e) {
            if (!e)
                return !1;
            for (var t = 0; this._disabledInputs.length > t; t++)
                if (this._disabledInputs[t] === e)
                    return !0;
            return !1
        },
        _getInst: function(t) {
            try {
                return e.data(t, "datepicker")
            } catch (i) {
                throw "Missing instance data for this datepicker"
            }
        },
        _optionDatepicker: function(t, i, s) {
            var n, a, o, h, l = this._getInst(t);
            return 2 === arguments.length && "string" == typeof i ? "defaults" === i ? e.extend({}, e.datepicker._defaults) : l ? "all" === i ? e.extend({}, l.settings) : this._get(l, i) : null : (n = i || {},
            "string" == typeof i && (n = {},
            n[i] = s),
            l && (this._curInst === l && this._hideDatepicker(),
            a = this._getDateDatepicker(t, !0),
            o = this._getMinMaxDate(l, "min"),
            h = this._getMinMaxDate(l, "max"),
            r(l.settings, n),
            null !== o && void 0 !== n.dateFormat && void 0 === n.minDate && (l.settings.minDate = this._formatDate(l, o)),
            null !== h && void 0 !== n.dateFormat && void 0 === n.maxDate && (l.settings.maxDate = this._formatDate(l, h)),
            "disabled"in n && (n.disabled ? this._disableDatepicker(t) : this._enableDatepicker(t)),
            this._attachments(e(t), l),
            this._autoSize(l),
            this._setDate(l, a),
            this._updateAlternate(l),
            this._updateDatepicker(l)),
            void 0)
        },
        _changeDatepicker: function(e, t, i) {
            this._optionDatepicker(e, t, i)
        },
        _refreshDatepicker: function(e) {
            var t = this._getInst(e);
            t && this._updateDatepicker(t)
        },
        _setDateDatepicker: function(e, t) {
            var i = this._getInst(e);
            i && (this._setDate(i, t),
            this._updateDatepicker(i),
            this._updateAlternate(i))
        },
        _getDateDatepicker: function(e, t) {
            var i = this._getInst(e);
            return i && !i.inline && this._setDateFromField(i, t),
            i ? this._getDate(i) : null
        },
        _doKeyDown: function(t) {
            var i, s, n, a = e.datepicker._getInst(t.target), o = !0, r = a.dpDiv.is(".ui-datepicker-rtl");
            if (a._keyEvent = !0,
            e.datepicker._datepickerShowing)
                switch (t.keyCode) {
                case 9:
                    e.datepicker._hideDatepicker(),
                    o = !1;
                    break;
                case 13:
                    return n = e("td." + e.datepicker._dayOverClass + ":not(." + e.datepicker._currentClass + ")", a.dpDiv),
                    n[0] && e.datepicker._selectDay(t.target, a.selectedMonth, a.selectedYear, n[0]),
                    i = e.datepicker._get(a, "onSelect"),
                    i ? (s = e.datepicker._formatDate(a),
                    i.apply(a.input ? a.input[0] : null, [s, a])) : e.datepicker._hideDatepicker(),
                    !1;
                case 27:
                    e.datepicker._hideDatepicker();
                    break;
                case 33:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 34:
                    e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 35:
                    (t.ctrlKey || t.metaKey) && e.datepicker._clearDate(t.target),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 36:
                    (t.ctrlKey || t.metaKey) && e.datepicker._gotoToday(t.target),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 37:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? 1 : -1, "D"),
                    o = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? -e.datepicker._get(a, "stepBigMonths") : -e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 38:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, -7, "D"),
                    o = t.ctrlKey || t.metaKey;
                    break;
                case 39:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, r ? -1 : 1, "D"),
                    o = t.ctrlKey || t.metaKey,
                    t.originalEvent.altKey && e.datepicker._adjustDate(t.target, t.ctrlKey ? +e.datepicker._get(a, "stepBigMonths") : +e.datepicker._get(a, "stepMonths"), "M");
                    break;
                case 40:
                    (t.ctrlKey || t.metaKey) && e.datepicker._adjustDate(t.target, 7, "D"),
                    o = t.ctrlKey || t.metaKey;
                    break;
                default:
                    o = !1
                }
            else
                36 === t.keyCode && t.ctrlKey ? e.datepicker._showDatepicker(this) : o = !1;
            o && (t.preventDefault(),
            t.stopPropagation())
        },
        _doKeyPress: function(t) {
            var i, s, n = e.datepicker._getInst(t.target);
            return e.datepicker._get(n, "constrainInput") ? (i = e.datepicker._possibleChars(e.datepicker._get(n, "dateFormat")),
            s = String.fromCharCode(null == t.charCode ? t.keyCode : t.charCode),
            t.ctrlKey || t.metaKey || " " > s || !i || i.indexOf(s) > -1) : void 0
        },
        _doKeyUp: function(t) {
            var i, s = e.datepicker._getInst(t.target);
            if (s.input.val() !== s.lastVal)
                try {
                    i = e.datepicker.parseDate(e.datepicker._get(s, "dateFormat"), s.input ? s.input.val() : null, e.datepicker._getFormatConfig(s)),
                    i && (e.datepicker._setDateFromField(s),
                    e.datepicker._updateAlternate(s),
                    e.datepicker._updateDatepicker(s))
                } catch (n) {}
            return !0
        },
        _showDatepicker: function(t) {
            if (t = t.target || t,
            "input" !== t.nodeName.toLowerCase() && (t = e("input", t.parentNode)[0]),
            !e.datepicker._isDisabledDatepicker(t) && e.datepicker._lastInput !== t) {
                var i, n, a, o, h, l, u;
                i = e.datepicker._getInst(t),
                e.datepicker._curInst && e.datepicker._curInst !== i && (e.datepicker._curInst.dpDiv.stop(!0, !0),
                i && e.datepicker._datepickerShowing && e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),
                n = e.datepicker._get(i, "beforeShow"),
                a = n ? n.apply(t, [t, i]) : {},
                a !== !1 && (r(i.settings, a),
                i.lastVal = null,
                e.datepicker._lastInput = t,
                e.datepicker._setDateFromField(i),
                e.datepicker._inDialog && (t.value = ""),
                e.datepicker._pos || (e.datepicker._pos = e.datepicker._findPos(t),
                e.datepicker._pos[1] += t.offsetHeight),
                o = !1,
                e(t).parents().each(function() {
                    return o |= "fixed" === e(this).css("position"),
                    !o
                }),
                h = {
                    left: e.datepicker._pos[0],
                    top: e.datepicker._pos[1]
                },
                e.datepicker._pos = null,
                i.dpDiv.empty(),
                i.dpDiv.css({
                    position: "absolute",
                    display: "block",
                    top: "-1000px"
                }),
                e.datepicker._updateDatepicker(i),
                h = e.datepicker._checkOffset(i, h, o),
                i.dpDiv.css({
                    position: e.datepicker._inDialog && e.blockUI ? "static" : o ? "fixed" : "absolute",
                    display: "none",
                    left: h.left + "px",
                    top: h.top + "px"
                }),
                i.inline || (l = e.datepicker._get(i, "showAnim"),
                u = e.datepicker._get(i, "duration"),
                i.dpDiv.css("z-index", s(e(t)) + 1),
                e.datepicker._datepickerShowing = !0,
                e.effects && e.effects.effect[l] ? i.dpDiv.show(l, e.datepicker._get(i, "showOptions"), u) : i.dpDiv[l || "show"](l ? u : null),
                e.datepicker._shouldFocusInput(i) && i.input.focus(),
                e.datepicker._curInst = i))
            }
        },
        _updateDatepicker: function(t) {
            this.maxRows = 4,
            v = t,
            t.dpDiv.empty().append(this._generateHTML(t)),
            this._attachHandlers(t);
            var i, s = this._getNumberOfMonths(t), n = s[1], a = 17, r = t.dpDiv.find("." + this._dayOverClass + " a");
            r.length > 0 && o.apply(r.get(0)),
            t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),
            n > 1 && t.dpDiv.addClass("ui-datepicker-multi-" + n).css("width", a * n + "em"),
            t.dpDiv[(1 !== s[0] || 1 !== s[1] ? "add" : "remove") + "Class"]("ui-datepicker-multi"),
            t.dpDiv[(this._get(t, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl"),
            t === e.datepicker._curInst && e.datepicker._datepickerShowing && e.datepicker._shouldFocusInput(t) && t.input.focus(),
            t.yearshtml && (i = t.yearshtml,
            setTimeout(function() {
                i === t.yearshtml && t.yearshtml && t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),
                i = t.yearshtml = null
            }, 0))
        },
        _shouldFocusInput: function(e) {
            return e.input && e.input.is(":visible") && !e.input.is(":disabled") && !e.input.is(":focus")
        },
        _checkOffset: function(t, i, s) {
            var n = t.dpDiv.outerWidth()
              , a = t.dpDiv.outerHeight()
              , o = t.input ? t.input.outerWidth() : 0
              , r = t.input ? t.input.outerHeight() : 0
              , h = document.documentElement.clientWidth + (s ? 0 : e(document).scrollLeft())
              , l = document.documentElement.clientHeight + (s ? 0 : e(document).scrollTop());
            return i.left -= this._get(t, "isRTL") ? n - o : 0,
            i.left -= s && i.left === t.input.offset().left ? e(document).scrollLeft() : 0,
            i.top -= s && i.top === t.input.offset().top + r ? e(document).scrollTop() : 0,
            i.left -= Math.min(i.left, i.left + n > h && h > n ? Math.abs(i.left + n - h) : 0),
            i.top -= Math.min(i.top, i.top + a > l && l > a ? Math.abs(a + r) : 0),
            i
        },
        _findPos: function(t) {
            for (var i, s = this._getInst(t), n = this._get(s, "isRTL"); t && ("hidden" === t.type || 1 !== t.nodeType || e.expr.filters.hidden(t)); )
                t = t[n ? "previousSibling" : "nextSibling"];
            return i = e(t).offset(),
            [i.left, i.top]
        },
        _hideDatepicker: function(t) {
            var i, s, n, a, o = this._curInst;
            !o || t && o !== e.data(t, "datepicker") || this._datepickerShowing && (i = this._get(o, "showAnim"),
            s = this._get(o, "duration"),
            n = function() {
                e.datepicker._tidyDialog(o)
            }
            ,
            e.effects && (e.effects.effect[i] || e.effects[i]) ? o.dpDiv.hide(i, e.datepicker._get(o, "showOptions"), s, n) : o.dpDiv["slideDown" === i ? "slideUp" : "fadeIn" === i ? "fadeOut" : "hide"](i ? s : null, n),
            i || n(),
            this._datepickerShowing = !1,
            a = this._get(o, "onClose"),
            a && a.apply(o.input ? o.input[0] : null, [o.input ? o.input.val() : "", o]),
            this._lastInput = null,
            this._inDialog && (this._dialogInput.css({
                position: "absolute",
                left: "0",
                top: "-100px"
            }),
            e.blockUI && (e.unblockUI(),
            e("body").append(this.dpDiv))),
            this._inDialog = !1)
        },
        _tidyDialog: function(e) {
            e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
        },
        _checkExternalClick: function(t) {
            if (e.datepicker._curInst) {
                var i = e(t.target)
                  , s = e.datepicker._getInst(i[0]);
                (i[0].id !== e.datepicker._mainDivId && 0 === i.parents("#" + e.datepicker._mainDivId).length && !i.hasClass(e.datepicker.markerClassName) && !i.closest("." + e.datepicker._triggerClass).length && e.datepicker._datepickerShowing && (!e.datepicker._inDialog || !e.blockUI) || i.hasClass(e.datepicker.markerClassName) && e.datepicker._curInst !== s) && e.datepicker._hideDatepicker()
            }
        },
        _adjustDate: function(t, i, s) {
            var n = e(t)
              , a = this._getInst(n[0]);
            this._isDisabledDatepicker(n[0]) || (this._adjustInstDate(a, i + ("M" === s ? this._get(a, "showCurrentAtPos") : 0), s),
            this._updateDatepicker(a))
        },
        _gotoToday: function(t) {
            var i, s = e(t), n = this._getInst(s[0]);
            this._get(n, "gotoCurrent") && n.currentDay ? (n.selectedDay = n.currentDay,
            n.drawMonth = n.selectedMonth = n.currentMonth,
            n.drawYear = n.selectedYear = n.currentYear) : (i = new Date,
            n.selectedDay = i.getDate(),
            n.drawMonth = n.selectedMonth = i.getMonth(),
            n.drawYear = n.selectedYear = i.getFullYear()),
            this._notifyChange(n),
            this._adjustDate(s)
        },
        _selectMonthYear: function(t, i, s) {
            var n = e(t)
              , a = this._getInst(n[0]);
            a["selected" + ("M" === s ? "Month" : "Year")] = a["draw" + ("M" === s ? "Month" : "Year")] = parseInt(i.options[i.selectedIndex].value, 10),
            this._notifyChange(a),
            this._adjustDate(n)
        },
        _selectDay: function(t, i, s, n) {
            var a, o = e(t);
            e(n).hasClass(this._unselectableClass) || this._isDisabledDatepicker(o[0]) || (a = this._getInst(o[0]),
            a.selectedDay = a.currentDay = e("a", n).html(),
            a.selectedMonth = a.currentMonth = i,
            a.selectedYear = a.currentYear = s,
            this._selectDate(t, this._formatDate(a, a.currentDay, a.currentMonth, a.currentYear)))
        },
        _clearDate: function(t) {
            var i = e(t);
            this._selectDate(i, "")
        },
        _selectDate: function(t, i) {
            var s, n = e(t), a = this._getInst(n[0]);
            i = null != i ? i : this._formatDate(a),
            a.input && a.input.val(i),
            this._updateAlternate(a),
            s = this._get(a, "onSelect"),
            s ? s.apply(a.input ? a.input[0] : null, [i, a]) : a.input && a.input.trigger("change"),
            a.inline ? this._updateDatepicker(a) : (this._hideDatepicker(),
            this._lastInput = a.input[0],
            "object" != typeof a.input[0] && a.input.focus(),
            this._lastInput = null)
        },
        _updateAlternate: function(t) {
            var i, s, n, a = this._get(t, "altField");
            a && (i = this._get(t, "altFormat") || this._get(t, "dateFormat"),
            s = this._getDate(t),
            n = this.formatDate(i, s, this._getFormatConfig(t)),
            e(a).each(function() {
                e(this).val(n)
            }))
        },
        noWeekends: function(e) {
            var t = e.getDay();
            return [t > 0 && 6 > t, ""]
        },
        iso8601Week: function(e) {
            var t, i = new Date(e.getTime());
            return i.setDate(i.getDate() + 4 - (i.getDay() || 7)),
            t = i.getTime(),
            i.setMonth(0),
            i.setDate(1),
            Math.floor(Math.round((t - i) / 864e5) / 7) + 1
        },
        parseDate: function(t, i, s) {
            if (null == t || null == i)
                throw "Invalid arguments";
            if (i = "object" == typeof i ? "" + i : i + "",
            "" === i)
                return null;
            var n, a, o, r, h = 0, l = (s ? s.shortYearCutoff : null) || this._defaults.shortYearCutoff, u = "string" != typeof l ? l : (new Date).getFullYear() % 100 + parseInt(l, 10), d = (s ? s.dayNamesShort : null) || this._defaults.dayNamesShort, c = (s ? s.dayNames : null) || this._defaults.dayNames, p = (s ? s.monthNamesShort : null) || this._defaults.monthNamesShort, f = (s ? s.monthNames : null) || this._defaults.monthNames, m = -1, g = -1, v = -1, y = -1, b = !1, _ = function(e) {
                var i = t.length > n + 1 && t.charAt(n + 1) === e;
                return i && n++,
                i
            }, x = function(e) {
                var t = _(e)
                  , s = "@" === e ? 14 : "!" === e ? 20 : "y" === e && t ? 4 : "o" === e ? 3 : 2
                  , n = "y" === e ? s : 1
                  , a = RegExp("^\\d{" + n + "," + s + "}")
                  , o = i.substring(h).match(a);
                if (!o)
                    throw "Missing number at position " + h;
                return h += o[0].length,
                parseInt(o[0], 10)
            }, w = function(t, s, n) {
                var a = -1
                  , o = e.map(_(t) ? n : s, function(e, t) {
                    return [[t, e]]
                }).sort(function(e, t) {
                    return -(e[1].length - t[1].length)
                });
                if (e.each(o, function(e, t) {
                    var s = t[1];
                    return i.substr(h, s.length).toLowerCase() === s.toLowerCase() ? (a = t[0],
                    h += s.length,
                    !1) : void 0
                }),
                -1 !== a)
                    return a + 1;
                throw "Unknown name at position " + h
            }, k = function() {
                if (i.charAt(h) !== t.charAt(n))
                    throw "Unexpected literal at position " + h;
                h++
            };
            for (n = 0; t.length > n; n++)
                if (b)
                    "'" !== t.charAt(n) || _("'") ? k() : b = !1;
                else
                    switch (t.charAt(n)) {
                    case "d":
                        v = x("d");
                        break;
                    case "D":
                        w("D", d, c);
                        break;
                    case "o":
                        y = x("o");
                        break;
                    case "m":
                        g = x("m");
                        break;
                    case "M":
                        g = w("M", p, f);
                        break;
                    case "y":
                        m = x("y");
                        break;
                    case "@":
                        r = new Date(x("@")),
                        m = r.getFullYear(),
                        g = r.getMonth() + 1,
                        v = r.getDate();
                        break;
                    case "!":
                        r = new Date((x("!") - this._ticksTo1970) / 1e4),
                        m = r.getFullYear(),
                        g = r.getMonth() + 1,
                        v = r.getDate();
                        break;
                    case "'":
                        _("'") ? k() : b = !0;
                        break;
                    default:
                        k()
                    }
            if (i.length > h && (o = i.substr(h),
            !/^\s+/.test(o)))
                throw "Extra/unparsed characters found in date: " + o;
            if (-1 === m ? m = (new Date).getFullYear() : 100 > m && (m += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (u >= m ? 0 : -100)),
            y > -1)
                for (g = 1,
                v = y; ; ) {
                    if (a = this._getDaysInMonth(m, g - 1),
                    a >= v)
                        break;
                    g++,
                    v -= a
                }
            if (r = this._daylightSavingAdjust(new Date(m,g - 1,v)),
            r.getFullYear() !== m || r.getMonth() + 1 !== g || r.getDate() !== v)
                throw "Invalid date";
            return r
        },
        ATOM: "yy-mm-dd",
        COOKIE: "D, dd M yy",
        ISO_8601: "yy-mm-dd",
        RFC_822: "D, d M y",
        RFC_850: "DD, dd-M-y",
        RFC_1036: "D, d M y",
        RFC_1123: "D, d M yy",
        RFC_2822: "D, d M yy",
        RSS: "D, d M y",
        TICKS: "!",
        TIMESTAMP: "@",
        W3C: "yy-mm-dd",
        _ticksTo1970: 1e7 * 60 * 60 * 24 * (718685 + Math.floor(492.5) - Math.floor(19.7) + Math.floor(4.925)),
        formatDate: function(e, t, i) {
            if (!t)
                return "";
            var s, n = (i ? i.dayNamesShort : null) || this._defaults.dayNamesShort, a = (i ? i.dayNames : null) || this._defaults.dayNames, o = (i ? i.monthNamesShort : null) || this._defaults.monthNamesShort, r = (i ? i.monthNames : null) || this._defaults.monthNames, h = function(t) {
                var i = e.length > s + 1 && e.charAt(s + 1) === t;
                return i && s++,
                i
            }, l = function(e, t, i) {
                var s = "" + t;
                if (h(e))
                    for (; i > s.length; )
                        s = "0" + s;
                return s
            }, u = function(e, t, i, s) {
                return h(e) ? s[t] : i[t]
            }, d = "", c = !1;
            if (t)
                for (s = 0; e.length > s; s++)
                    if (c)
                        "'" !== e.charAt(s) || h("'") ? d += e.charAt(s) : c = !1;
                    else
                        switch (e.charAt(s)) {
                        case "d":
                            d += l("d", t.getDate(), 2);
                            break;
                        case "D":
                            d += u("D", t.getDay(), n, a);
                            break;
                        case "o":
                            d += l("o", Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime() - new Date(t.getFullYear(),0,0).getTime()) / 864e5), 3);
                            break;
                        case "m":
                            d += l("m", t.getMonth() + 1, 2);
                            break;
                        case "M":
                            d += u("M", t.getMonth(), o, r);
                            break;
                        case "y":
                            d += h("y") ? t.getFullYear() : (10 > t.getYear() % 100 ? "0" : "") + t.getYear() % 100;
                            break;
                        case "@":
                            d += t.getTime();
                            break;
                        case "!":
                            d += 1e4 * t.getTime() + this._ticksTo1970;
                            break;
                        case "'":
                            h("'") ? d += "'" : c = !0;
                            break;
                        default:
                            d += e.charAt(s)
                        }
            return d
        },
        _possibleChars: function(e) {
            var t, i = "", s = !1, n = function(i) {
                var s = e.length > t + 1 && e.charAt(t + 1) === i;
                return s && t++,
                s
            };
            for (t = 0; e.length > t; t++)
                if (s)
                    "'" !== e.charAt(t) || n("'") ? i += e.charAt(t) : s = !1;
                else
                    switch (e.charAt(t)) {
                    case "d":
                    case "m":
                    case "y":
                    case "@":
                        i += "0123456789";
                        break;
                    case "D":
                    case "M":
                        return null;
                    case "'":
                        n("'") ? i += "'" : s = !0;
                        break;
                    default:
                        i += e.charAt(t)
                    }
            return i
        },
        _get: function(e, t) {
            return void 0 !== e.settings[t] ? e.settings[t] : this._defaults[t]
        },
        _setDateFromField: function(e, t) {
            if (e.input.val() !== e.lastVal) {
                var i = this._get(e, "dateFormat")
                  , s = e.lastVal = e.input ? e.input.val() : null
                  , n = this._getDefaultDate(e)
                  , a = n
                  , o = this._getFormatConfig(e);
                try {
                    a = this.parseDate(i, s, o) || n
                } catch (r) {
                    s = t ? "" : s
                }
                e.selectedDay = a.getDate(),
                e.drawMonth = e.selectedMonth = a.getMonth(),
                e.drawYear = e.selectedYear = a.getFullYear(),
                e.currentDay = s ? a.getDate() : 0,
                e.currentMonth = s ? a.getMonth() : 0,
                e.currentYear = s ? a.getFullYear() : 0,
                this._adjustInstDate(e)
            }
        },
        _getDefaultDate: function(e) {
            return this._restrictMinMax(e, this._determineDate(e, this._get(e, "defaultDate"), new Date))
        },
        _determineDate: function(t, i, s) {
            var n = function(e) {
                var t = new Date;
                return t.setDate(t.getDate() + e),
                t
            }
              , a = function(i) {
                try {
                    return e.datepicker.parseDate(e.datepicker._get(t, "dateFormat"), i, e.datepicker._getFormatConfig(t))
                } catch (s) {}
                for (var n = (i.toLowerCase().match(/^c/) ? e.datepicker._getDate(t) : null) || new Date, a = n.getFullYear(), o = n.getMonth(), r = n.getDate(), h = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g, l = h.exec(i); l; ) {
                    switch (l[2] || "d") {
                    case "d":
                    case "D":
                        r += parseInt(l[1], 10);
                        break;
                    case "w":
                    case "W":
                        r += 7 * parseInt(l[1], 10);
                        break;
                    case "m":
                    case "M":
                        o += parseInt(l[1], 10),
                        r = Math.min(r, e.datepicker._getDaysInMonth(a, o));
                        break;
                    case "y":
                    case "Y":
                        a += parseInt(l[1], 10),
                        r = Math.min(r, e.datepicker._getDaysInMonth(a, o))
                    }
                    l = h.exec(i)
                }
                return new Date(a,o,r)
            }
              , o = null == i || "" === i ? s : "string" == typeof i ? a(i) : "number" == typeof i ? isNaN(i) ? s : n(i) : new Date(i.getTime());
            return o = o && "Invalid Date" == "" + o ? s : o,
            o && (o.setHours(0),
            o.setMinutes(0),
            o.setSeconds(0),
            o.setMilliseconds(0)),
            this._daylightSavingAdjust(o)
        },
        _daylightSavingAdjust: function(e) {
            return e ? (e.setHours(e.getHours() > 12 ? e.getHours() + 2 : 0),
            e) : null
        },
        _setDate: function(e, t, i) {
            var s = !t
              , n = e.selectedMonth
              , a = e.selectedYear
              , o = this._restrictMinMax(e, this._determineDate(e, t, new Date));
            e.selectedDay = e.currentDay = o.getDate(),
            e.drawMonth = e.selectedMonth = e.currentMonth = o.getMonth(),
            e.drawYear = e.selectedYear = e.currentYear = o.getFullYear(),
            n === e.selectedMonth && a === e.selectedYear || i || this._notifyChange(e),
            this._adjustInstDate(e),
            e.input && e.input.val(s ? "" : this._formatDate(e))
        },
        _getDate: function(e) {
            var t = !e.currentYear || e.input && "" === e.input.val() ? null : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));
            return t
        },
        _attachHandlers: function(t) {
            var i = this._get(t, "stepMonths")
              , s = "#" + t.id.replace(/\\\\/g, "\\");
            t.dpDiv.find("[data-handler]").map(function() {
                var t = {
                    prev: function() {
                        e.datepicker._adjustDate(s, -i, "M")
                    },
                    next: function() {
                        e.datepicker._adjustDate(s, +i, "M")
                    },
                    hide: function() {
                        e.datepicker._hideDatepicker()
                    },
                    today: function() {
                        e.datepicker._gotoToday(s)
                    },
                    selectDay: function() {
                        return e.datepicker._selectDay(s, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this),
                        !1
                    },
                    selectMonth: function() {
                        return e.datepicker._selectMonthYear(s, this, "M"),
                        !1
                    },
                    selectYear: function() {
                        return e.datepicker._selectMonthYear(s, this, "Y"),
                        !1
                    }
                };
                e(this).bind(this.getAttribute("data-event"), t[this.getAttribute("data-handler")])
            })
        },
        _generateHTML: function(e) {
            var t, i, s, n, a, o, r, h, l, u, d, c, p, f, m, g, v, y, b, _, x, w, k, T, D, S, M, C, N, A, I, P, z, H, F, E, O, j, W, L = new Date, R = this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())), Y = this._get(e, "isRTL"), B = this._get(e, "showButtonPanel"), J = this._get(e, "hideIfNoPrevNext"), q = this._get(e, "navigationAsDateFormat"), K = this._getNumberOfMonths(e), V = this._get(e, "showCurrentAtPos"), U = this._get(e, "stepMonths"), Q = 1 !== K[0] || 1 !== K[1], G = this._daylightSavingAdjust(e.currentDay ? new Date(e.currentYear,e.currentMonth,e.currentDay) : new Date(9999,9,9)), X = this._getMinMaxDate(e, "min"), $ = this._getMinMaxDate(e, "max"), Z = e.drawMonth - V, et = e.drawYear;
            if (0 > Z && (Z += 12,
            et--),
            $)
                for (t = this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth() - K[0] * K[1] + 1,$.getDate())),
                t = X && X > t ? X : t; this._daylightSavingAdjust(new Date(et,Z,1)) > t; )
                    Z--,
                    0 > Z && (Z = 11,
                    et--);
            for (e.drawMonth = Z,
            e.drawYear = et,
            i = this._get(e, "prevText"),
            i = q ? this.formatDate(i, this._daylightSavingAdjust(new Date(et,Z - U,1)), this._getFormatConfig(e)) : i,
            s = this._canAdjustMonth(e, -1, et, Z) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>" : J ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + i + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "e" : "w") + "'>" + i + "</span></a>",
            n = this._get(e, "nextText"),
            n = q ? this.formatDate(n, this._daylightSavingAdjust(new Date(et,Z + U,1)), this._getFormatConfig(e)) : n,
            a = this._canAdjustMonth(e, 1, et, Z) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>" : J ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + n + "'><span class='ui-icon ui-icon-circle-triangle-" + (Y ? "w" : "e") + "'>" + n + "</span></a>",
            o = this._get(e, "currentText"),
            r = this._get(e, "gotoCurrent") && e.currentDay ? G : R,
            o = q ? this.formatDate(o, r, this._getFormatConfig(e)) : o,
            h = e.inline ? "" : "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(e, "closeText") + "</button>",
            l = B ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (Y ? h : "") + (this._isInRange(e, r) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>" + o + "</button>" : "") + (Y ? "" : h) + "</div>" : "",
            u = parseInt(this._get(e, "firstDay"), 10),
            u = isNaN(u) ? 0 : u,
            d = this._get(e, "showWeek"),
            c = this._get(e, "dayNames"),
            p = this._get(e, "dayNamesMin"),
            f = this._get(e, "monthNames"),
            m = this._get(e, "monthNamesShort"),
            g = this._get(e, "beforeShowDay"),
            v = this._get(e, "showOtherMonths"),
            y = this._get(e, "selectOtherMonths"),
            b = this._getDefaultDate(e),
            _ = "",
            w = 0; K[0] > w; w++) {
                for (k = "",
                this.maxRows = 4,
                T = 0; K[1] > T; T++) {
                    if (D = this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),
                    S = " ui-corner-all",
                    M = "",
                    Q) {
                        if (M += "<div class='ui-datepicker-group",
                        K[1] > 1)
                            switch (T) {
                            case 0:
                                M += " ui-datepicker-group-first",
                                S = " ui-corner-" + (Y ? "right" : "left");
                                break;
                            case K[1] - 1:
                                M += " ui-datepicker-group-last",
                                S = " ui-corner-" + (Y ? "left" : "right");
                                break;
                            default:
                                M += " ui-datepicker-group-middle",
                                S = ""
                            }
                        M += "'>"
                    }
                    for (M += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + S + "'>" + (/all|left/.test(S) && 0 === w ? Y ? a : s : "") + (/all|right/.test(S) && 0 === w ? Y ? s : a : "") + this._generateMonthYearHeader(e, Z, et, X, $, w > 0 || T > 0, f, m) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>",
                    C = d ? "<th class='ui-datepicker-week-col'>" + this._get(e, "weekHeader") + "</th>" : "",
                    x = 0; 7 > x; x++)
                        N = (x + u) % 7,
                        C += "<th scope='col'" + ((x + u + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + c[N] + "'>" + p[N] + "</span></th>";
                    for (M += C + "</tr></thead><tbody>",
                    A = this._getDaysInMonth(et, Z),
                    et === e.selectedYear && Z === e.selectedMonth && (e.selectedDay = Math.min(e.selectedDay, A)),
                    I = (this._getFirstDayOfMonth(et, Z) - u + 7) % 7,
                    P = Math.ceil((I + A) / 7),
                    z = Q ? this.maxRows > P ? this.maxRows : P : P,
                    this.maxRows = z,
                    H = this._daylightSavingAdjust(new Date(et,Z,1 - I)),
                    F = 0; z > F; F++) {
                        for (M += "<tr>",
                        E = d ? "<td class='ui-datepicker-week-col'>" + this._get(e, "calculateWeek")(H) + "</td>" : "",
                        x = 0; 7 > x; x++)
                            O = g ? g.apply(e.input ? e.input[0] : null, [H]) : [!0, ""],
                            j = H.getMonth() !== Z,
                            W = j && !y || !O[0] || X && X > H || $ && H > $,
                            E += "<td class='" + ((x + u + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (j ? " ui-datepicker-other-month" : "") + (H.getTime() === D.getTime() && Z === e.selectedMonth && e._keyEvent || b.getTime() === H.getTime() && b.getTime() === D.getTime() ? " " + this._dayOverClass : "") + (W ? " " + this._unselectableClass + " ui-state-disabled" : "") + (j && !v ? "" : " " + O[1] + (H.getTime() === G.getTime() ? " " + this._currentClass : "") + (H.getTime() === R.getTime() ? " ui-datepicker-today" : "")) + "'" + (j && !v || !O[2] ? "" : " title='" + O[2].replace(/'/g, "&#39;") + "'") + (W ? "" : " data-handler='selectDay' data-event='click' data-month='" + H.getMonth() + "' data-year='" + H.getFullYear() + "'") + ">" + (j && !v ? "&#xa0;" : W ? "<span class='ui-state-default'>" + H.getDate() + "</span>" : "<a class='ui-state-default" + (H.getTime() === R.getTime() ? " ui-state-highlight" : "") + (H.getTime() === G.getTime() ? " ui-state-active" : "") + (j ? " ui-priority-secondary" : "") + "' href='#'>" + H.getDate() + "</a>") + "</td>",
                            H.setDate(H.getDate() + 1),
                            H = this._daylightSavingAdjust(H);
                        M += E + "</tr>"
                    }
                    Z++,
                    Z > 11 && (Z = 0,
                    et++),
                    M += "</tbody></table>" + (Q ? "</div>" + (K[0] > 0 && T === K[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : ""),
                    k += M
                }
                _ += k
            }
            return _ += l,
            e._keyEvent = !1,
            _
        },
        _generateMonthYearHeader: function(e, t, i, s, n, a, o, r) {
            var h, l, u, d, c, p, f, m, g = this._get(e, "changeMonth"), v = this._get(e, "changeYear"), y = this._get(e, "showMonthAfterYear"), b = "<div class='ui-datepicker-title'>", _ = "";
            if (a || !g)
                _ += "<span class='ui-datepicker-month'>" + o[t] + "</span>";
            else {
                for (h = s && s.getFullYear() === i,
                l = n && n.getFullYear() === i,
                _ += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",
                u = 0; 12 > u; u++)
                    (!h || u >= s.getMonth()) && (!l || n.getMonth() >= u) && (_ += "<option value='" + u + "'" + (u === t ? " selected='selected'" : "") + ">" + r[u] + "</option>");
                _ += "</select>"
            }
            if (y || (b += _ + (!a && g && v ? "" : "&#xa0;")),
            !e.yearshtml)
                if (e.yearshtml = "",
                a || !v)
                    b += "<span class='ui-datepicker-year'>" + i + "</span>";
                else {
                    for (d = this._get(e, "yearRange").split(":"),
                    c = (new Date).getFullYear(),
                    p = function(e) {
                        var t = e.match(/c[+\-].*/) ? i + parseInt(e.substring(1), 10) : e.match(/[+\-].*/) ? c + parseInt(e, 10) : parseInt(e, 10);
                        return isNaN(t) ? c : t
                    }
                    ,
                    f = p(d[0]),
                    m = Math.max(f, p(d[1] || "")),
                    f = s ? Math.max(f, s.getFullYear()) : f,
                    m = n ? Math.min(m, n.getFullYear()) : m,
                    e.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>"; m >= f; f++)
                        e.yearshtml += "<option value='" + f + "'" + (f === i ? " selected='selected'" : "") + ">" + f + "</option>";
                    e.yearshtml += "</select>",
                    b += e.yearshtml,
                    e.yearshtml = null
                }
            return b += this._get(e, "yearSuffix"),
            y && (b += (!a && g && v ? "" : "&#xa0;") + _),
            b += "</div>"
        },
        _adjustInstDate: function(e, t, i) {
            var s = e.drawYear + ("Y" === i ? t : 0)
              , n = e.drawMonth + ("M" === i ? t : 0)
              , a = Math.min(e.selectedDay, this._getDaysInMonth(s, n)) + ("D" === i ? t : 0)
              , o = this._restrictMinMax(e, this._daylightSavingAdjust(new Date(s,n,a)));
            e.selectedDay = o.getDate(),
            e.drawMonth = e.selectedMonth = o.getMonth(),
            e.drawYear = e.selectedYear = o.getFullYear(),
            ("M" === i || "Y" === i) && this._notifyChange(e)
        },
        _restrictMinMax: function(e, t) {
            var i = this._getMinMaxDate(e, "min")
              , s = this._getMinMaxDate(e, "max")
              , n = i && i > t ? i : t;
            return s && n > s ? s : n
        },
        _notifyChange: function(e) {
            var t = this._get(e, "onChangeMonthYear");
            t && t.apply(e.input ? e.input[0] : null, [e.selectedYear, e.selectedMonth + 1, e])
        },
        _getNumberOfMonths: function(e) {
            var t = this._get(e, "numberOfMonths");
            return null == t ? [1, 1] : "number" == typeof t ? [1, t] : t
        },
        _getMinMaxDate: function(e, t) {
            return this._determineDate(e, this._get(e, t + "Date"), null)
        },
        _getDaysInMonth: function(e, t) {
            return 32 - this._daylightSavingAdjust(new Date(e,t,32)).getDate()
        },
        _getFirstDayOfMonth: function(e, t) {
            return new Date(e,t,1).getDay()
        },
        _canAdjustMonth: function(e, t, i, s) {
            var n = this._getNumberOfMonths(e)
              , a = this._daylightSavingAdjust(new Date(i,s + (0 > t ? t : n[0] * n[1]),1));
            return 0 > t && a.setDate(this._getDaysInMonth(a.getFullYear(), a.getMonth())),
            this._isInRange(e, a)
        },
        _isInRange: function(e, t) {
            var i, s, n = this._getMinMaxDate(e, "min"), a = this._getMinMaxDate(e, "max"), o = null, r = null, h = this._get(e, "yearRange");
            return h && (i = h.split(":"),
            s = (new Date).getFullYear(),
            o = parseInt(i[0], 10),
            r = parseInt(i[1], 10),
            i[0].match(/[+\-].*/) && (o += s),
            i[1].match(/[+\-].*/) && (r += s)),
            (!n || t.getTime() >= n.getTime()) && (!a || t.getTime() <= a.getTime()) && (!o || t.getFullYear() >= o) && (!r || r >= t.getFullYear())
        },
        _getFormatConfig: function(e) {
            var t = this._get(e, "shortYearCutoff");
            return t = "string" != typeof t ? t : (new Date).getFullYear() % 100 + parseInt(t, 10),
            {
                shortYearCutoff: t,
                dayNamesShort: this._get(e, "dayNamesShort"),
                dayNames: this._get(e, "dayNames"),
                monthNamesShort: this._get(e, "monthNamesShort"),
                monthNames: this._get(e, "monthNames")
            }
        },
        _formatDate: function(e, t, i, s) {
            t || (e.currentDay = e.selectedDay,
            e.currentMonth = e.selectedMonth,
            e.currentYear = e.selectedYear);
            var n = t ? "object" == typeof t ? t : this._daylightSavingAdjust(new Date(s,i,t)) : this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));
            return this.formatDate(this._get(e, "dateFormat"), n, this._getFormatConfig(e))
        }
    }),
    e.fn.datepicker = function(t) {
        if (!this.length)
            return this;
        e.datepicker.initialized || (e(document).mousedown(e.datepicker._checkExternalClick),
        e.datepicker.initialized = !0),
        0 === e("#" + e.datepicker._mainDivId).length && e("body").append(e.datepicker.dpDiv);
        var i = Array.prototype.slice.call(arguments, 1);
        return "string" != typeof t || "isDisabled" !== t && "getDate" !== t && "widget" !== t ? "option" === t && 2 === arguments.length && "string" == typeof arguments[1] ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i)) : this.each(function() {
            "string" == typeof t ? e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this].concat(i)) : e.datepicker._attachDatepicker(this, t)
        }) : e.datepicker["_" + t + "Datepicker"].apply(e.datepicker, [this[0]].concat(i))
    }
    ,
    e.datepicker = new n,
    e.datepicker.initialized = !1,
    e.datepicker.uuid = (new Date).getTime(),
    e.datepicker.version = "1.11.3",
    e.datepicker,
    e.widget("ui.dialog", {
        version: "1.11.3",
        options: {
            appendTo: "body",
            autoOpen: !0,
            buttons: [],
            closeOnEscape: !0,
            closeText: "Close",
            dialogClass: "",
            draggable: !0,
            hide: null,
            height: "auto",
            maxHeight: null,
            maxWidth: null,
            minHeight: 150,
            minWidth: 150,
            modal: !1,
            position: {
                my: "center",
                at: "center",
                of: window,
                collision: "fit",
                using: function(t) {
                    var i = e(this).css(t).offset().top;
                    0 > i && e(this).css("top", t.top - i)
                }
            },
            resizable: !0,
            show: null,
            title: null,
            width: 300,
            beforeClose: null,
            close: null,
            drag: null,
            dragStart: null,
            dragStop: null,
            focus: null,
            open: null,
            resize: null,
            resizeStart: null,
            resizeStop: null
        },
        sizeRelatedOptions: {
            buttons: !0,
            height: !0,
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0,
            width: !0
        },
        resizableRelatedOptions: {
            maxHeight: !0,
            maxWidth: !0,
            minHeight: !0,
            minWidth: !0
        },
        _create: function() {
            this.originalCss = {
                display: this.element[0].style.display,
                width: this.element[0].style.width,
                minHeight: this.element[0].style.minHeight,
                maxHeight: this.element[0].style.maxHeight,
                height: this.element[0].style.height
            },
            this.originalPosition = {
                parent: this.element.parent(),
                index: this.element.parent().children().index(this.element)
            },
            this.originalTitle = this.element.attr("title"),
            this.options.title = this.options.title || this.originalTitle,
            this._createWrapper(),
            this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),
            this._createTitlebar(),
            this._createButtonPane(),
            this.options.draggable && e.fn.draggable && this._makeDraggable(),
            this.options.resizable && e.fn.resizable && this._makeResizable(),
            this._isOpen = !1,
            this._trackFocus()
        },
        _init: function() {
            this.options.autoOpen && this.open()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t.jquery || t.nodeType) ? e(t) : this.document.find(t || "body").eq(0)
        },
        _destroy: function() {
            var e, t = this.originalPosition;
            this._destroyOverlay(),
            this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),
            this.uiDialog.stop(!0, !0).remove(),
            this.originalTitle && this.element.attr("title", this.originalTitle),
            e = t.parent.children().eq(t.index),
            e.length && e[0] !== this.element[0] ? e.before(this.element) : t.parent.append(this.element)
        },
        widget: function() {
            return this.uiDialog
        },
        disable: e.noop,
        enable: e.noop,
        close: function(t) {
            var i, s = this;
            if (this._isOpen && this._trigger("beforeClose", t) !== !1) {
                if (this._isOpen = !1,
                this._focusedElement = null,
                this._destroyOverlay(),
                this._untrackInstance(),
                !this.opener.filter(":focusable").focus().length)
                    try {
                        i = this.document[0].activeElement,
                        i && "body" !== i.nodeName.toLowerCase() && e(i).blur()
                    } catch (n) {}
                this._hide(this.uiDialog, this.options.hide, function() {
                    s._trigger("close", t)
                })
            }
        },
        isOpen: function() {
            return this._isOpen
        },
        moveToTop: function() {
            this._moveToTop()
        },
        _moveToTop: function(t, i) {
            var s = !1
              , n = this.uiDialog.siblings(".ui-front:visible").map(function() {
                return +e(this).css("z-index")
            }).get()
              , a = Math.max.apply(null, n);
            return a >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", a + 1),
            s = !0),
            s && !i && this._trigger("focus", t),
            s
        },
        open: function() {
            var t = this;
            return this._isOpen ? (this._moveToTop() && this._focusTabbable(),
            void 0) : (this._isOpen = !0,
            this.opener = e(this.document[0].activeElement),
            this._size(),
            this._position(),
            this._createOverlay(),
            this._moveToTop(null, !0),
            this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1),
            this._show(this.uiDialog, this.options.show, function() {
                t._focusTabbable(),
                t._trigger("focus")
            }),
            this._makeFocusTarget(),
            this._trigger("open"),
            void 0)
        },
        _focusTabbable: function() {
            var e = this._focusedElement;
            e || (e = this.element.find("[autofocus]")),
            e.length || (e = this.element.find(":tabbable")),
            e.length || (e = this.uiDialogButtonPane.find(":tabbable")),
            e.length || (e = this.uiDialogTitlebarClose.filter(":tabbable")),
            e.length || (e = this.uiDialog),
            e.eq(0).focus()
        },
        _keepFocus: function(t) {
            function i() {
                var t = this.document[0].activeElement
                  , i = this.uiDialog[0] === t || e.contains(this.uiDialog[0], t);
                i || this._focusTabbable()
            }
            t.preventDefault(),
            i.call(this),
            this._delay(i)
        },
        _createWrapper: function() {
            this.uiDialog = e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                tabIndex: -1,
                role: "dialog"
            }).appendTo(this._appendTo()),
            this._on(this.uiDialog, {
                keydown: function(t) {
                    if (this.options.closeOnEscape && !t.isDefaultPrevented() && t.keyCode && t.keyCode === e.ui.keyCode.ESCAPE)
                        return t.preventDefault(),
                        this.close(t),
                        void 0;
                    if (t.keyCode === e.ui.keyCode.TAB && !t.isDefaultPrevented()) {
                        var i = this.uiDialog.find(":tabbable")
                          , s = i.filter(":first")
                          , n = i.filter(":last");
                        t.target !== n[0] && t.target !== this.uiDialog[0] || t.shiftKey ? t.target !== s[0] && t.target !== this.uiDialog[0] || !t.shiftKey || (this._delay(function() {
                            n.focus()
                        }),
                        t.preventDefault()) : (this._delay(function() {
                            s.focus()
                        }),
                        t.preventDefault())
                    }
                },
                mousedown: function(e) {
                    this._moveToTop(e) && this._focusTabbable()
                }
            }),
            this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                "aria-describedby": this.element.uniqueId().attr("id")
            })
        },
        _createTitlebar: function() {
            var t;
            this.uiDialogTitlebar = e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),
            this._on(this.uiDialogTitlebar, {
                mousedown: function(t) {
                    e(t.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                }
            }),
            this.uiDialogTitlebarClose = e("<button type='button'></button>").button({
                label: this.options.closeText,
                icons: {
                    primary: "ui-icon-closethick"
                },
                text: !1
            }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),
            this._on(this.uiDialogTitlebarClose, {
                click: function(e) {
                    e.preventDefault(),
                    this.close(e)
                }
            }),
            t = e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),
            this._title(t),
            this.uiDialog.attr({
                "aria-labelledby": t.attr("id")
            })
        },
        _title: function(e) {
            this.options.title || e.html("&#160;"),
            e.text(this.options.title)
        },
        _createButtonPane: function() {
            this.uiDialogButtonPane = e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),
            this.uiButtonSet = e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
            this._createButtons()
        },
        _createButtons: function() {
            var t = this
              , i = this.options.buttons;
            return this.uiDialogButtonPane.remove(),
            this.uiButtonSet.empty(),
            e.isEmptyObject(i) || e.isArray(i) && !i.length ? (this.uiDialog.removeClass("ui-dialog-buttons"),
            void 0) : (e.each(i, function(i, s) {
                var n, a;
                s = e.isFunction(s) ? {
                    click: s,
                    text: i
                } : s,
                s = e.extend({
                    type: "button"
                }, s),
                n = s.click,
                s.click = function() {
                    n.apply(t.element[0], arguments)
                }
                ,
                a = {
                    icons: s.icons,
                    text: s.showText
                },
                delete s.icons,
                delete s.showText,
                e("<button></button>", s).button(a).appendTo(t.uiButtonSet)
            }),
            this.uiDialog.addClass("ui-dialog-buttons"),
            this.uiDialogButtonPane.appendTo(this.uiDialog),
            void 0)
        },
        _makeDraggable: function() {
            function t(e) {
                return {
                    position: e.position,
                    offset: e.offset
                }
            }
            var i = this
              , s = this.options;
            this.uiDialog.draggable({
                cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                handle: ".ui-dialog-titlebar",
                containment: "document",
                start: function(s, n) {
                    e(this).addClass("ui-dialog-dragging"),
                    i._blockFrames(),
                    i._trigger("dragStart", s, t(n))
                },
                drag: function(e, s) {
                    i._trigger("drag", e, t(s))
                },
                stop: function(n, a) {
                    var o = a.offset.left - i.document.scrollLeft()
                      , r = a.offset.top - i.document.scrollTop();
                    s.position = {
                        my: "left top",
                        at: "left" + (o >= 0 ? "+" : "") + o + " " + "top" + (r >= 0 ? "+" : "") + r,
                        of: i.window
                    },
                    e(this).removeClass("ui-dialog-dragging"),
                    i._unblockFrames(),
                    i._trigger("dragStop", n, t(a))
                }
            })
        },
        _makeResizable: function() {
            function t(e) {
                return {
                    originalPosition: e.originalPosition,
                    originalSize: e.originalSize,
                    position: e.position,
                    size: e.size
                }
            }
            var i = this
              , s = this.options
              , n = s.resizable
              , a = this.uiDialog.css("position")
              , o = "string" == typeof n ? n : "n,e,s,w,se,sw,ne,nw";
            this.uiDialog.resizable({
                cancel: ".ui-dialog-content",
                containment: "document",
                alsoResize: this.element,
                maxWidth: s.maxWidth,
                maxHeight: s.maxHeight,
                minWidth: s.minWidth,
                minHeight: this._minHeight(),
                handles: o,
                start: function(s, n) {
                    e(this).addClass("ui-dialog-resizing"),
                    i._blockFrames(),
                    i._trigger("resizeStart", s, t(n))
                },
                resize: function(e, s) {
                    i._trigger("resize", e, t(s))
                },
                stop: function(n, a) {
                    var o = i.uiDialog.offset()
                      , r = o.left - i.document.scrollLeft()
                      , h = o.top - i.document.scrollTop();
                    s.height = i.uiDialog.height(),
                    s.width = i.uiDialog.width(),
                    s.position = {
                        my: "left top",
                        at: "left" + (r >= 0 ? "+" : "") + r + " " + "top" + (h >= 0 ? "+" : "") + h,
                        of: i.window
                    },
                    e(this).removeClass("ui-dialog-resizing"),
                    i._unblockFrames(),
                    i._trigger("resizeStop", n, t(a))
                }
            }).css("position", a)
        },
        _trackFocus: function() {
            this._on(this.widget(), {
                focusin: function(t) {
                    this._makeFocusTarget(),
                    this._focusedElement = e(t.target)
                }
            })
        },
        _makeFocusTarget: function() {
            this._untrackInstance(),
            this._trackingInstances().unshift(this)
        },
        _untrackInstance: function() {
            var t = this._trackingInstances()
              , i = e.inArray(this, t);
            -1 !== i && t.splice(i, 1)
        },
        _trackingInstances: function() {
            var e = this.document.data("ui-dialog-instances");
            return e || (e = [],
            this.document.data("ui-dialog-instances", e)),
            e
        },
        _minHeight: function() {
            var e = this.options;
            return "auto" === e.height ? e.minHeight : Math.min(e.minHeight, e.height)
        },
        _position: function() {
            var e = this.uiDialog.is(":visible");
            e || this.uiDialog.show(),
            this.uiDialog.position(this.options.position),
            e || this.uiDialog.hide()
        },
        _setOptions: function(t) {
            var i = this
              , s = !1
              , n = {};
            e.each(t, function(e, t) {
                i._setOption(e, t),
                e in i.sizeRelatedOptions && (s = !0),
                e in i.resizableRelatedOptions && (n[e] = t)
            }),
            s && (this._size(),
            this._position()),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", n)
        },
        _setOption: function(e, t) {
            var i, s, n = this.uiDialog;
            "dialogClass" === e && n.removeClass(this.options.dialogClass).addClass(t),
            "disabled" !== e && (this._super(e, t),
            "appendTo" === e && this.uiDialog.appendTo(this._appendTo()),
            "buttons" === e && this._createButtons(),
            "closeText" === e && this.uiDialogTitlebarClose.button({
                label: "" + t
            }),
            "draggable" === e && (i = n.is(":data(ui-draggable)"),
            i && !t && n.draggable("destroy"),
            !i && t && this._makeDraggable()),
            "position" === e && this._position(),
            "resizable" === e && (s = n.is(":data(ui-resizable)"),
            s && !t && n.resizable("destroy"),
            s && "string" == typeof t && n.resizable("option", "handles", t),
            s || t === !1 || this._makeResizable()),
            "title" === e && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
        },
        _size: function() {
            var e, t, i, s = this.options;
            this.element.show().css({
                width: "auto",
                minHeight: 0,
                maxHeight: "none",
                height: 0
            }),
            s.minWidth > s.width && (s.width = s.minWidth),
            e = this.uiDialog.css({
                height: "auto",
                width: s.width
            }).outerHeight(),
            t = Math.max(0, s.minHeight - e),
            i = "number" == typeof s.maxHeight ? Math.max(0, s.maxHeight - e) : "none",
            "auto" === s.height ? this.element.css({
                minHeight: t,
                maxHeight: i,
                height: "auto"
            }) : this.element.height(Math.max(0, s.height - e)),
            this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
        },
        _blockFrames: function() {
            this.iframeBlocks = this.document.find("iframe").map(function() {
                var t = e(this);
                return e("<div>").css({
                    position: "absolute",
                    width: t.outerWidth(),
                    height: t.outerHeight()
                }).appendTo(t.parent()).offset(t.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(),
            delete this.iframeBlocks)
        },
        _allowInteraction: function(t) {
            return e(t.target).closest(".ui-dialog").length ? !0 : !!e(t.target).closest(".ui-datepicker").length
        },
        _createOverlay: function() {
            if (this.options.modal) {
                var t = !0;
                this._delay(function() {
                    t = !1
                }),
                this.document.data("ui-dialog-overlays") || this._on(this.document, {
                    focusin: function(e) {
                        t || this._allowInteraction(e) || (e.preventDefault(),
                        this._trackingInstances()[0]._focusTabbable())
                    }
                }),
                this.overlay = e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),
                this._on(this.overlay, {
                    mousedown: "_keepFocus"
                }),
                this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
            }
        },
        _destroyOverlay: function() {
            if (this.options.modal && this.overlay) {
                var e = this.document.data("ui-dialog-overlays") - 1;
                e ? this.document.data("ui-dialog-overlays", e) : this.document.unbind("focusin").removeData("ui-dialog-overlays"),
                this.overlay.remove(),
                this.overlay = null
            }
        }
    }),
    e.widget("ui.progressbar", {
        version: "1.11.3",
        options: {
            max: 100,
            value: 0,
            change: null,
            complete: null
        },
        min: 0,
        _create: function() {
            this.oldValue = this.options.value = this._constrainedValue(),
            this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                role: "progressbar",
                "aria-valuemin": this.min
            }),
            this.valueDiv = e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),
            this._refreshValue()
        },
        _destroy: function() {
            this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.valueDiv.remove()
        },
        value: function(e) {
            return void 0 === e ? this.options.value : (this.options.value = this._constrainedValue(e),
            this._refreshValue(),
            void 0)
        },
        _constrainedValue: function(e) {
            return void 0 === e && (e = this.options.value),
            this.indeterminate = e === !1,
            "number" != typeof e && (e = 0),
            this.indeterminate ? !1 : Math.min(this.options.max, Math.max(this.min, e))
        },
        _setOptions: function(e) {
            var t = e.value;
            delete e.value,
            this._super(e),
            this.options.value = this._constrainedValue(t),
            this._refreshValue()
        },
        _setOption: function(e, t) {
            "max" === e && (t = Math.max(this.min, t)),
            "disabled" === e && this.element.toggleClass("ui-state-disabled", !!t).attr("aria-disabled", t),
            this._super(e, t)
        },
        _percentage: function() {
            return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
        },
        _refreshValue: function() {
            var t = this.options.value
              , i = this._percentage();
            this.valueDiv.toggle(this.indeterminate || t > this.min).toggleClass("ui-corner-right", t === this.options.max).width(i.toFixed(0) + "%"),
            this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate),
            this.indeterminate ? (this.element.removeAttr("aria-valuenow"),
            this.overlayDiv || (this.overlayDiv = e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))) : (this.element.attr({
                "aria-valuemax": this.options.max,
                "aria-valuenow": t
            }),
            this.overlayDiv && (this.overlayDiv.remove(),
            this.overlayDiv = null)),
            this.oldValue !== t && (this.oldValue = t,
            this._trigger("change")),
            t === this.options.max && this._trigger("complete")
        }
    }),
    e.widget("ui.selectmenu", {
        version: "1.11.3",
        defaultElement: "<select>",
        options: {
            appendTo: null,
            disabled: null,
            icons: {
                button: "ui-icon-triangle-1-s"
            },
            position: {
                my: "left top",
                at: "left bottom",
                collision: "none"
            },
            width: null,
            change: null,
            close: null,
            focus: null,
            open: null,
            select: null
        },
        _create: function() {
            var e = this.element.uniqueId().attr("id");
            this.ids = {
                element: e,
                button: e + "-button",
                menu: e + "-menu"
            },
            this._drawButton(),
            this._drawMenu(),
            this.options.disabled && this.disable()
        },
        _drawButton: function() {
            var t = this;
            this.label = e("label[for='" + this.ids.element + "']").attr("for", this.ids.button),
            this._on(this.label, {
                click: function(e) {
                    this.button.focus(),
                    e.preventDefault()
                }
            }),
            this.element.hide(),
            this.button = e("<span>", {
                "class": "ui-selectmenu-button ui-widget ui-state-default ui-corner-all",
                tabindex: this.options.disabled ? -1 : 0,
                id: this.ids.button,
                role: "combobox",
                "aria-expanded": "false",
                "aria-autocomplete": "list",
                "aria-owns": this.ids.menu,
                "aria-haspopup": "true"
            }).insertAfter(this.element),
            e("<span>", {
                "class": "ui-icon " + this.options.icons.button
            }).prependTo(this.button),
            this.buttonText = e("<span>", {
                "class": "ui-selectmenu-text"
            }).appendTo(this.button),
            this._setText(this.buttonText, this.element.find("option:selected").text()),
            this._resizeButton(),
            this._on(this.button, this._buttonEvents),
            this.button.one("focusin", function() {
                t.menuItems || t._refreshMenu()
            }),
            this._hoverable(this.button),
            this._focusable(this.button)
        },
        _drawMenu: function() {
            var t = this;
            this.menu = e("<ul>", {
                "aria-hidden": "true",
                "aria-labelledby": this.ids.button,
                id: this.ids.menu
            }),
            this.menuWrap = e("<div>", {
                "class": "ui-selectmenu-menu ui-front"
            }).append(this.menu).appendTo(this._appendTo()),
            this.menuInstance = this.menu.menu({
                role: "listbox",
                select: function(e, i) {
                    e.preventDefault(),
                    t._setSelection(),
                    t._select(i.item.data("ui-selectmenu-item"), e)
                },
                focus: function(e, i) {
                    var s = i.item.data("ui-selectmenu-item");
                    null != t.focusIndex && s.index !== t.focusIndex && (t._trigger("focus", e, {
                        item: s
                    }),
                    t.isOpen || t._select(s, e)),
                    t.focusIndex = s.index,
                    t.button.attr("aria-activedescendant", t.menuItems.eq(s.index).attr("id"))
                }
            }).menu("instance"),
            this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),
            this.menuInstance._off(this.menu, "mouseleave"),
            this.menuInstance._closeOnDocumentClick = function() {
                return !1
            }
            ,
            this.menuInstance._isDivider = function() {
                return !1
            }
        },
        refresh: function() {
            this._refreshMenu(),
            this._setText(this.buttonText, this._getSelectedItem().text()),
            this.options.width || this._resizeButton()
        },
        _refreshMenu: function() {
            this.menu.empty();
            var e, t = this.element.find("option");
            t.length && (this._parseOptions(t),
            this._renderMenu(this.menu, this.items),
            this.menuInstance.refresh(),
            this.menuItems = this.menu.find("li").not(".ui-selectmenu-optgroup"),
            e = this._getSelectedItem(),
            this.menuInstance.focus(null, e),
            this._setAria(e.data("ui-selectmenu-item")),
            this._setOption("disabled", this.element.prop("disabled")))
        },
        open: function(e) {
            this.options.disabled || (this.menuItems ? (this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),
            this.menuInstance.focus(null, this._getSelectedItem())) : this._refreshMenu(),
            this.isOpen = !0,
            this._toggleAttr(),
            this._resizeMenu(),
            this._position(),
            this._on(this.document, this._documentClick),
            this._trigger("open", e))
        },
        _position: function() {
            this.menuWrap.position(e.extend({
                of: this.button
            }, this.options.position))
        },
        close: function(e) {
            this.isOpen && (this.isOpen = !1,
            this._toggleAttr(),
            this.range = null,
            this._off(this.document),
            this._trigger("close", e))
        },
        widget: function() {
            return this.button
        },
        menuWidget: function() {
            return this.menu
        },
        _renderMenu: function(t, i) {
            var s = this
              , n = "";
            e.each(i, function(i, a) {
                a.optgroup !== n && (e("<li>", {
                    "class": "ui-selectmenu-optgroup ui-menu-divider" + (a.element.parent("optgroup").prop("disabled") ? " ui-state-disabled" : ""),
                    text: a.optgroup
                }).appendTo(t),
                n = a.optgroup),
                s._renderItemData(t, a)
            })
        },
        _renderItemData: function(e, t) {
            return this._renderItem(e, t).data("ui-selectmenu-item", t)
        },
        _renderItem: function(t, i) {
            var s = e("<li>");
            return i.disabled && s.addClass("ui-state-disabled"),
            this._setText(s, i.label),
            s.appendTo(t)
        },
        _setText: function(e, t) {
            t ? e.text(t) : e.html("&#160;")
        },
        _move: function(e, t) {
            var i, s, n = ".ui-menu-item";
            this.isOpen ? i = this.menuItems.eq(this.focusIndex) : (i = this.menuItems.eq(this.element[0].selectedIndex),
            n += ":not(.ui-state-disabled)"),
            s = "first" === e || "last" === e ? i["first" === e ? "prevAll" : "nextAll"](n).eq(-1) : i[e + "All"](n).eq(0),
            s.length && this.menuInstance.focus(t, s)
        },
        _getSelectedItem: function() {
            return this.menuItems.eq(this.element[0].selectedIndex)
        },
        _toggle: function(e) {
            this[this.isOpen ? "close" : "open"](e)
        },
        _setSelection: function() {
            var e;
            this.range && (window.getSelection ? (e = window.getSelection(),
            e.removeAllRanges(),
            e.addRange(this.range)) : this.range.select(),
            this.button.focus())
        },
        _documentClick: {
            mousedown: function(t) {
                this.isOpen && (e(t.target).closest(".ui-selectmenu-menu, #" + this.ids.button).length || this.close(t))
            }
        },
        _buttonEvents: {
            mousedown: function() {
                var e;
                window.getSelection ? (e = window.getSelection(),
                e.rangeCount && (this.range = e.getRangeAt(0))) : this.range = document.selection.createRange()
            },
            click: function(e) {
                this._setSelection(),
                this._toggle(e)
            },
            keydown: function(t) {
                var i = !0;
                switch (t.keyCode) {
                case e.ui.keyCode.TAB:
                case e.ui.keyCode.ESCAPE:
                    this.close(t),
                    i = !1;
                    break;
                case e.ui.keyCode.ENTER:
                    this.isOpen && this._selectFocusedItem(t);
                    break;
                case e.ui.keyCode.UP:
                    t.altKey ? this._toggle(t) : this._move("prev", t);
                    break;
                case e.ui.keyCode.DOWN:
                    t.altKey ? this._toggle(t) : this._move("next", t);
                    break;
                case e.ui.keyCode.SPACE:
                    this.isOpen ? this._selectFocusedItem(t) : this._toggle(t);
                    break;
                case e.ui.keyCode.LEFT:
                    this._move("prev", t);
                    break;
                case e.ui.keyCode.RIGHT:
                    this._move("next", t);
                    break;
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.PAGE_UP:
                    this._move("first", t);
                    break;
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_DOWN:
                    this._move("last", t);
                    break;
                default:
                    this.menu.trigger(t),
                    i = !1
                }
                i && t.preventDefault()
            }
        },
        _selectFocusedItem: function(e) {
            var t = this.menuItems.eq(this.focusIndex);
            t.hasClass("ui-state-disabled") || this._select(t.data("ui-selectmenu-item"), e)
        },
        _select: function(e, t) {
            var i = this.element[0].selectedIndex;
            this.element[0].selectedIndex = e.index,
            this._setText(this.buttonText, e.label),
            this._setAria(e),
            this._trigger("select", t, {
                item: e
            }),
            e.index !== i && this._trigger("change", t, {
                item: e
            }),
            this.close(t)
        },
        _setAria: function(e) {
            var t = this.menuItems.eq(e.index).attr("id");
            this.button.attr({
                "aria-labelledby": t,
                "aria-activedescendant": t
            }),
            this.menu.attr("aria-activedescendant", t)
        },
        _setOption: function(e, t) {
            "icons" === e && this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),
            this._super(e, t),
            "appendTo" === e && this.menuWrap.appendTo(this._appendTo()),
            "disabled" === e && (this.menuInstance.option("disabled", t),
            this.button.toggleClass("ui-state-disabled", t).attr("aria-disabled", t),
            this.element.prop("disabled", t),
            t ? (this.button.attr("tabindex", -1),
            this.close()) : this.button.attr("tabindex", 0)),
            "width" === e && this._resizeButton()
        },
        _appendTo: function() {
            var t = this.options.appendTo;
            return t && (t = t.jquery || t.nodeType ? e(t) : this.document.find(t).eq(0)),
            t && t[0] || (t = this.element.closest(".ui-front")),
            t.length || (t = this.document[0].body),
            t
        },
        _toggleAttr: function() {
            this.button.toggleClass("ui-corner-top", this.isOpen).toggleClass("ui-corner-all", !this.isOpen).attr("aria-expanded", this.isOpen),
            this.menuWrap.toggleClass("ui-selectmenu-open", this.isOpen),
            this.menu.attr("aria-hidden", !this.isOpen)
        },
        _resizeButton: function() {
            var e = this.options.width;
            e || (e = this.element.show().outerWidth(),
            this.element.hide()),
            this.button.outerWidth(e)
        },
        _resizeMenu: function() {
            this.menu.outerWidth(Math.max(this.button.outerWidth(), this.menu.width("").outerWidth() + 1))
        },
        _getCreateOptions: function() {
            return {
                disabled: this.element.prop("disabled")
            }
        },
        _parseOptions: function(t) {
            var i = [];
            t.each(function(t, s) {
                var n = e(s)
                  , a = n.parent("optgroup");
                i.push({
                    element: n,
                    index: t,
                    value: n.val(),
                    label: n.text(),
                    optgroup: a.attr("label") || "",
                    disabled: a.prop("disabled") || n.prop("disabled")
                })
            }),
            this.items = i
        },
        _destroy: function() {
            this.menuWrap.remove(),
            this.button.remove(),
            this.element.show(),
            this.element.removeUniqueId(),
            this.label.attr("for", this.ids.element)
        }
    }),
    e.widget("ui.slider", e.ui.mouse, {
        version: "1.11.3",
        widgetEventPrefix: "slide",
        options: {
            animate: !1,
            distance: 0,
            max: 100,
            min: 0,
            orientation: "horizontal",
            range: !1,
            step: 1,
            value: 0,
            values: null,
            change: null,
            slide: null,
            start: null,
            stop: null
        },
        numPages: 5,
        _create: function() {
            this._keySliding = !1,
            this._mouseSliding = !1,
            this._animateOff = !0,
            this._handleIndex = null,
            this._detectOrientation(),
            this._mouseInit(),
            this._calculateNewMax(),
            this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all"),
            this._refresh(),
            this._setOption("disabled", this.options.disabled),
            this._animateOff = !1
        },
        _refresh: function() {
            this._createRange(),
            this._createHandles(),
            this._setupEvents(),
            this._refreshValue()
        },
        _createHandles: function() {
            var t, i, s = this.options, n = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"), a = "<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>", o = [];
            for (i = s.values && s.values.length || 1,
            n.length > i && (n.slice(i).remove(),
            n = n.slice(0, i)),
            t = n.length; i > t; t++)
                o.push(a);
            this.handles = n.add(e(o.join("")).appendTo(this.element)),
            this.handle = this.handles.eq(0),
            this.handles.each(function(t) {
                e(this).data("ui-slider-handle-index", t)
            })
        },
        _createRange: function() {
            var t = this.options
              , i = "";
            t.range ? (t.range === !0 && (t.values ? t.values.length && 2 !== t.values.length ? t.values = [t.values[0], t.values[0]] : e.isArray(t.values) && (t.values = t.values.slice(0)) : t.values = [this._valueMin(), this._valueMin()]),
            this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                left: "",
                bottom: ""
            }) : (this.range = e("<div></div>").appendTo(this.element),
            i = "ui-slider-range ui-widget-header ui-corner-all"),
            this.range.addClass(i + ("min" === t.range || "max" === t.range ? " ui-slider-range-" + t.range : ""))) : (this.range && this.range.remove(),
            this.range = null)
        },
        _setupEvents: function() {
            this._off(this.handles),
            this._on(this.handles, this._handleEvents),
            this._hoverable(this.handles),
            this._focusable(this.handles)
        },
        _destroy: function() {
            this.handles.remove(),
            this.range && this.range.remove(),
            this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),
            this._mouseDestroy()
        },
        _mouseCapture: function(t) {
            var i, s, n, a, o, r, h, l, u = this, d = this.options;
            return d.disabled ? !1 : (this.elementSize = {
                width: this.element.outerWidth(),
                height: this.element.outerHeight()
            },
            this.elementOffset = this.element.offset(),
            i = {
                x: t.pageX,
                y: t.pageY
            },
            s = this._normValueFromMouse(i),
            n = this._valueMax() - this._valueMin() + 1,
            this.handles.each(function(t) {
                var i = Math.abs(s - u.values(t));
                (n > i || n === i && (t === u._lastChangedValue || u.values(t) === d.min)) && (n = i,
                a = e(this),
                o = t)
            }),
            r = this._start(t, o),
            r === !1 ? !1 : (this._mouseSliding = !0,
            this._handleIndex = o,
            a.addClass("ui-state-active").focus(),
            h = a.offset(),
            l = !e(t.target).parents().addBack().is(".ui-slider-handle"),
            this._clickOffset = l ? {
                left: 0,
                top: 0
            } : {
                left: t.pageX - h.left - a.width() / 2,
                top: t.pageY - h.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
            },
            this.handles.hasClass("ui-state-hover") || this._slide(t, o, s),
            this._animateOff = !0,
            !0))
        },
        _mouseStart: function() {
            return !0
        },
        _mouseDrag: function(e) {
            var t = {
                x: e.pageX,
                y: e.pageY
            }
              , i = this._normValueFromMouse(t);
            return this._slide(e, this._handleIndex, i),
            !1
        },
        _mouseStop: function(e) {
            return this.handles.removeClass("ui-state-active"),
            this._mouseSliding = !1,
            this._stop(e, this._handleIndex),
            this._change(e, this._handleIndex),
            this._handleIndex = null,
            this._clickOffset = null,
            this._animateOff = !1,
            !1
        },
        _detectOrientation: function() {
            this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
        },
        _normValueFromMouse: function(e) {
            var t, i, s, n, a;
            return "horizontal" === this.orientation ? (t = this.elementSize.width,
            i = e.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (t = this.elementSize.height,
            i = e.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)),
            s = i / t,
            s > 1 && (s = 1),
            0 > s && (s = 0),
            "vertical" === this.orientation && (s = 1 - s),
            n = this._valueMax() - this._valueMin(),
            a = this._valueMin() + s * n,
            this._trimAlignValue(a)
        },
        _start: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            return this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("start", e, i)
        },
        _slide: function(e, t, i) {
            var s, n, a;
            this.options.values && this.options.values.length ? (s = this.values(t ? 0 : 1),
            2 === this.options.values.length && this.options.range === !0 && (0 === t && i > s || 1 === t && s > i) && (i = s),
            i !== this.values(t) && (n = this.values(),
            n[t] = i,
            a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i,
                values: n
            }),
            s = this.values(t ? 0 : 1),
            a !== !1 && this.values(t, i))) : i !== this.value() && (a = this._trigger("slide", e, {
                handle: this.handles[t],
                value: i
            }),
            a !== !1 && this.value(i))
        },
        _stop: function(e, t) {
            var i = {
                handle: this.handles[t],
                value: this.value()
            };
            this.options.values && this.options.values.length && (i.value = this.values(t),
            i.values = this.values()),
            this._trigger("stop", e, i)
        },
        _change: function(e, t) {
            if (!this._keySliding && !this._mouseSliding) {
                var i = {
                    handle: this.handles[t],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (i.value = this.values(t),
                i.values = this.values()),
                this._lastChangedValue = t,
                this._trigger("change", e, i)
            }
        },
        value: function(e) {
            return arguments.length ? (this.options.value = this._trimAlignValue(e),
            this._refreshValue(),
            this._change(null, 0),
            void 0) : this._value()
        },
        values: function(t, i) {
            var s, n, a;
            if (arguments.length > 1)
                return this.options.values[t] = this._trimAlignValue(i),
                this._refreshValue(),
                this._change(null, t),
                void 0;
            if (!arguments.length)
                return this._values();
            if (!e.isArray(arguments[0]))
                return this.options.values && this.options.values.length ? this._values(t) : this.value();
            for (s = this.options.values,
            n = arguments[0],
            a = 0; s.length > a; a += 1)
                s[a] = this._trimAlignValue(n[a]),
                this._change(null, a);
            this._refreshValue()
        },
        _setOption: function(t, i) {
            var s, n = 0;
            switch ("range" === t && this.options.range === !0 && ("min" === i ? (this.options.value = this._values(0),
            this.options.values = null) : "max" === i && (this.options.value = this._values(this.options.values.length - 1),
            this.options.values = null)),
            e.isArray(this.options.values) && (n = this.options.values.length),
            "disabled" === t && this.element.toggleClass("ui-state-disabled", !!i),
            this._super(t, i),
            t) {
            case "orientation":
                this._detectOrientation(),
                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation),
                this._refreshValue(),
                this.handles.css("horizontal" === i ? "bottom" : "left", "");
                break;
            case "value":
                this._animateOff = !0,
                this._refreshValue(),
                this._change(null, 0),
                this._animateOff = !1;
                break;
            case "values":
                for (this._animateOff = !0,
                this._refreshValue(),
                s = 0; n > s; s += 1)
                    this._change(null, s);
                this._animateOff = !1;
                break;
            case "step":
            case "min":
            case "max":
                this._animateOff = !0,
                this._calculateNewMax(),
                this._refreshValue(),
                this._animateOff = !1;
                break;
            case "range":
                this._animateOff = !0,
                this._refresh(),
                this._animateOff = !1
            }
        },
        _value: function() {
            var e = this.options.value;
            return e = this._trimAlignValue(e)
        },
        _values: function(e) {
            var t, i, s;
            if (arguments.length)
                return t = this.options.values[e],
                t = this._trimAlignValue(t);
            if (this.options.values && this.options.values.length) {
                for (i = this.options.values.slice(),
                s = 0; i.length > s; s += 1)
                    i[s] = this._trimAlignValue(i[s]);
                return i
            }
            return []
        },
        _trimAlignValue: function(e) {
            if (this._valueMin() >= e)
                return this._valueMin();
            if (e >= this._valueMax())
                return this._valueMax();
            var t = this.options.step > 0 ? this.options.step : 1
              , i = (e - this._valueMin()) % t
              , s = e - i;
            return 2 * Math.abs(i) >= t && (s += i > 0 ? t : -t),
            parseFloat(s.toFixed(5))
        },
        _calculateNewMax: function() {
            var e = this.options.max
              , t = this._valueMin()
              , i = this.options.step
              , s = Math.floor((e - t) / i) * i;
            e = s + t,
            this.max = parseFloat(e.toFixed(this._precision()))
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))),
            e
        },
        _precisionOf: function(e) {
            var t = "" + e
              , i = t.indexOf(".");
            return -1 === i ? 0 : t.length - i - 1
        },
        _valueMin: function() {
            return this.options.min
        },
        _valueMax: function() {
            return this.max
        },
        _refreshValue: function() {
            var t, i, s, n, a, o = this.options.range, r = this.options, h = this, l = this._animateOff ? !1 : r.animate, u = {};
            this.options.values && this.options.values.length ? this.handles.each(function(s) {
                i = 100 * ((h.values(s) - h._valueMin()) / (h._valueMax() - h._valueMin())),
                u["horizontal" === h.orientation ? "left" : "bottom"] = i + "%",
                e(this).stop(1, 1)[l ? "animate" : "css"](u, r.animate),
                h.options.range === !0 && ("horizontal" === h.orientation ? (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    left: i + "%"
                }, r.animate),
                1 === s && h.range[l ? "animate" : "css"]({
                    width: i - t + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                })) : (0 === s && h.range.stop(1, 1)[l ? "animate" : "css"]({
                    bottom: i + "%"
                }, r.animate),
                1 === s && h.range[l ? "animate" : "css"]({
                    height: i - t + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))),
                t = i
            }) : (s = this.value(),
            n = this._valueMin(),
            a = this._valueMax(),
            i = a !== n ? 100 * ((s - n) / (a - n)) : 0,
            u["horizontal" === this.orientation ? "left" : "bottom"] = i + "%",
            this.handle.stop(1, 1)[l ? "animate" : "css"](u, r.animate),
            "min" === o && "horizontal" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                width: i + "%"
            }, r.animate),
            "max" === o && "horizontal" === this.orientation && this.range[l ? "animate" : "css"]({
                width: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }),
            "min" === o && "vertical" === this.orientation && this.range.stop(1, 1)[l ? "animate" : "css"]({
                height: i + "%"
            }, r.animate),
            "max" === o && "vertical" === this.orientation && this.range[l ? "animate" : "css"]({
                height: 100 - i + "%"
            }, {
                queue: !1,
                duration: r.animate
            }))
        },
        _handleEvents: {
            keydown: function(t) {
                var i, s, n, a, o = e(t.target).data("ui-slider-handle-index");
                switch (t.keyCode) {
                case e.ui.keyCode.HOME:
                case e.ui.keyCode.END:
                case e.ui.keyCode.PAGE_UP:
                case e.ui.keyCode.PAGE_DOWN:
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (t.preventDefault(),
                    !this._keySliding && (this._keySliding = !0,
                    e(t.target).addClass("ui-state-active"),
                    i = this._start(t, o),
                    i === !1))
                        return
                }
                switch (a = this.options.step,
                s = n = this.options.values && this.options.values.length ? this.values(o) : this.value(),
                t.keyCode) {
                case e.ui.keyCode.HOME:
                    n = this._valueMin();
                    break;
                case e.ui.keyCode.END:
                    n = this._valueMax();
                    break;
                case e.ui.keyCode.PAGE_UP:
                    n = this._trimAlignValue(s + (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case e.ui.keyCode.PAGE_DOWN:
                    n = this._trimAlignValue(s - (this._valueMax() - this._valueMin()) / this.numPages);
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.RIGHT:
                    if (s === this._valueMax())
                        return;
                    n = this._trimAlignValue(s + a);
                    break;
                case e.ui.keyCode.DOWN:
                case e.ui.keyCode.LEFT:
                    if (s === this._valueMin())
                        return;
                    n = this._trimAlignValue(s - a)
                }
                this._slide(t, o, n)
            },
            keyup: function(t) {
                var i = e(t.target).data("ui-slider-handle-index");
                this._keySliding && (this._keySliding = !1,
                this._stop(t, i),
                this._change(t, i),
                e(t.target).removeClass("ui-state-active"))
            }
        }
    }),
    e.widget("ui.spinner", {
        version: "1.11.3",
        defaultElement: "<input>",
        widgetEventPrefix: "spin",
        options: {
            culture: null,
            icons: {
                down: "ui-icon-triangle-1-s",
                up: "ui-icon-triangle-1-n"
            },
            incremental: !0,
            max: null,
            min: null,
            numberFormat: null,
            page: 10,
            step: 1,
            change: null,
            spin: null,
            start: null,
            stop: null
        },
        _create: function() {
            this._setOption("max", this.options.max),
            this._setOption("min", this.options.min),
            this._setOption("step", this.options.step),
            "" !== this.value() && this._value(this.element.val(), !0),
            this._draw(),
            this._on(this._events),
            this._refresh(),
            this._on(this.window, {
                beforeunload: function() {
                    this.element.removeAttr("autocomplete")
                }
            })
        },
        _getCreateOptions: function() {
            var t = {}
              , i = this.element;
            return e.each(["min", "max", "step"], function(e, s) {
                var n = i.attr(s);
                void 0 !== n && n.length && (t[s] = n)
            }),
            t
        },
        _events: {
            keydown: function(e) {
                this._start(e) && this._keydown(e) && e.preventDefault()
            },
            keyup: "_stop",
            focus: function() {
                this.previous = this.element.val()
            },
            blur: function(e) {
                return this.cancelBlur ? (delete this.cancelBlur,
                void 0) : (this._stop(),
                this._refresh(),
                this.previous !== this.element.val() && this._trigger("change", e),
                void 0)
            },
            mousewheel: function(e, t) {
                if (t) {
                    if (!this.spinning && !this._start(e))
                        return !1;
                    this._spin((t > 0 ? 1 : -1) * this.options.step, e),
                    clearTimeout(this.mousewheelTimer),
                    this.mousewheelTimer = this._delay(function() {
                        this.spinning && this._stop(e)
                    }, 100),
                    e.preventDefault()
                }
            },
            "mousedown .ui-spinner-button": function(t) {
                function i() {
                    var e = this.element[0] === this.document[0].activeElement;
                    e || (this.element.focus(),
                    this.previous = s,
                    this._delay(function() {
                        this.previous = s
                    }))
                }
                var s;
                s = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val(),
                t.preventDefault(),
                i.call(this),
                this.cancelBlur = !0,
                this._delay(function() {
                    delete this.cancelBlur,
                    i.call(this)
                }),
                this._start(t) !== !1 && this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t)
            },
            "mouseup .ui-spinner-button": "_stop",
            "mouseenter .ui-spinner-button": function(t) {
                return e(t.currentTarget).hasClass("ui-state-active") ? this._start(t) === !1 ? !1 : (this._repeat(null, e(t.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, t),
                void 0) : void 0
            },
            "mouseleave .ui-spinner-button": "_stop"
        },
        _draw: function() {
            var e = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
            this.element.attr("role", "spinbutton"),
            this.buttons = e.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all"),
            this.buttons.height() > Math.ceil(.5 * e.height()) && e.height() > 0 && e.height(e.height()),
            this.options.disabled && this.disable()
        },
        _keydown: function(t) {
            var i = this.options
              , s = e.ui.keyCode;
            switch (t.keyCode) {
            case s.UP:
                return this._repeat(null, 1, t),
                !0;
            case s.DOWN:
                return this._repeat(null, -1, t),
                !0;
            case s.PAGE_UP:
                return this._repeat(null, i.page, t),
                !0;
            case s.PAGE_DOWN:
                return this._repeat(null, -i.page, t),
                !0
            }
            return !1
        },
        _uiSpinnerHtml: function() {
            return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
        },
        _buttonHtml: function() {
            return "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>"
        },
        _start: function(e) {
            return this.spinning || this._trigger("start", e) !== !1 ? (this.counter || (this.counter = 1),
            this.spinning = !0,
            !0) : !1
        },
        _repeat: function(e, t, i) {
            e = e || 500,
            clearTimeout(this.timer),
            this.timer = this._delay(function() {
                this._repeat(40, t, i)
            }, e),
            this._spin(t * this.options.step, i)
        },
        _spin: function(e, t) {
            var i = this.value() || 0;
            this.counter || (this.counter = 1),
            i = this._adjustValue(i + e * this._increment(this.counter)),
            this.spinning && this._trigger("spin", t, {
                value: i
            }) === !1 || (this._value(i),
            this.counter++)
        },
        _increment: function(t) {
            var i = this.options.incremental;
            return i ? e.isFunction(i) ? i(t) : Math.floor(t * t * t / 5e4 - t * t / 500 + 17 * t / 200 + 1) : 1
        },
        _precision: function() {
            var e = this._precisionOf(this.options.step);
            return null !== this.options.min && (e = Math.max(e, this._precisionOf(this.options.min))),
            e
        },
        _precisionOf: function(e) {
            var t = "" + e
              , i = t.indexOf(".");
            return -1 === i ? 0 : t.length - i - 1
        },
        _adjustValue: function(e) {
            var t, i, s = this.options;
            return t = null !== s.min ? s.min : 0,
            i = e - t,
            i = Math.round(i / s.step) * s.step,
            e = t + i,
            e = parseFloat(e.toFixed(this._precision())),
            null !== s.max && e > s.max ? s.max : null !== s.min && s.min > e ? s.min : e
        },
        _stop: function(e) {
            this.spinning && (clearTimeout(this.timer),
            clearTimeout(this.mousewheelTimer),
            this.counter = 0,
            this.spinning = !1,
            this._trigger("stop", e))
        },
        _setOption: function(e, t) {
            if ("culture" === e || "numberFormat" === e) {
                var i = this._parse(this.element.val());
                return this.options[e] = t,
                this.element.val(this._format(i)),
                void 0
            }
            ("max" === e || "min" === e || "step" === e) && "string" == typeof t && (t = this._parse(t)),
            "icons" === e && (this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),
            this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),
            this._super(e, t),
            "disabled" === e && (this.widget().toggleClass("ui-state-disabled", !!t),
            this.element.prop("disabled", !!t),
            this.buttons.button(t ? "disable" : "enable"))
        },
        _setOptions: h(function(e) {
            this._super(e)
        }),
        _parse: function(e) {
            return "string" == typeof e && "" !== e && (e = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(e, 10, this.options.culture) : +e),
            "" === e || isNaN(e) ? null : e
        },
        _format: function(e) {
            return "" === e ? "" : window.Globalize && this.options.numberFormat ? Globalize.format(e, this.options.numberFormat, this.options.culture) : e
        },
        _refresh: function() {
            this.element.attr({
                "aria-valuemin": this.options.min,
                "aria-valuemax": this.options.max,
                "aria-valuenow": this._parse(this.element.val())
            })
        },
        isValid: function() {
            var e = this.value();
            return null === e ? !1 : e === this._adjustValue(e)
        },
        _value: function(e, t) {
            var i;
            "" !== e && (i = this._parse(e),
            null !== i && (t || (i = this._adjustValue(i)),
            e = this._format(i))),
            this.element.val(e),
            this._refresh()
        },
        _destroy: function() {
            this.element.removeClass("ui-spinner-input").prop("disabled", !1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),
            this.uiSpinner.replaceWith(this.element)
        },
        stepUp: h(function(e) {
            this._stepUp(e)
        }),
        _stepUp: function(e) {
            this._start() && (this._spin((e || 1) * this.options.step),
            this._stop())
        },
        stepDown: h(function(e) {
            this._stepDown(e)
        }),
        _stepDown: function(e) {
            this._start() && (this._spin((e || 1) * -this.options.step),
            this._stop())
        },
        pageUp: h(function(e) {
            this._stepUp((e || 1) * this.options.page)
        }),
        pageDown: h(function(e) {
            this._stepDown((e || 1) * this.options.page)
        }),
        value: function(e) {
            return arguments.length ? (h(this._value).call(this, e),
            void 0) : this._parse(this.element.val())
        },
        widget: function() {
            return this.uiSpinner
        }
    }),
    e.widget("ui.tabs", {
        version: "1.11.3",
        delay: 300,
        options: {
            active: null,
            collapsible: !1,
            event: "click",
            heightStyle: "content",
            hide: null,
            show: null,
            activate: null,
            beforeActivate: null,
            beforeLoad: null,
            load: null
        },
        _isLocal: function() {
            var e = /#.*$/;
            return function(t) {
                var i, s;
                t = t.cloneNode(!1),
                i = t.href.replace(e, ""),
                s = location.href.replace(e, "");
                try {
                    i = decodeURIComponent(i)
                } catch (n) {}
                try {
                    s = decodeURIComponent(s)
                } catch (n) {}
                return t.hash.length > 1 && i === s
            }
        }(),
        _create: function() {
            var t = this
              , i = this.options;
            this.running = !1,
            this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", i.collapsible),
            this._processTabs(),
            i.active = this._initialActive(),
            e.isArray(i.disabled) && (i.disabled = e.unique(i.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"), function(e) {
                return t.tabs.index(e)
            }))).sort()),
            this.active = this.options.active !== !1 && this.anchors.length ? this._findActive(i.active) : e(),
            this._refresh(),
            this.active.length && this.load(i.active)
        },
        _initialActive: function() {
            var t = this.options.active
              , i = this.options.collapsible
              , s = location.hash.substring(1);
            return null === t && (s && this.tabs.each(function(i, n) {
                return e(n).attr("aria-controls") === s ? (t = i,
                !1) : void 0
            }),
            null === t && (t = this.tabs.index(this.tabs.filter(".ui-tabs-active"))),
            (null === t || -1 === t) && (t = this.tabs.length ? 0 : !1)),
            t !== !1 && (t = this.tabs.index(this.tabs.eq(t)),
            -1 === t && (t = i ? !1 : 0)),
            !i && t === !1 && this.anchors.length && (t = 0),
            t
        },
        _getCreateEventData: function() {
            return {
                tab: this.active,
                panel: this.active.length ? this._getPanelForTab(this.active) : e()
            }
        },
        _tabKeydown: function(t) {
            var i = e(this.document[0].activeElement).closest("li")
              , s = this.tabs.index(i)
              , n = !0;
            if (!this._handlePageNav(t)) {
                switch (t.keyCode) {
                case e.ui.keyCode.RIGHT:
                case e.ui.keyCode.DOWN:
                    s++;
                    break;
                case e.ui.keyCode.UP:
                case e.ui.keyCode.LEFT:
                    n = !1,
                    s--;
                    break;
                case e.ui.keyCode.END:
                    s = this.anchors.length - 1;
                    break;
                case e.ui.keyCode.HOME:
                    s = 0;
                    break;
                case e.ui.keyCode.SPACE:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(s),
                    void 0;
                case e.ui.keyCode.ENTER:
                    return t.preventDefault(),
                    clearTimeout(this.activating),
                    this._activate(s === this.options.active ? !1 : s),
                    void 0;
                default:
                    return
                }
                t.preventDefault(),
                clearTimeout(this.activating),
                s = this._focusNextTab(s, n),
                t.ctrlKey || t.metaKey || (i.attr("aria-selected", "false"),
                this.tabs.eq(s).attr("aria-selected", "true"),
                this.activating = this._delay(function() {
                    this.option("active", s)
                }, this.delay))
            }
        },
        _panelKeydown: function(t) {
            this._handlePageNav(t) || t.ctrlKey && t.keyCode === e.ui.keyCode.UP && (t.preventDefault(),
            this.active.focus())
        },
        _handlePageNav: function(t) {
            return t.altKey && t.keyCode === e.ui.keyCode.PAGE_UP ? (this._activate(this._focusNextTab(this.options.active - 1, !1)),
            !0) : t.altKey && t.keyCode === e.ui.keyCode.PAGE_DOWN ? (this._activate(this._focusNextTab(this.options.active + 1, !0)),
            !0) : void 0
        },
        _findNextTab: function(t, i) {
            function s() {
                return t > n && (t = 0),
                0 > t && (t = n),
                t
            }
            for (var n = this.tabs.length - 1; -1 !== e.inArray(s(), this.options.disabled); )
                t = i ? t + 1 : t - 1;
            return t
        },
        _focusNextTab: function(e, t) {
            return e = this._findNextTab(e, t),
            this.tabs.eq(e).focus(),
            e
        },
        _setOption: function(e, t) {
            return "active" === e ? (this._activate(t),
            void 0) : "disabled" === e ? (this._setupDisabled(t),
            void 0) : (this._super(e, t),
            "collapsible" === e && (this.element.toggleClass("ui-tabs-collapsible", t),
            t || this.options.active !== !1 || this._activate(0)),
            "event" === e && this._setupEvents(t),
            "heightStyle" === e && this._setupHeightStyle(t),
            void 0)
        },
        _sanitizeSelector: function(e) {
            return e ? e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
        },
        refresh: function() {
            var t = this.options
              , i = this.tablist.children(":has(a[href])");
            t.disabled = e.map(i.filter(".ui-state-disabled"), function(e) {
                return i.index(e)
            }),
            this._processTabs(),
            t.active !== !1 && this.anchors.length ? this.active.length && !e.contains(this.tablist[0], this.active[0]) ? this.tabs.length === t.disabled.length ? (t.active = !1,
            this.active = e()) : this._activate(this._findNextTab(Math.max(0, t.active - 1), !1)) : t.active = this.tabs.index(this.active) : (t.active = !1,
            this.active = e()),
            this._refresh()
        },
        _refresh: function() {
            this._setupDisabled(this.options.disabled),
            this._setupEvents(this.options.event),
            this._setupHeightStyle(this.options.heightStyle),
            this.tabs.not(this.active).attr({
                "aria-selected": "false",
                "aria-expanded": "false",
                tabIndex: -1
            }),
            this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                "aria-hidden": "true"
            }),
            this.active.length ? (this.active.addClass("ui-tabs-active ui-state-active").attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            }),
            this._getPanelForTab(this.active).show().attr({
                "aria-hidden": "false"
            })) : this.tabs.eq(0).attr("tabIndex", 0)
        },
        _processTabs: function() {
            var t = this
              , i = this.tabs
              , s = this.anchors
              , n = this.panels;
            this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist").delegate("> li", "mousedown" + this.eventNamespace, function(t) {
                e(this).is(".ui-state-disabled") && t.preventDefault()
            }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                e(this).closest("li").is(".ui-state-disabled") && this.blur()
            }),
            this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                role: "tab",
                tabIndex: -1
            }),
            this.anchors = this.tabs.map(function() {
                return e("a", this)[0]
            }).addClass("ui-tabs-anchor").attr({
                role: "presentation",
                tabIndex: -1
            }),
            this.panels = e(),
            this.anchors.each(function(i, s) {
                var n, a, o, r = e(s).uniqueId().attr("id"), h = e(s).closest("li"), l = h.attr("aria-controls");
                t._isLocal(s) ? (n = s.hash,
                o = n.substring(1),
                a = t.element.find(t._sanitizeSelector(n))) : (o = h.attr("aria-controls") || e({}).uniqueId()[0].id,
                n = "#" + o,
                a = t.element.find(n),
                a.length || (a = t._createPanel(o),
                a.insertAfter(t.panels[i - 1] || t.tablist)),
                a.attr("aria-live", "polite")),
                a.length && (t.panels = t.panels.add(a)),
                l && h.data("ui-tabs-aria-controls", l),
                h.attr({
                    "aria-controls": o,
                    "aria-labelledby": r
                }),
                a.attr("aria-labelledby", r)
            }),
            this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel"),
            i && (this._off(i.not(this.tabs)),
            this._off(s.not(this.anchors)),
            this._off(n.not(this.panels)))
        },
        _getList: function() {
            return this.tablist || this.element.find("ol,ul").eq(0)
        },
        _createPanel: function(t) {
            return e("<div>").attr("id", t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", !0)
        },
        _setupDisabled: function(t) {
            e.isArray(t) && (t.length ? t.length === this.anchors.length && (t = !0) : t = !1);
            for (var i, s = 0; i = this.tabs[s]; s++)
                t === !0 || -1 !== e.inArray(s, t) ? e(i).addClass("ui-state-disabled").attr("aria-disabled", "true") : e(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");
            this.options.disabled = t
        },
        _setupEvents: function(t) {
            var i = {};
            t && e.each(t.split(" "), function(e, t) {
                i[t] = "_eventHandler"
            }),
            this._off(this.anchors.add(this.tabs).add(this.panels)),
            this._on(!0, this.anchors, {
                click: function(e) {
                    e.preventDefault()
                }
            }),
            this._on(this.anchors, i),
            this._on(this.tabs, {
                keydown: "_tabKeydown"
            }),
            this._on(this.panels, {
                keydown: "_panelKeydown"
            }),
            this._focusable(this.tabs),
            this._hoverable(this.tabs)
        },
        _setupHeightStyle: function(t) {
            var i, s = this.element.parent();
            "fill" === t ? (i = s.height(),
            i -= this.element.outerHeight() - this.element.height(),
            this.element.siblings(":visible").each(function() {
                var t = e(this)
                  , s = t.css("position");
                "absolute" !== s && "fixed" !== s && (i -= t.outerHeight(!0))
            }),
            this.element.children().not(this.panels).each(function() {
                i -= e(this).outerHeight(!0)
            }),
            this.panels.each(function() {
                e(this).height(Math.max(0, i - e(this).innerHeight() + e(this).height()))
            }).css("overflow", "auto")) : "auto" === t && (i = 0,
            this.panels.each(function() {
                i = Math.max(i, e(this).height("").height())
            }).height(i))
        },
        _eventHandler: function(t) {
            var i = this.options
              , s = this.active
              , n = e(t.currentTarget)
              , a = n.closest("li")
              , o = a[0] === s[0]
              , r = o && i.collapsible
              , h = r ? e() : this._getPanelForTab(a)
              , l = s.length ? this._getPanelForTab(s) : e()
              , u = {
                oldTab: s,
                oldPanel: l,
                newTab: r ? e() : a,
                newPanel: h
            };
            t.preventDefault(),
            a.hasClass("ui-state-disabled") || a.hasClass("ui-tabs-loading") || this.running || o && !i.collapsible || this._trigger("beforeActivate", t, u) === !1 || (i.active = r ? !1 : this.tabs.index(a),
            this.active = o ? e() : a,
            this.xhr && this.xhr.abort(),
            l.length || h.length || e.error("jQuery UI Tabs: Mismatching fragment identifier."),
            h.length && this.load(this.tabs.index(a), t),
            this._toggle(t, u))
        },
        _toggle: function(t, i) {
            function s() {
                a.running = !1,
                a._trigger("activate", t, i)
            }
            function n() {
                i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),
                o.length && a.options.show ? a._show(o, a.options.show, s) : (o.show(),
                s())
            }
            var a = this
              , o = i.newPanel
              , r = i.oldPanel;
            this.running = !0,
            r.length && this.options.hide ? this._hide(r, this.options.hide, function() {
                i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
                n()
            }) : (i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),
            r.hide(),
            n()),
            r.attr("aria-hidden", "true"),
            i.oldTab.attr({
                "aria-selected": "false",
                "aria-expanded": "false"
            }),
            o.length && r.length ? i.oldTab.attr("tabIndex", -1) : o.length && this.tabs.filter(function() {
                return 0 === e(this).attr("tabIndex")
            }).attr("tabIndex", -1),
            o.attr("aria-hidden", "false"),
            i.newTab.attr({
                "aria-selected": "true",
                "aria-expanded": "true",
                tabIndex: 0
            })
        },
        _activate: function(t) {
            var i, s = this._findActive(t);
            s[0] !== this.active[0] && (s.length || (s = this.active),
            i = s.find(".ui-tabs-anchor")[0],
            this._eventHandler({
                target: i,
                currentTarget: i,
                preventDefault: e.noop
            }))
        },
        _findActive: function(t) {
            return t === !1 ? e() : this.tabs.eq(t)
        },
        _getIndex: function(e) {
            return "string" == typeof e && (e = this.anchors.index(this.anchors.filter("[href$='" + e + "']"))),
            e
        },
        _destroy: function() {
            this.xhr && this.xhr.abort(),
            this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),
            this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),
            this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),
            this.tablist.unbind(this.eventNamespace),
            this.tabs.add(this.panels).each(function() {
                e.data(this, "ui-tabs-destroy") ? e(this).remove() : e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
            }),
            this.tabs.each(function() {
                var t = e(this)
                  , i = t.data("ui-tabs-aria-controls");
                i ? t.attr("aria-controls", i).removeData("ui-tabs-aria-controls") : t.removeAttr("aria-controls")
            }),
            this.panels.show(),
            "content" !== this.options.heightStyle && this.panels.css("height", "")
        },
        enable: function(t) {
            var i = this.options.disabled;
            i !== !1 && (void 0 === t ? i = !1 : (t = this._getIndex(t),
            i = e.isArray(i) ? e.map(i, function(e) {
                return e !== t ? e : null
            }) : e.map(this.tabs, function(e, i) {
                return i !== t ? i : null
            })),
            this._setupDisabled(i))
        },
        disable: function(t) {
            var i = this.options.disabled;
            if (i !== !0) {
                if (void 0 === t)
                    i = !0;
                else {
                    if (t = this._getIndex(t),
                    -1 !== e.inArray(t, i))
                        return;
                    i = e.isArray(i) ? e.merge([t], i).sort() : [t]
                }
                this._setupDisabled(i)
            }
        },
        load: function(t, i) {
            t = this._getIndex(t);
            var s = this
              , n = this.tabs.eq(t)
              , a = n.find(".ui-tabs-anchor")
              , o = this._getPanelForTab(n)
              , r = {
                tab: n,
                panel: o
            };
            this._isLocal(a[0]) || (this.xhr = e.ajax(this._ajaxSettings(a, i, r)),
            this.xhr && "canceled" !== this.xhr.statusText && (n.addClass("ui-tabs-loading"),
            o.attr("aria-busy", "true"),
            this.xhr.success(function(e) {
                setTimeout(function() {
                    o.html(e),
                    s._trigger("load", i, r)
                }, 1)
            }).complete(function(e, t) {
                setTimeout(function() {
                    "abort" === t && s.panels.stop(!1, !0),
                    n.removeClass("ui-tabs-loading"),
                    o.removeAttr("aria-busy"),
                    e === s.xhr && delete s.xhr
                }, 1)
            })))
        },
        _ajaxSettings: function(t, i, s) {
            var n = this;
            return {
                url: t.attr("href"),
                beforeSend: function(t, a) {
                    return n._trigger("beforeLoad", i, e.extend({
                        jqXHR: t,
                        ajaxSettings: a
                    }, s))
                }
            }
        },
        _getPanelForTab: function(t) {
            var i = e(t).attr("aria-controls");
            return this.element.find(this._sanitizeSelector("#" + i))
        }
    }),
    e.widget("ui.tooltip", {
        version: "1.11.3",
        options: {
            content: function() {
                var t = e(this).attr("title") || "";
                return e("<a>").text(t).html()
            },
            hide: !0,
            items: "[title]:not([disabled])",
            position: {
                my: "left top+15",
                at: "left bottom",
                collision: "flipfit flip"
            },
            show: !0,
            tooltipClass: null,
            track: !1,
            close: null,
            open: null
        },
        _addDescribedBy: function(t, i) {
            var s = (t.attr("aria-describedby") || "").split(/\s+/);
            s.push(i),
            t.data("ui-tooltip-id", i).attr("aria-describedby", e.trim(s.join(" ")))
        },
        _removeDescribedBy: function(t) {
            var i = t.data("ui-tooltip-id")
              , s = (t.attr("aria-describedby") || "").split(/\s+/)
              , n = e.inArray(i, s);
            -1 !== n && s.splice(n, 1),
            t.removeData("ui-tooltip-id"),
            s = e.trim(s.join(" ")),
            s ? t.attr("aria-describedby", s) : t.removeAttr("aria-describedby")
        },
        _create: function() {
            this._on({
                mouseover: "open",
                focusin: "open"
            }),
            this.tooltips = {},
            this.parents = {},
            this.options.disabled && this._disable(),
            this.liveRegion = e("<div>").attr({
                role: "log",
                "aria-live": "assertive",
                "aria-relevant": "additions"
            }).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)
        },
        _setOption: function(t, i) {
            var s = this;
            return "disabled" === t ? (this[i ? "_disable" : "_enable"](),
            this.options[t] = i,
            void 0) : (this._super(t, i),
            "content" === t && e.each(this.tooltips, function(e, t) {
                s._updateContent(t.element)
            }),
            void 0)
        },
        _disable: function() {
            var t = this;
            e.each(this.tooltips, function(i, s) {
                var n = e.Event("blur");
                n.target = n.currentTarget = s.element[0],
                t.close(n, !0)
            }),
            this.element.find(this.options.items).addBack().each(function() {
                var t = e(this);
                t.is("[title]") && t.data("ui-tooltip-title", t.attr("title")).removeAttr("title")
            })
        },
        _enable: function() {
            this.element.find(this.options.items).addBack().each(function() {
                var t = e(this);
                t.data("ui-tooltip-title") && t.attr("title", t.data("ui-tooltip-title"))
            })
        },
        open: function(t) {
            var i = this
              , s = e(t ? t.target : this.element).closest(this.options.items);
            s.length && !s.data("ui-tooltip-id") && (s.attr("title") && s.data("ui-tooltip-title", s.attr("title")),
            s.data("ui-tooltip-open", !0),
            t && "mouseover" === t.type && s.parents().each(function() {
                var t, s = e(this);
                s.data("ui-tooltip-open") && (t = e.Event("blur"),
                t.target = t.currentTarget = this,
                i.close(t, !0)),
                s.attr("title") && (s.uniqueId(),
                i.parents[this.id] = {
                    element: this,
                    title: s.attr("title")
                },
                s.attr("title", ""))
            }),
            this._updateContent(s, t))
        },
        _updateContent: function(e, t) {
            var i, s = this.options.content, n = this, a = t ? t.type : null;
            return "string" == typeof s ? this._open(t, e, s) : (i = s.call(e[0], function(i) {
                e.data("ui-tooltip-open") && n._delay(function() {
                    t && (t.type = a),
                    this._open(t, e, i)
                })
            }),
            i && this._open(t, e, i),
            void 0)
        },
        _open: function(t, i, s) {
            function n(e) {
                u.of = e,
                o.is(":hidden") || o.position(u)
            }
            var a, o, r, h, l, u = e.extend({}, this.options.position);
            if (s) {
                if (a = this._find(i))
                    return a.tooltip.find(".ui-tooltip-content").html(s),
                    void 0;
                i.is("[title]") && (t && "mouseover" === t.type ? i.attr("title", "") : i.removeAttr("title")),
                a = this._tooltip(i),
                o = a.tooltip,
                this._addDescribedBy(i, o.attr("id")),
                o.find(".ui-tooltip-content").html(s),
                this.liveRegion.children().hide(),
                s.clone ? (l = s.clone(),
                l.removeAttr("id").find("[id]").removeAttr("id")) : l = s,
                e("<div>").html(l).appendTo(this.liveRegion),
                this.options.track && t && /^mouse/.test(t.type) ? (this._on(this.document, {
                    mousemove: n
                }),
                n(t)) : o.position(e.extend({
                    of: i
                }, this.options.position)),
                o.hide(),
                this._show(o, this.options.show),
                this.options.show && this.options.show.delay && (h = this.delayedShow = setInterval(function() {
                    o.is(":visible") && (n(u.of),
                    clearInterval(h))
                }, e.fx.interval)),
                this._trigger("open", t, {
                    tooltip: o
                }),
                r = {
                    keyup: function(t) {
                        if (t.keyCode === e.ui.keyCode.ESCAPE) {
                            var s = e.Event(t);
                            s.currentTarget = i[0],
                            this.close(s, !0)
                        }
                    }
                },
                i[0] !== this.element[0] && (r.remove = function() {
                    this._removeTooltip(o)
                }
                ),
                t && "mouseover" !== t.type || (r.mouseleave = "close"),
                t && "focusin" !== t.type || (r.focusout = "close"),
                this._on(!0, i, r)
            }
        },
        close: function(t) {
            var i, s = this, n = e(t ? t.currentTarget : this.element), a = this._find(n);
            a && (i = a.tooltip,
            a.closing || (clearInterval(this.delayedShow),
            n.data("ui-tooltip-title") && !n.attr("title") && n.attr("title", n.data("ui-tooltip-title")),
            this._removeDescribedBy(n),
            a.hiding = !0,
            i.stop(!0),
            this._hide(i, this.options.hide, function() {
                s._removeTooltip(e(this))
            }),
            n.removeData("ui-tooltip-open"),
            this._off(n, "mouseleave focusout keyup"),
            n[0] !== this.element[0] && this._off(n, "remove"),
            this._off(this.document, "mousemove"),
            t && "mouseleave" === t.type && e.each(this.parents, function(t, i) {
                e(i.element).attr("title", i.title),
                delete s.parents[t]
            }),
            a.closing = !0,
            this._trigger("close", t, {
                tooltip: i
            }),
            a.hiding || (a.closing = !1)))
        },
        _tooltip: function(t) {
            var i = e("<div>").attr("role", "tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""))
              , s = i.uniqueId().attr("id");
            return e("<div>").addClass("ui-tooltip-content").appendTo(i),
            i.appendTo(this.document[0].body),
            this.tooltips[s] = {
                element: t,
                tooltip: i
            }
        },
        _find: function(e) {
            var t = e.data("ui-tooltip-id");
            return t ? this.tooltips[t] : null
        },
        _removeTooltip: function(e) {
            e.remove(),
            delete this.tooltips[e.attr("id")]
        },
        _destroy: function() {
            var t = this;
            e.each(this.tooltips, function(i, s) {
                var n = e.Event("blur")
                  , a = s.element;
                n.target = n.currentTarget = a[0],
                t.close(n, !0),
                e("#" + i).remove(),
                a.data("ui-tooltip-title") && (a.attr("title") || a.attr("title", a.data("ui-tooltip-title")),
                a.removeData("ui-tooltip-title"))
            }),
            this.liveRegion.remove()
        }
    });
    var y = "ui-effects-"
      , b = e;
    e.effects = {
        effect: {}
    },
    function(e, t) {
        function i(e, t, i) {
            var s = d[t.type] || {};
            return null == e ? i || !t.def ? null : t.def : (e = s.floor ? ~~e : parseFloat(e),
            isNaN(e) ? t.def : s.mod ? (e + s.mod) % s.mod : 0 > e ? 0 : e > s.max ? s.max : e)
        }
        function s(i) {
            var s = l()
              , n = s._rgba = [];
            return i = i.toLowerCase(),
            f(h, function(e, a) {
                var o, r = a.re.exec(i), h = r && a.parse(r), l = a.space || "rgba";
                return h ? (o = s[l](h),
                s[u[l].cache] = o[u[l].cache],
                n = s._rgba = o._rgba,
                !1) : t
            }),
            n.length ? ("0,0,0,0" === n.join() && e.extend(n, a.transparent),
            s) : a[i]
        }
        function n(e, t, i) {
            return i = (i + 1) % 1,
            1 > 6 * i ? e + 6 * (t - e) * i : 1 > 2 * i ? t : 2 > 3 * i ? e + 6 * (t - e) * (2 / 3 - i) : e
        }
        var a, o = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor", r = /^([\-+])=\s*(\d+\.?\d*)/, h = [{
            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [e[1], e[2], e[3], e[4]]
            }
        }, {
            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            parse: function(e) {
                return [2.55 * e[1], 2.55 * e[2], 2.55 * e[3], e[4]]
            }
        }, {
            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
            parse: function(e) {
                return [parseInt(e[1], 16), parseInt(e[2], 16), parseInt(e[3], 16)]
            }
        }, {
            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
            parse: function(e) {
                return [parseInt(e[1] + e[1], 16), parseInt(e[2] + e[2], 16), parseInt(e[3] + e[3], 16)]
            }
        }, {
            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
            space: "hsla",
            parse: function(e) {
                return [e[1], e[2] / 100, e[3] / 100, e[4]]
            }
        }], l = e.Color = function(t, i, s, n) {
            return new e.Color.fn.parse(t,i,s,n)
        }
        , u = {
            rgba: {
                props: {
                    red: {
                        idx: 0,
                        type: "byte"
                    },
                    green: {
                        idx: 1,
                        type: "byte"
                    },
                    blue: {
                        idx: 2,
                        type: "byte"
                    }
                }
            },
            hsla: {
                props: {
                    hue: {
                        idx: 0,
                        type: "degrees"
                    },
                    saturation: {
                        idx: 1,
                        type: "percent"
                    },
                    lightness: {
                        idx: 2,
                        type: "percent"
                    }
                }
            }
        }, d = {
            "byte": {
                floor: !0,
                max: 255
            },
            percent: {
                max: 1
            },
            degrees: {
                mod: 360,
                floor: !0
            }
        }, c = l.support = {}, p = e("<p>")[0], f = e.each;
        p.style.cssText = "background-color:rgba(1,1,1,.5)",
        c.rgba = p.style.backgroundColor.indexOf("rgba") > -1,
        f(u, function(e, t) {
            t.cache = "_" + e,
            t.props.alpha = {
                idx: 3,
                type: "percent",
                def: 1
            }
        }),
        l.fn = e.extend(l.prototype, {
            parse: function(n, o, r, h) {
                if (n === t)
                    return this._rgba = [null, null, null, null],
                    this;
                (n.jquery || n.nodeType) && (n = e(n).css(o),
                o = t);
                var d = this
                  , c = e.type(n)
                  , p = this._rgba = [];
                return o !== t && (n = [n, o, r, h],
                c = "array"),
                "string" === c ? this.parse(s(n) || a._default) : "array" === c ? (f(u.rgba.props, function(e, t) {
                    p[t.idx] = i(n[t.idx], t)
                }),
                this) : "object" === c ? (n instanceof l ? f(u, function(e, t) {
                    n[t.cache] && (d[t.cache] = n[t.cache].slice())
                }) : f(u, function(t, s) {
                    var a = s.cache;
                    f(s.props, function(e, t) {
                        if (!d[a] && s.to) {
                            if ("alpha" === e || null == n[e])
                                return;
                            d[a] = s.to(d._rgba)
                        }
                        d[a][t.idx] = i(n[e], t, !0)
                    }),
                    d[a] && 0 > e.inArray(null, d[a].slice(0, 3)) && (d[a][3] = 1,
                    s.from && (d._rgba = s.from(d[a])))
                }),
                this) : t
            },
            is: function(e) {
                var i = l(e)
                  , s = !0
                  , n = this;
                return f(u, function(e, a) {
                    var o, r = i[a.cache];
                    return r && (o = n[a.cache] || a.to && a.to(n._rgba) || [],
                    f(a.props, function(e, i) {
                        return null != r[i.idx] ? s = r[i.idx] === o[i.idx] : t
                    })),
                    s
                }),
                s
            },
            _space: function() {
                var e = []
                  , t = this;
                return f(u, function(i, s) {
                    t[s.cache] && e.push(i)
                }),
                e.pop()
            },
            transition: function(e, t) {
                var s = l(e)
                  , n = s._space()
                  , a = u[n]
                  , o = 0 === this.alpha() ? l("transparent") : this
                  , r = o[a.cache] || a.to(o._rgba)
                  , h = r.slice();
                return s = s[a.cache],
                f(a.props, function(e, n) {
                    var a = n.idx
                      , o = r[a]
                      , l = s[a]
                      , u = d[n.type] || {};
                    null !== l && (null === o ? h[a] = l : (u.mod && (l - o > u.mod / 2 ? o += u.mod : o - l > u.mod / 2 && (o -= u.mod)),
                    h[a] = i((l - o) * t + o, n)))
                }),
                this[n](h)
            },
            blend: function(t) {
                if (1 === this._rgba[3])
                    return this;
                var i = this._rgba.slice()
                  , s = i.pop()
                  , n = l(t)._rgba;
                return l(e.map(i, function(e, t) {
                    return (1 - s) * n[t] + s * e
                }))
            },
            toRgbaString: function() {
                var t = "rgba("
                  , i = e.map(this._rgba, function(e, t) {
                    return null == e ? t > 2 ? 1 : 0 : e
                });
                return 1 === i[3] && (i.pop(),
                t = "rgb("),
                t + i.join() + ")"
            },
            toHslaString: function() {
                var t = "hsla("
                  , i = e.map(this.hsla(), function(e, t) {
                    return null == e && (e = t > 2 ? 1 : 0),
                    t && 3 > t && (e = Math.round(100 * e) + "%"),
                    e
                });
                return 1 === i[3] && (i.pop(),
                t = "hsl("),
                t + i.join() + ")"
            },
            toHexString: function(t) {
                var i = this._rgba.slice()
                  , s = i.pop();
                return t && i.push(~~(255 * s)),
                "#" + e.map(i, function(e) {
                    return e = (e || 0).toString(16),
                    1 === e.length ? "0" + e : e
                }).join("")
            },
            toString: function() {
                return 0 === this._rgba[3] ? "transparent" : this.toRgbaString()
            }
        }),
        l.fn.parse.prototype = l.fn,
        u.hsla.to = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t, i, s = e[0] / 255, n = e[1] / 255, a = e[2] / 255, o = e[3], r = Math.max(s, n, a), h = Math.min(s, n, a), l = r - h, u = r + h, d = .5 * u;
            return t = h === r ? 0 : s === r ? 60 * (n - a) / l + 360 : n === r ? 60 * (a - s) / l + 120 : 60 * (s - n) / l + 240,
            i = 0 === l ? 0 : .5 >= d ? l / u : l / (2 - u),
            [Math.round(t) % 360, i, d, null == o ? 1 : o]
        }
        ,
        u.hsla.from = function(e) {
            if (null == e[0] || null == e[1] || null == e[2])
                return [null, null, null, e[3]];
            var t = e[0] / 360
              , i = e[1]
              , s = e[2]
              , a = e[3]
              , o = .5 >= s ? s * (1 + i) : s + i - s * i
              , r = 2 * s - o;
            return [Math.round(255 * n(r, o, t + 1 / 3)), Math.round(255 * n(r, o, t)), Math.round(255 * n(r, o, t - 1 / 3)), a]
        }
        ,
        f(u, function(s, n) {
            var a = n.props
              , o = n.cache
              , h = n.to
              , u = n.from;
            l.fn[s] = function(s) {
                if (h && !this[o] && (this[o] = h(this._rgba)),
                s === t)
                    return this[o].slice();
                var n, r = e.type(s), d = "array" === r || "object" === r ? s : arguments, c = this[o].slice();
                return f(a, function(e, t) {
                    var s = d["object" === r ? e : t.idx];
                    null == s && (s = c[t.idx]),
                    c[t.idx] = i(s, t)
                }),
                u ? (n = l(u(c)),
                n[o] = c,
                n) : l(c)
            }
            ,
            f(a, function(t, i) {
                l.fn[t] || (l.fn[t] = function(n) {
                    var a, o = e.type(n), h = "alpha" === t ? this._hsla ? "hsla" : "rgba" : s, l = this[h](), u = l[i.idx];
                    return "undefined" === o ? u : ("function" === o && (n = n.call(this, u),
                    o = e.type(n)),
                    null == n && i.empty ? this : ("string" === o && (a = r.exec(n),
                    a && (n = u + parseFloat(a[2]) * ("+" === a[1] ? 1 : -1))),
                    l[i.idx] = n,
                    this[h](l)))
                }
                )
            })
        }),
        l.hook = function(t) {
            var i = t.split(" ");
            f(i, function(t, i) {
                e.cssHooks[i] = {
                    set: function(t, n) {
                        var a, o, r = "";
                        if ("transparent" !== n && ("string" !== e.type(n) || (a = s(n)))) {
                            if (n = l(a || n),
                            !c.rgba && 1 !== n._rgba[3]) {
                                for (o = "backgroundColor" === i ? t.parentNode : t; ("" === r || "transparent" === r) && o && o.style; )
                                    try {
                                        r = e.css(o, "backgroundColor"),
                                        o = o.parentNode
                                    } catch (h) {}
                                n = n.blend(r && "transparent" !== r ? r : "_default")
                            }
                            n = n.toRgbaString()
                        }
                        try {
                            t.style[i] = n
                        } catch (h) {}
                    }
                },
                e.fx.step[i] = function(t) {
                    t.colorInit || (t.start = l(t.elem, i),
                    t.end = l(t.end),
                    t.colorInit = !0),
                    e.cssHooks[i].set(t.elem, t.start.transition(t.end, t.pos))
                }
            })
        }
        ,
        l.hook(o),
        e.cssHooks.borderColor = {
            expand: function(e) {
                var t = {};
                return f(["Top", "Right", "Bottom", "Left"], function(i, s) {
                    t["border" + s + "Color"] = e
                }),
                t
            }
        },
        a = e.Color.names = {
            aqua: "#00ffff",
            black: "#000000",
            blue: "#0000ff",
            fuchsia: "#ff00ff",
            gray: "#808080",
            green: "#008000",
            lime: "#00ff00",
            maroon: "#800000",
            navy: "#000080",
            olive: "#808000",
            purple: "#800080",
            red: "#ff0000",
            silver: "#c0c0c0",
            teal: "#008080",
            white: "#ffffff",
            yellow: "#ffff00",
            transparent: [null, null, null, 0],
            _default: "#ffffff"
        }
    }(b),
    function() {
        function t(t) {
            var i, s, n = t.ownerDocument.defaultView ? t.ownerDocument.defaultView.getComputedStyle(t, null) : t.currentStyle, a = {};
            if (n && n.length && n[0] && n[n[0]])
                for (s = n.length; s--; )
                    i = n[s],
                    "string" == typeof n[i] && (a[e.camelCase(i)] = n[i]);
            else
                for (i in n)
                    "string" == typeof n[i] && (a[i] = n[i]);
            return a
        }
        function i(t, i) {
            var s, a, o = {};
            for (s in i)
                a = i[s],
                t[s] !== a && (n[s] || (e.fx.step[s] || !isNaN(parseFloat(a))) && (o[s] = a));
            return o
        }
        var s = ["add", "remove", "toggle"]
          , n = {
            border: 1,
            borderBottom: 1,
            borderColor: 1,
            borderLeft: 1,
            borderRight: 1,
            borderTop: 1,
            borderWidth: 1,
            margin: 1,
            padding: 1
        };
        e.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(t, i) {
            e.fx.step[i] = function(e) {
                ("none" !== e.end && !e.setAttr || 1 === e.pos && !e.setAttr) && (b.style(e.elem, i, e.end),
                e.setAttr = !0)
            }
        }),
        e.fn.addBack || (e.fn.addBack = function(e) {
            return this.add(null == e ? this.prevObject : this.prevObject.filter(e))
        }
        ),
        e.effects.animateClass = function(n, a, o, r) {
            var h = e.speed(a, o, r);
            return this.queue(function() {
                var a, o = e(this), r = o.attr("class") || "", l = h.children ? o.find("*").addBack() : o;
                l = l.map(function() {
                    var i = e(this);
                    return {
                        el: i,
                        start: t(this)
                    }
                }),
                a = function() {
                    e.each(s, function(e, t) {
                        n[t] && o[t + "Class"](n[t])
                    })
                }
                ,
                a(),
                l = l.map(function() {
                    return this.end = t(this.el[0]),
                    this.diff = i(this.start, this.end),
                    this
                }),
                o.attr("class", r),
                l = l.map(function() {
                    var t = this
                      , i = e.Deferred()
                      , s = e.extend({}, h, {
                        queue: !1,
                        complete: function() {
                            i.resolve(t)
                        }
                    });
                    return this.el.animate(this.diff, s),
                    i.promise()
                }),
                e.when.apply(e, l.get()).done(function() {
                    a(),
                    e.each(arguments, function() {
                        var t = this.el;
                        e.each(this.diff, function(e) {
                            t.css(e, "")
                        })
                    }),
                    h.complete.call(o[0])
                })
            })
        }
        ,
        e.fn.extend({
            addClass: function(t) {
                return function(i, s, n, a) {
                    return s ? e.effects.animateClass.call(this, {
                        add: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.addClass),
            removeClass: function(t) {
                return function(i, s, n, a) {
                    return arguments.length > 1 ? e.effects.animateClass.call(this, {
                        remove: i
                    }, s, n, a) : t.apply(this, arguments)
                }
            }(e.fn.removeClass),
            toggleClass: function(t) {
                return function(i, s, n, a, o) {
                    return "boolean" == typeof s || void 0 === s ? n ? e.effects.animateClass.call(this, s ? {
                        add: i
                    } : {
                        remove: i
                    }, n, a, o) : t.apply(this, arguments) : e.effects.animateClass.call(this, {
                        toggle: i
                    }, s, n, a)
                }
            }(e.fn.toggleClass),
            switchClass: function(t, i, s, n, a) {
                return e.effects.animateClass.call(this, {
                    add: i,
                    remove: t
                }, s, n, a)
            }
        })
    }(),
    function() {
        function t(t, i, s, n) {
            return e.isPlainObject(t) && (i = t,
            t = t.effect),
            t = {
                effect: t
            },
            null == i && (i = {}),
            e.isFunction(i) && (n = i,
            s = null,
            i = {}),
            ("number" == typeof i || e.fx.speeds[i]) && (n = s,
            s = i,
            i = {}),
            e.isFunction(s) && (n = s,
            s = null),
            i && e.extend(t, i),
            s = s || i.duration,
            t.duration = e.fx.off ? 0 : "number" == typeof s ? s : s in e.fx.speeds ? e.fx.speeds[s] : e.fx.speeds._default,
            t.complete = n || i.complete,
            t
        }
        function i(t) {
            return !t || "number" == typeof t || e.fx.speeds[t] ? !0 : "string" != typeof t || e.effects.effect[t] ? e.isFunction(t) ? !0 : "object" != typeof t || t.effect ? !1 : !0 : !0
        }
        e.extend(e.effects, {
            version: "1.11.3",
            save: function(e, t) {
                for (var i = 0; t.length > i; i++)
                    null !== t[i] && e.data(y + t[i], e[0].style[t[i]])
            },
            restore: function(e, t) {
                var i, s;
                for (s = 0; t.length > s; s++)
                    null !== t[s] && (i = e.data(y + t[s]),
                    void 0 === i && (i = ""),
                    e.css(t[s], i))
            },
            setMode: function(e, t) {
                return "toggle" === t && (t = e.is(":hidden") ? "show" : "hide"),
                t
            },
            getBaseline: function(e, t) {
                var i, s;
                switch (e[0]) {
                case "top":
                    i = 0;
                    break;
                case "middle":
                    i = .5;
                    break;
                case "bottom":
                    i = 1;
                    break;
                default:
                    i = e[0] / t.height
                }
                switch (e[1]) {
                case "left":
                    s = 0;
                    break;
                case "center":
                    s = .5;
                    break;
                case "right":
                    s = 1;
                    break;
                default:
                    s = e[1] / t.width
                }
                return {
                    x: s,
                    y: i
                }
            },
            createWrapper: function(t) {
                if (t.parent().is(".ui-effects-wrapper"))
                    return t.parent();
                var i = {
                    width: t.outerWidth(!0),
                    height: t.outerHeight(!0),
                    "float": t.css("float")
                }
                  , s = e("<div></div>").addClass("ui-effects-wrapper").css({
                    fontSize: "100%",
                    background: "transparent",
                    border: "none",
                    margin: 0,
                    padding: 0
                })
                  , n = {
                    width: t.width(),
                    height: t.height()
                }
                  , a = document.activeElement;
                try {
                    a.id
                } catch (o) {
                    a = document.body
                }
                return t.wrap(s),
                (t[0] === a || e.contains(t[0], a)) && e(a).focus(),
                s = t.parent(),
                "static" === t.css("position") ? (s.css({
                    position: "relative"
                }),
                t.css({
                    position: "relative"
                })) : (e.extend(i, {
                    position: t.css("position"),
                    zIndex: t.css("z-index")
                }),
                e.each(["top", "left", "bottom", "right"], function(e, s) {
                    i[s] = t.css(s),
                    isNaN(parseInt(i[s], 10)) && (i[s] = "auto")
                }),
                t.css({
                    position: "relative",
                    top: 0,
                    left: 0,
                    right: "auto",
                    bottom: "auto"
                })),
                t.css(n),
                s.css(i).show()
            },
            removeWrapper: function(t) {
                var i = document.activeElement;
                return t.parent().is(".ui-effects-wrapper") && (t.parent().replaceWith(t),
                (t[0] === i || e.contains(t[0], i)) && e(i).focus()),
                t
            },
            setTransition: function(t, i, s, n) {
                return n = n || {},
                e.each(i, function(e, i) {
                    var a = t.cssUnit(i);
                    a[0] > 0 && (n[i] = a[0] * s + a[1])
                }),
                n
            }
        }),
        e.fn.extend({
            effect: function() {
                function i(t) {
                    function i() {
                        e.isFunction(a) && a.call(n[0]),
                        e.isFunction(t) && t()
                    }
                    var n = e(this)
                      , a = s.complete
                      , r = s.mode;
                    (n.is(":hidden") ? "hide" === r : "show" === r) ? (n[r](),
                    i()) : o.call(n[0], s, i)
                }
                var s = t.apply(this, arguments)
                  , n = s.mode
                  , a = s.queue
                  , o = e.effects.effect[s.effect];
                return e.fx.off || !o ? n ? this[n](s.duration, s.complete) : this.each(function() {
                    s.complete && s.complete.call(this)
                }) : a === !1 ? this.each(i) : this.queue(a || "fx", i)
            },
            show: function(e) {
                return function(s) {
                    if (i(s))
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "show",
                    this.effect.call(this, n)
                }
            }(e.fn.show),
            hide: function(e) {
                return function(s) {
                    if (i(s))
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "hide",
                    this.effect.call(this, n)
                }
            }(e.fn.hide),
            toggle: function(e) {
                return function(s) {
                    if (i(s) || "boolean" == typeof s)
                        return e.apply(this, arguments);
                    var n = t.apply(this, arguments);
                    return n.mode = "toggle",
                    this.effect.call(this, n)
                }
            }(e.fn.toggle),
            cssUnit: function(t) {
                var i = this.css(t)
                  , s = [];
                return e.each(["em", "px", "%", "pt"], function(e, t) {
                    i.indexOf(t) > 0 && (s = [parseFloat(i), t])
                }),
                s
            }
        })
    }(),
    function() {
        var t = {};
        e.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(e, i) {
            t[i] = function(t) {
                return Math.pow(t, e + 2)
            }
        }),
        e.extend(t, {
            Sine: function(e) {
                return 1 - Math.cos(e * Math.PI / 2)
            },
            Circ: function(e) {
                return 1 - Math.sqrt(1 - e * e)
            },
            Elastic: function(e) {
                return 0 === e || 1 === e ? e : -Math.pow(2, 8 * (e - 1)) * Math.sin((80 * (e - 1) - 7.5) * Math.PI / 15)
            },
            Back: function(e) {
                return e * e * (3 * e - 2)
            },
            Bounce: function(e) {
                for (var t, i = 4; ((t = Math.pow(2, --i)) - 1) / 11 > e; )
                    ;
                return 1 / Math.pow(4, 3 - i) - 7.5625 * Math.pow((3 * t - 2) / 22 - e, 2)
            }
        }),
        e.each(t, function(t, i) {
            e.easing["easeIn" + t] = i,
            e.easing["easeOut" + t] = function(e) {
                return 1 - i(1 - e)
            }
            ,
            e.easing["easeInOut" + t] = function(e) {
                return .5 > e ? i(2 * e) / 2 : 1 - i(-2 * e + 2) / 2
            }
        })
    }(),
    e.effects,
    e.effects.effect.blind = function(t, i) {
        var s, n, a, o = e(this), r = /up|down|vertical/, h = /up|left|vertical|horizontal/, l = ["position", "top", "bottom", "left", "right", "height", "width"], u = e.effects.setMode(o, t.mode || "hide"), d = t.direction || "up", c = r.test(d), p = c ? "height" : "width", f = c ? "top" : "left", m = h.test(d), g = {}, v = "show" === u;
        o.parent().is(".ui-effects-wrapper") ? e.effects.save(o.parent(), l) : e.effects.save(o, l),
        o.show(),
        s = e.effects.createWrapper(o).css({
            overflow: "hidden"
        }),
        n = s[p](),
        a = parseFloat(s.css(f)) || 0,
        g[p] = v ? n : 0,
        m || (o.css(c ? "bottom" : "right", 0).css(c ? "top" : "left", "auto").css({
            position: "absolute"
        }),
        g[f] = v ? a : n + a),
        v && (s.css(p, 0),
        m || s.css(f, a + n)),
        s.animate(g, {
            duration: t.duration,
            easing: t.easing,
            queue: !1,
            complete: function() {
                "hide" === u && o.hide(),
                e.effects.restore(o, l),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.bounce = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], h = e.effects.setMode(o, t.mode || "effect"), l = "hide" === h, u = "show" === h, d = t.direction || "up", c = t.distance, p = t.times || 5, f = 2 * p + (u || l ? 1 : 0), m = t.duration / f, g = t.easing, v = "up" === d || "down" === d ? "top" : "left", y = "up" === d || "left" === d, b = o.queue(), _ = b.length;
        for ((u || l) && r.push("opacity"),
        e.effects.save(o, r),
        o.show(),
        e.effects.createWrapper(o),
        c || (c = o["top" === v ? "outerHeight" : "outerWidth"]() / 3),
        u && (a = {
            opacity: 1
        },
        a[v] = 0,
        o.css("opacity", 0).css(v, y ? 2 * -c : 2 * c).animate(a, m, g)),
        l && (c /= Math.pow(2, p - 1)),
        a = {},
        a[v] = 0,
        s = 0; p > s; s++)
            n = {},
            n[v] = (y ? "-=" : "+=") + c,
            o.animate(n, m, g).animate(a, m, g),
            c = l ? 2 * c : c / 2;
        l && (n = {
            opacity: 0
        },
        n[v] = (y ? "-=" : "+=") + c,
        o.animate(n, m, g)),
        o.queue(function() {
            l && o.hide(),
            e.effects.restore(o, r),
            e.effects.removeWrapper(o),
            i()
        }),
        _ > 1 && b.splice.apply(b, [1, 0].concat(b.splice(_, f + 1))),
        o.dequeue()
    }
    ,
    e.effects.effect.clip = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "height", "width"], h = e.effects.setMode(o, t.mode || "hide"), l = "show" === h, u = t.direction || "vertical", d = "vertical" === u, c = d ? "height" : "width", p = d ? "top" : "left", f = {};
        e.effects.save(o, r),
        o.show(),
        s = e.effects.createWrapper(o).css({
            overflow: "hidden"
        }),
        n = "IMG" === o[0].tagName ? s : o,
        a = n[c](),
        l && (n.css(c, 0),
        n.css(p, a / 2)),
        f[c] = l ? a : 0,
        f[p] = l ? 0 : a / 2,
        n.animate(f, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                l || o.hide(),
                e.effects.restore(o, r),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.drop = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"], o = e.effects.setMode(n, t.mode || "hide"), r = "show" === o, h = t.direction || "left", l = "up" === h || "down" === h ? "top" : "left", u = "up" === h || "left" === h ? "pos" : "neg", d = {
            opacity: r ? 1 : 0
        };
        e.effects.save(n, a),
        n.show(),
        e.effects.createWrapper(n),
        s = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0) / 2,
        r && n.css("opacity", 0).css(l, "pos" === u ? -s : s),
        d[l] = (r ? "pos" === u ? "+=" : "-=" : "pos" === u ? "-=" : "+=") + s,
        n.animate(d, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === o && n.hide(),
                e.effects.restore(n, a),
                e.effects.removeWrapper(n),
                i()
            }
        })
    }
    ,
    e.effects.effect.explode = function(t, i) {
        function s() {
            b.push(this),
            b.length === d * c && n()
        }
        function n() {
            p.css({
                visibility: "visible"
            }),
            e(b).remove(),
            m || p.hide(),
            i()
        }
        var a, o, r, h, l, u, d = t.pieces ? Math.round(Math.sqrt(t.pieces)) : 3, c = d, p = e(this), f = e.effects.setMode(p, t.mode || "hide"), m = "show" === f, g = p.show().css("visibility", "hidden").offset(), v = Math.ceil(p.outerWidth() / c), y = Math.ceil(p.outerHeight() / d), b = [];
        for (a = 0; d > a; a++)
            for (h = g.top + a * y,
            u = a - (d - 1) / 2,
            o = 0; c > o; o++)
                r = g.left + o * v,
                l = o - (c - 1) / 2,
                p.clone().appendTo("body").wrap("<div></div>").css({
                    position: "absolute",
                    visibility: "visible",
                    left: -o * v,
                    top: -a * y
                }).parent().addClass("ui-effects-explode").css({
                    position: "absolute",
                    overflow: "hidden",
                    width: v,
                    height: y,
                    left: r + (m ? l * v : 0),
                    top: h + (m ? u * y : 0),
                    opacity: m ? 0 : 1
                }).animate({
                    left: r + (m ? 0 : l * v),
                    top: h + (m ? 0 : u * y),
                    opacity: m ? 1 : 0
                }, t.duration || 500, t.easing, s)
    }
    ,
    e.effects.effect.fade = function(t, i) {
        var s = e(this)
          , n = e.effects.setMode(s, t.mode || "toggle");
        s.animate({
            opacity: n
        }, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: i
        })
    }
    ,
    e.effects.effect.fold = function(t, i) {
        var s, n, a = e(this), o = ["position", "top", "bottom", "left", "right", "height", "width"], r = e.effects.setMode(a, t.mode || "hide"), h = "show" === r, l = "hide" === r, u = t.size || 15, d = /([0-9]+)%/.exec(u), c = !!t.horizFirst, p = h !== c, f = p ? ["width", "height"] : ["height", "width"], m = t.duration / 2, g = {}, v = {};
        e.effects.save(a, o),
        a.show(),
        s = e.effects.createWrapper(a).css({
            overflow: "hidden"
        }),
        n = p ? [s.width(), s.height()] : [s.height(), s.width()],
        d && (u = parseInt(d[1], 10) / 100 * n[l ? 0 : 1]),
        h && s.css(c ? {
            height: 0,
            width: u
        } : {
            height: u,
            width: 0
        }),
        g[f[0]] = h ? n[0] : u,
        v[f[1]] = h ? n[1] : 0,
        s.animate(g, m, t.easing).animate(v, m, t.easing, function() {
            l && a.hide(),
            e.effects.restore(a, o),
            e.effects.removeWrapper(a),
            i()
        })
    }
    ,
    e.effects.effect.highlight = function(t, i) {
        var s = e(this)
          , n = ["backgroundImage", "backgroundColor", "opacity"]
          , a = e.effects.setMode(s, t.mode || "show")
          , o = {
            backgroundColor: s.css("backgroundColor")
        };
        "hide" === a && (o.opacity = 0),
        e.effects.save(s, n),
        s.show().css({
            backgroundImage: "none",
            backgroundColor: t.color || "#ffff99"
        }).animate(o, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === a && s.hide(),
                e.effects.restore(s, n),
                i()
            }
        })
    }
    ,
    e.effects.effect.size = function(t, i) {
        var s, n, a, o = e(this), r = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"], h = ["position", "top", "bottom", "left", "right", "overflow", "opacity"], l = ["width", "height", "overflow"], u = ["fontSize"], d = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"], c = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"], p = e.effects.setMode(o, t.mode || "effect"), f = t.restore || "effect" !== p, m = t.scale || "both", g = t.origin || ["middle", "center"], v = o.css("position"), y = f ? r : h, b = {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        };
        "show" === p && o.show(),
        s = {
            height: o.height(),
            width: o.width(),
            outerHeight: o.outerHeight(),
            outerWidth: o.outerWidth()
        },
        "toggle" === t.mode && "show" === p ? (o.from = t.to || b,
        o.to = t.from || s) : (o.from = t.from || ("show" === p ? b : s),
        o.to = t.to || ("hide" === p ? b : s)),
        a = {
            from: {
                y: o.from.height / s.height,
                x: o.from.width / s.width
            },
            to: {
                y: o.to.height / s.height,
                x: o.to.width / s.width
            }
        },
        ("box" === m || "both" === m) && (a.from.y !== a.to.y && (y = y.concat(d),
        o.from = e.effects.setTransition(o, d, a.from.y, o.from),
        o.to = e.effects.setTransition(o, d, a.to.y, o.to)),
        a.from.x !== a.to.x && (y = y.concat(c),
        o.from = e.effects.setTransition(o, c, a.from.x, o.from),
        o.to = e.effects.setTransition(o, c, a.to.x, o.to))),
        ("content" === m || "both" === m) && a.from.y !== a.to.y && (y = y.concat(u).concat(l),
        o.from = e.effects.setTransition(o, u, a.from.y, o.from),
        o.to = e.effects.setTransition(o, u, a.to.y, o.to)),
        e.effects.save(o, y),
        o.show(),
        e.effects.createWrapper(o),
        o.css("overflow", "hidden").css(o.from),
        g && (n = e.effects.getBaseline(g, s),
        o.from.top = (s.outerHeight - o.outerHeight()) * n.y,
        o.from.left = (s.outerWidth - o.outerWidth()) * n.x,
        o.to.top = (s.outerHeight - o.to.outerHeight) * n.y,
        o.to.left = (s.outerWidth - o.to.outerWidth) * n.x),
        o.css(o.from),
        ("content" === m || "both" === m) && (d = d.concat(["marginTop", "marginBottom"]).concat(u),
        c = c.concat(["marginLeft", "marginRight"]),
        l = r.concat(d).concat(c),
        o.find("*[width]").each(function() {
            var i = e(this)
              , s = {
                height: i.height(),
                width: i.width(),
                outerHeight: i.outerHeight(),
                outerWidth: i.outerWidth()
            };
            f && e.effects.save(i, l),
            i.from = {
                height: s.height * a.from.y,
                width: s.width * a.from.x,
                outerHeight: s.outerHeight * a.from.y,
                outerWidth: s.outerWidth * a.from.x
            },
            i.to = {
                height: s.height * a.to.y,
                width: s.width * a.to.x,
                outerHeight: s.height * a.to.y,
                outerWidth: s.width * a.to.x
            },
            a.from.y !== a.to.y && (i.from = e.effects.setTransition(i, d, a.from.y, i.from),
            i.to = e.effects.setTransition(i, d, a.to.y, i.to)),
            a.from.x !== a.to.x && (i.from = e.effects.setTransition(i, c, a.from.x, i.from),
            i.to = e.effects.setTransition(i, c, a.to.x, i.to)),
            i.css(i.from),
            i.animate(i.to, t.duration, t.easing, function() {
                f && e.effects.restore(i, l)
            })
        })),
        o.animate(o.to, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                0 === o.to.opacity && o.css("opacity", o.from.opacity),
                "hide" === p && o.hide(),
                e.effects.restore(o, y),
                f || ("static" === v ? o.css({
                    position: "relative",
                    top: o.to.top,
                    left: o.to.left
                }) : e.each(["top", "left"], function(e, t) {
                    o.css(t, function(t, i) {
                        var s = parseInt(i, 10)
                          , n = e ? o.to.left : o.to.top;
                        return "auto" === i ? n + "px" : s + n + "px"
                    })
                })),
                e.effects.removeWrapper(o),
                i()
            }
        })
    }
    ,
    e.effects.effect.scale = function(t, i) {
        var s = e(this)
          , n = e.extend(!0, {}, t)
          , a = e.effects.setMode(s, t.mode || "effect")
          , o = parseInt(t.percent, 10) || (0 === parseInt(t.percent, 10) ? 0 : "hide" === a ? 0 : 100)
          , r = t.direction || "both"
          , h = t.origin
          , l = {
            height: s.height(),
            width: s.width(),
            outerHeight: s.outerHeight(),
            outerWidth: s.outerWidth()
        }
          , u = {
            y: "horizontal" !== r ? o / 100 : 1,
            x: "vertical" !== r ? o / 100 : 1
        };
        n.effect = "size",
        n.queue = !1,
        n.complete = i,
        "effect" !== a && (n.origin = h || ["middle", "center"],
        n.restore = !0),
        n.from = t.from || ("show" === a ? {
            height: 0,
            width: 0,
            outerHeight: 0,
            outerWidth: 0
        } : l),
        n.to = {
            height: l.height * u.y,
            width: l.width * u.x,
            outerHeight: l.outerHeight * u.y,
            outerWidth: l.outerWidth * u.x
        },
        n.fade && ("show" === a && (n.from.opacity = 0,
        n.to.opacity = 1),
        "hide" === a && (n.from.opacity = 1,
        n.to.opacity = 0)),
        s.effect(n)
    }
    ,
    e.effects.effect.puff = function(t, i) {
        var s = e(this)
          , n = e.effects.setMode(s, t.mode || "hide")
          , a = "hide" === n
          , o = parseInt(t.percent, 10) || 150
          , r = o / 100
          , h = {
            height: s.height(),
            width: s.width(),
            outerHeight: s.outerHeight(),
            outerWidth: s.outerWidth()
        };
        e.extend(t, {
            effect: "scale",
            queue: !1,
            fade: !0,
            mode: n,
            complete: i,
            percent: a ? o : 100,
            from: a ? h : {
                height: h.height * r,
                width: h.width * r,
                outerHeight: h.outerHeight * r,
                outerWidth: h.outerWidth * r
            }
        }),
        s.effect(t)
    }
    ,
    e.effects.effect.pulsate = function(t, i) {
        var s, n = e(this), a = e.effects.setMode(n, t.mode || "show"), o = "show" === a, r = "hide" === a, h = o || "hide" === a, l = 2 * (t.times || 5) + (h ? 1 : 0), u = t.duration / l, d = 0, c = n.queue(), p = c.length;
        for ((o || !n.is(":visible")) && (n.css("opacity", 0).show(),
        d = 1),
        s = 1; l > s; s++)
            n.animate({
                opacity: d
            }, u, t.easing),
            d = 1 - d;
        n.animate({
            opacity: d
        }, u, t.easing),
        n.queue(function() {
            r && n.hide(),
            i()
        }),
        p > 1 && c.splice.apply(c, [1, 0].concat(c.splice(p, l + 1))),
        n.dequeue()
    }
    ,
    e.effects.effect.shake = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "height", "width"], o = e.effects.setMode(n, t.mode || "effect"), r = t.direction || "left", h = t.distance || 20, l = t.times || 3, u = 2 * l + 1, d = Math.round(t.duration / u), c = "up" === r || "down" === r ? "top" : "left", p = "up" === r || "left" === r, f = {}, m = {}, g = {}, v = n.queue(), y = v.length;
        for (e.effects.save(n, a),
        n.show(),
        e.effects.createWrapper(n),
        f[c] = (p ? "-=" : "+=") + h,
        m[c] = (p ? "+=" : "-=") + 2 * h,
        g[c] = (p ? "-=" : "+=") + 2 * h,
        n.animate(f, d, t.easing),
        s = 1; l > s; s++)
            n.animate(m, d, t.easing).animate(g, d, t.easing);
        n.animate(m, d, t.easing).animate(f, d / 2, t.easing).queue(function() {
            "hide" === o && n.hide(),
            e.effects.restore(n, a),
            e.effects.removeWrapper(n),
            i()
        }),
        y > 1 && v.splice.apply(v, [1, 0].concat(v.splice(y, u + 1))),
        n.dequeue()
    }
    ,
    e.effects.effect.slide = function(t, i) {
        var s, n = e(this), a = ["position", "top", "bottom", "left", "right", "width", "height"], o = e.effects.setMode(n, t.mode || "show"), r = "show" === o, h = t.direction || "left", l = "up" === h || "down" === h ? "top" : "left", u = "up" === h || "left" === h, d = {};
        e.effects.save(n, a),
        n.show(),
        s = t.distance || n["top" === l ? "outerHeight" : "outerWidth"](!0),
        e.effects.createWrapper(n).css({
            overflow: "hidden"
        }),
        r && n.css(l, u ? isNaN(s) ? "-" + s : -s : s),
        d[l] = (r ? u ? "+=" : "-=" : u ? "-=" : "+=") + s,
        n.animate(d, {
            queue: !1,
            duration: t.duration,
            easing: t.easing,
            complete: function() {
                "hide" === o && n.hide(),
                e.effects.restore(n, a),
                e.effects.removeWrapper(n),
                i()
            }
        })
    }
    ,
    e.effects.effect.transfer = function(t, i) {
        var s = e(this)
          , n = e(t.to)
          , a = "fixed" === n.css("position")
          , o = e("body")
          , r = a ? o.scrollTop() : 0
          , h = a ? o.scrollLeft() : 0
          , l = n.offset()
          , u = {
            top: l.top - r,
            left: l.left - h,
            height: n.innerHeight(),
            width: n.innerWidth()
        }
          , d = s.offset()
          , c = e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({
            top: d.top - r,
            left: d.left - h,
            height: s.innerHeight(),
            width: s.innerWidth(),
            position: a ? "fixed" : "absolute"
        }).animate(u, t.duration, t.easing, function() {
            c.remove(),
            i()
        })
    }
});
/* /vendor/jquery/jquery.masked-input.js */
!function(a) {
    "function" == typeof define && define.amd ? define(["jquery"], a) : a("object" == typeof exports ? require("jquery") : jQuery)
}(function(a) {
    var b, c = navigator.userAgent, d = /iphone/i.test(c), e = /chrome/i.test(c), f = /android/i.test(c);
    a.mask = {
        definitions: {
            9: "[0-9]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        autoclear: !0,
        dataName: "rawMaskFn",
        placeholder: "_"
    },
    a.fn.extend({
        caret: function(a, b) {
            var c;
            if (0 !== this.length && !this.is(":hidden"))
                return "number" == typeof a ? (b = "number" == typeof b ? b : a,
                this.each(function() {
                    this.setSelectionRange ? this.setSelectionRange(a, b) : this.createTextRange && (c = this.createTextRange(),
                    c.collapse(!0),
                    c.moveEnd("character", b),
                    c.moveStart("character", a),
                    c.select())
                })) : (this[0].setSelectionRange ? (a = this[0].selectionStart,
                b = this[0].selectionEnd) : document.selection && document.selection.createRange && (c = document.selection.createRange(),
                a = 0 - c.duplicate().moveStart("character", -1e5),
                b = a + c.text.length),
                {
                    begin: a,
                    end: b
                })
        },
        unmask: function() {
            return this.trigger("unmask")
        },
        mask: function(c, g) {
            var h, i, j, k, l, m, n, o;
            if (!c && this.length > 0) {
                h = a(this[0]);
                var p = h.data(a.mask.dataName);
                return p ? p() : void 0
            }
            return g = a.extend({
                autoclear: a.mask.autoclear,
                placeholder: a.mask.placeholder,
                completed: null
            }, g),
            i = a.mask.definitions,
            j = [],
            k = n = c.length,
            l = null,
            a.each(c.split(""), function(a, b) {
                "?" == b ? (n--,
                k = a) : i[b] ? (j.push(new RegExp(i[b])),
                null === l && (l = j.length - 1),
                k > a && (m = j.length - 1)) : j.push(null)
            }),
            this.trigger("unmask").each(function() {
                function h() {
                    if (g.completed) {
                        for (var a = l; m >= a; a++)
                            if (j[a] && C[a] === p(a))
                                return;
                        g.completed.call(B)
                    }
                }
                function p(a) {
                    return g.placeholder.charAt(a < g.placeholder.length ? a : 0)
                }
                function q(a) {
                    for (; ++a < n && !j[a]; )
                        ;
                    return a
                }
                function r(a) {
                    for (; --a >= 0 && !j[a]; )
                        ;
                    return a
                }
                function s(a, b) {
                    var c, d;
                    if (!(0 > a)) {
                        for (c = a,
                        d = q(b); n > c; c++)
                            if (j[c]) {
                                if (!(n > d && j[c].test(C[d])))
                                    break;
                                C[c] = C[d],
                                C[d] = p(d),
                                d = q(d)
                            }
                        z(),
                        B.caret(Math.max(l, a))
                    }
                }
                function t(a) {
                    var b, c, d, e;
                    for (b = a,
                    c = p(a); n > b; b++)
                        if (j[b]) {
                            if (d = q(b),
                            e = C[b],
                            C[b] = c,
                            !(n > d && j[d].test(e)))
                                break;
                            c = e
                        }
                }
                function u() {
                    var a = B.val()
                      , b = B.caret();
                    if (o && o.length && o.length > a.length) {
                        for (A(!0); b.begin > 0 && !j[b.begin - 1]; )
                            b.begin--;
                        if (0 === b.begin)
                            for (; b.begin < l && !j[b.begin]; )
                                b.begin++;
                        B.caret(b.begin, b.begin)
                    } else {
                        for (A(!0); b.begin < n && !j[b.begin]; )
                            b.begin++;
                        B.caret(b.begin, b.begin)
                    }
                    h()
                }
                function v() {
                    A(),
                    B.val() != E && B.change()
                }
                function w(a) {
                    if (!B.prop("readonly")) {
                        var b, c, e, f = a.which || a.keyCode;
                        o = B.val(),
                        8 === f || 46 === f || d && 127 === f ? (b = B.caret(),
                        c = b.begin,
                        e = b.end,
                        e - c === 0 && (c = 46 !== f ? r(c) : e = q(c - 1),
                        e = 46 === f ? q(e) : e),
                        y(c, e),
                        s(c, e - 1),
                        a.preventDefault()) : 13 === f ? v.call(this, a) : 27 === f && (B.val(E),
                        B.caret(0, A()),
                        a.preventDefault())
                    }
                }
                function x(b) {
                    if (!B.prop("readonly")) {
                        var c, d, e, g = b.which || b.keyCode, i = B.caret();
                        if (!(b.ctrlKey || b.altKey || b.metaKey || 32 > g) && g && 13 !== g) {
                            if (i.end - i.begin !== 0 && (y(i.begin, i.end),
                            s(i.begin, i.end - 1)),
                            c = q(i.begin - 1),
                            n > c && (d = String.fromCharCode(g),
                            j[c].test(d))) {
                                if (t(c),
                                C[c] = d,
                                z(),
                                e = q(c),
                                f) {
                                    var k = function() {
                                        a.proxy(a.fn.caret, B, e)()
                                    };
                                    setTimeout(k, 0)
                                } else
                                    B.caret(e);
                                i.begin <= m && h()
                            }
                            b.preventDefault()
                        }
                    }
                }
                function y(a, b) {
                    var c;
                    for (c = a; b > c && n > c; c++)
                        j[c] && (C[c] = p(c))
                }
                function z() {
                    B.val(C.join(""))
                }
                function A(a) {
                    var b, c, d, e = B.val(), f = -1;
                    for (b = 0,
                    d = 0; n > b; b++)
                        if (j[b]) {
                            for (C[b] = p(b); d++ < e.length; )
                                if (c = e.charAt(d - 1),
                                j[b].test(c)) {
                                    C[b] = c,
                                    f = b;
                                    break
                                }
                            if (d > e.length) {
                                y(b + 1, n);
                                break
                            }
                        } else
                            C[b] === e.charAt(d) && d++,
                            k > b && (f = b);
                    return a ? z() : k > f + 1 ? g.autoclear || C.join("") === D ? (B.val() && B.val(""),
                    y(0, n)) : z() : (z(),
                    B.val(B.val().substring(0, f + 1))),
                    k ? b : l
                }
                var B = a(this)
                  , C = a.map(c.split(""), function(a, b) {
                    return "?" != a ? i[a] ? p(b) : a : void 0
                })
                  , D = C.join("")
                  , E = B.val();
                B.data(a.mask.dataName, function() {
                    return a.map(C, function(a, b) {
                        return j[b] && a != p(b) ? a : null
                    }).join("")
                }),
                B.one("unmask", function() {
                    B.off(".mask").removeData(a.mask.dataName)
                }).on("focus.mask", function() {
                    if (!B.prop("readonly")) {
                        clearTimeout(b);
                        var a;
                        E = B.val(),
                        a = A(),
                        b = setTimeout(function() {
                            B.get(0) === document.activeElement && (z(),
                            a == c.replace("?", "").length ? B.caret(0, a) : B.caret(a))
                        }, 10)
                    }
                }).on("blur.mask", v).on("keydown.mask", w).on("keypress.mask", x).on("input.mask paste.mask", function() {
                    B.prop("readonly") || setTimeout(function() {
                        var a = A(!0);
                        B.caret(a),
                        h()
                    }, 0)
                }),
                e && f && B.off("input.mask").on("input.mask", u),
                A()
            })
        }
    })
});
/* /vendor/jquery/jquery.inputmask.min.js */
/*!
* jquery.inputmask.bundle.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2017 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 4.0.0-77
*/
!function(e) {
    function t(i) {
        if (n[i])
            return n[i].exports;
        var a = n[i] = {
            i: i,
            l: !1,
            exports: {}
        };
        return e[i].call(a.exports, a, a.exports, t),
        a.l = !0,
        a.exports
    }
    var n = {};
    t.m = e,
    t.c = n,
    t.d = function(e, n, i) {
        t.o(e, n) || Object.defineProperty(e, n, {
            configurable: !1,
            enumerable: !0,
            get: i
        })
    }
    ,
    t.n = function(e) {
        var n = e && e.__esModule ? function() {
            return e.default
        }
        : function() {
            return e
        }
        ;
        return t.d(n, "a", n),
        n
    }
    ,
    t.o = function(e, t) {
        return Object.prototype.hasOwnProperty.call(e, t)
    }
    ,
    t.p = "",
    t(t.s = 3)
}([function(e, t, n) {
    "use strict";
    var i, a, r;
    "function" == typeof Symbol && Symbol.iterator;
    !function(o) {
        a = [n(2)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e) {
        return e
    })
}
, function(e, t, n) {
    "use strict";
    var i, a, r, o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    ;
    !function(o) {
        a = [n(0), n(10), n(11)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t, n, i) {
        function a(t, n, o) {
            if (!(this instanceof a))
                return new a(t,n,o);
            this.el = i,
            this.events = {},
            this.maskset = i,
            this.refreshValue = !1,
            !0 !== o && (e.isPlainObject(t) ? n = t : (n = n || {}).alias = t,
            this.opts = e.extend(!0, {}, this.defaults, n),
            this.noMasksCache = n && n.definitions !== i,
            this.userOptions = n || {},
            this.isRTL = this.opts.numericInput,
            r(this.opts.alias, n, this.opts))
        }
        function r(t, n, o) {
            var s = a.prototype.aliases[t];
            return s ? (s.alias && r(s.alias, i, o),
            e.extend(!0, o, s),
            e.extend(!0, o, n),
            !0) : (null === o.mask && (o.mask = t),
            !1)
        }
        function s(t, n) {
            function r(t, r, o) {
                var s = !1;
                if (null !== t && "" !== t || ((s = null !== o.regex) ? t = (t = o.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (s = !0,
                t = ".*")),
                1 === t.length && !1 === o.greedy && 0 !== o.repeat && (o.placeholder = ""),
                o.repeat > 0 || "*" === o.repeat || "+" === o.repeat) {
                    var l = "*" === o.repeat ? 0 : "+" === o.repeat ? 1 : o.repeat;
                    t = o.groupmarker[0] + t + o.groupmarker[1] + o.quantifiermarker[0] + l + "," + o.repeat + o.quantifiermarker[1]
                }
                var u, c = s ? "regex_" + o.regex : o.numericInput ? t.split("").reverse().join("") : t;
                return a.prototype.masksCache[c] === i || !0 === n ? (u = {
                    mask: t,
                    maskToken: a.prototype.analyseMask(t, s, o),
                    validPositions: {},
                    _buffer: i,
                    buffer: i,
                    tests: {},
                    metadata: r,
                    maskLength: i
                },
                !0 !== n && (a.prototype.masksCache[c] = u,
                u = e.extend(!0, {}, a.prototype.masksCache[c]))) : u = e.extend(!0, {}, a.prototype.masksCache[c]),
                u
            }
            if (e.isFunction(t.mask) && (t.mask = t.mask(t)),
            e.isArray(t.mask)) {
                if (t.mask.length > 1) {
                    t.keepStatic = null === t.keepStatic || t.keepStatic;
                    var o = t.groupmarker[0];
                    return e.each(t.numericInput ? t.mask.reverse() : t.mask, function(n, a) {
                        o.length > 1 && (o += t.groupmarker[1] + t.alternatormarker + t.groupmarker[0]),
                        a.mask === i || e.isFunction(a.mask) ? o += a : o += a.mask
                    }),
                    o += t.groupmarker[1],
                    r(o, t.mask, t)
                }
                t.mask = t.mask.pop()
            }
            return t.mask && t.mask.mask !== i && !e.isFunction(t.mask.mask) ? r(t.mask.mask, t.mask, t) : r(t.mask, t.mask, t)
        }
        function l(e) {
            var t = n.createElement("input")
              , i = "on" + e
              , a = i in t;
            return a || (t.setAttribute(i, "return;"),
            a = "function" == typeof t[i]),
            t = null,
            a
        }
        function u(r, s, c) {
            function d(e, t, n) {
                t = t || 0;
                var a, r, o, s = [], l = 0, u = v();
                do {
                    !0 === e && h().validPositions[l] ? (r = (o = h().validPositions[l]).match,
                    a = o.locator.slice(),
                    s.push(!0 === n ? o.input : !1 === n ? r.nativeDef : R(l, r))) : (r = (o = b(l, a, l - 1)).match,
                    a = o.locator.slice(),
                    (!1 === c.jitMasking || l < u || "number" == typeof c.jitMasking && isFinite(c.jitMasking) && c.jitMasking > l) && s.push(!1 === n ? r.nativeDef : R(l, r))),
                    l++
                } while ((Q === i || l < Q) && (null !== r.fn || "" !== r.def) || t > l);
                return "" === s[s.length - 1] && s.pop(),
                !1 === n && h().maskLength !== i || (h().maskLength = l + 1),
                s
            }
            function h() {
                return s
            }
            function g(e) {
                var t = h();
                t.buffer = i,
                !0 !== e && (t.validPositions = {},
                t.p = 0)
            }
            function v(e, t, n) {
                var a = -1
                  , r = -1
                  , o = n || h().validPositions;
                e === i && (e = -1);
                for (var s in o) {
                    var l = parseInt(s);
                    o[l] && (t || !0 !== o[l].generatedInput) && (l <= e && (a = l),
                    l >= e && (r = l))
                }
                return -1 !== a && e - a > 1 || r < e ? a : r
            }
            function k(t, n, a, r) {
                var o, s = t, l = e.extend(!0, {}, h().validPositions), u = !1;
                for (h().p = t,
                o = n - 1; o >= s; o--)
                    h().validPositions[o] !== i && (!0 !== a && (!h().validPositions[o].match.optionality && function(e) {
                        var t = h().validPositions[e];
                        if (t !== i && null === t.match.fn) {
                            var n = h().validPositions[e - 1]
                              , a = h().validPositions[e + 1];
                            return n !== i && a !== i
                        }
                        return !1
                    }(o) || !1 === c.canClearPosition(h(), o, v(i, !0), r, c)) || delete h().validPositions[o]);
                for (g(!0),
                o = s + 1; o <= v(); ) {
                    for (; h().validPositions[s] !== i; )
                        s++;
                    if (o < s && (o = s + 1),
                    h().validPositions[o] === i && O(o))
                        o++;
                    else {
                        var p = b(o);
                        !1 === u && l[s] && l[s].match.def === p.match.def ? (h().validPositions[s] = e.extend(!0, {}, l[s]),
                        h().validPositions[s].input = p.input,
                        delete h().validPositions[o],
                        o++) : P(s, p.match.def) ? !1 !== D(s, p.input || R(o), !0) && (delete h().validPositions[o],
                        o++,
                        u = !0) : O(o) || (o++,
                        s--),
                        s++
                    }
                }
                g(!0)
            }
            function y(e, t, n) {
                for (var a, r = x(e = e > 0 ? e - 1 : 0), o = r.alternation !== i ? r.locator[r.alternation].toString().split(",") : [], s = 0; s < t.length && (!((a = t[s]).match && (c.greedy && !0 !== a.match.optionalQuantifier || (!1 === a.match.optionality || !1 === a.match.newBlockMarker) && !0 !== a.match.optionalQuantifier) && (r.alternation === i || r.alternation !== a.alternation || a.locator[r.alternation] !== i && M(a.locator[r.alternation].toString().split(","), o))) || !0 === n && (null !== a.match.fn || /[0-9a-bA-Z]/.test(a.match.def))); s++)
                    ;
                return a
            }
            function b(e, t, n) {
                return h().validPositions[e] || y(e, S(e, t ? t.slice() : t, n))
            }
            function x(e) {
                return h().validPositions[e] ? h().validPositions[e] : S(e)[0]
            }
            function P(e, t) {
                for (var n = !1, i = S(e), a = 0; a < i.length; a++)
                    if (i[a].match && i[a].match.def === t) {
                        n = !0;
                        break
                    }
                return n
            }
            function S(t, n, a) {
                function r(n, a, o, l) {
                    function p(o, l, g) {
                        function v(t, n) {
                            var i = 0 === e.inArray(t, n.matches);
                            return i || e.each(n.matches, function(e, a) {
                                if (!0 === a.isQuantifier && (i = v(t, n.matches[e - 1])))
                                    return !1
                            }),
                            i
                        }
                        function k(t, n, a) {
                            var r, o;
                            if ((h().tests[t] || h().validPositions[t]) && e.each(h().tests[t] || [h().validPositions[t]], function(e, t) {
                                if (t.mloc[n])
                                    return r = t,
                                    !1;
                                var s = a !== i ? a : t.alternation
                                  , l = t.locator[s] !== i ? t.locator[s].toString().indexOf(n) : -1;
                                (o === i || l < o) && -1 !== l && (r = t,
                                o = l)
                            }),
                            r) {
                                var s = r.locator[r.alternation];
                                return (r.mloc[n] || r.mloc[s] || r.locator).slice((a !== i ? a : r.alternation) + 1)
                            }
                            return a !== i ? k(t, n) : i
                        }
                        function y(e, t) {
                            e.mloc = e.mloc || {};
                            var n = e.locator[e.alternation];
                            if ("string" == typeof n && (n = n.split(",")[0]),
                            e.mloc[n] === i && (e.mloc[n] = e.locator.slice()),
                            t !== i) {
                                for (var a in t.mloc)
                                    "string" == typeof a && (a = a.split(",")[0]),
                                    e.mloc[a] === i && (e.mloc[a] = t.mloc[a]);
                                e.locator[e.alternation] = Object.keys(e.mloc).join(",")
                            }
                        }
                        if (u > 1e4)
                            throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + h().mask;
                        if (u === t && o.matches === i)
                            return f.push({
                                match: o,
                                locator: l.reverse(),
                                cd: d,
                                mloc: {}
                            }),
                            !0;
                        if (o.matches !== i) {
                            if (o.isGroup && g !== o) {
                                if (o = p(n.matches[e.inArray(o, n.matches) + 1], l))
                                    return !0
                            } else if (o.isOptional) {
                                var b = o;
                                if (o = r(o, a, l, g)) {
                                    if (s = f[f.length - 1].match,
                                    !v(s, b))
                                        return !0;
                                    m = !0,
                                    u = t
                                }
                            } else if (o.isAlternator) {
                                var x, P = o, S = [], w = f.slice(), A = l.length, C = a.length > 0 ? a.shift() : -1;
                                if (-1 === C || "string" == typeof C) {
                                    var E, M = u, D = a.slice(), O = [];
                                    if ("string" == typeof C)
                                        O = C.split(",");
                                    else
                                        for (E = 0; E < P.matches.length; E++)
                                            O.push(E);
                                    for (var _ = 0; _ < O.length; _++) {
                                        E = parseInt(O[_]),
                                        f = [],
                                        a = k(u, E, A) || D.slice(),
                                        o = p(P.matches[E] || n.matches[E], [E].concat(l), g) || o,
                                        x = f.slice(),
                                        u = M,
                                        f = [];
                                        for (var j = 0; j < x.length; j++) {
                                            var F = x[j]
                                              , R = !1;
                                            F.alternation = F.alternation || A,
                                            y(F);
                                            for (var T = 0; T < S.length; T++) {
                                                var N = S[T];
                                                if ("string" != typeof C || -1 !== e.inArray(F.locator[F.alternation].toString(), O)) {
                                                    var G;
                                                    if (function(e, t) {
                                                        return e.match.nativeDef === t.match.nativeDef || e.match.def === t.match.nativeDef || e.match.nativeDef === t.match.def
                                                    }(F, N) || (G = function(e, n) {
                                                        return c.regex !== i && null !== e.match.fn && null !== n.match.fn && n.match.fn.test(e.match.def.replace(/[\[\]]/g, ""), h(), t, !1, c, !1)
                                                    }(F, N))) {
                                                        R = !0,
                                                        F.alternation === N.alternation && -1 === N.locator[N.alternation].toString().indexOf(F.locator[F.alternation]) && y(N, F),
                                                        F.match.nativeDef === N.match.nativeDef || F.match.nativeDef !== N.match.def && !G || (R = !1);
                                                        break
                                                    }
                                                    if (F.match.def === N.match.def) {
                                                        R = !1;
                                                        break
                                                    }
                                                    if (function(e, n) {
                                                        return null === e.match.fn && null !== n.match.fn && n.match.fn.test(e.match.def, h(), t, !1, c, !1)
                                                    }(F, N)) {
                                                        F.alternation === N.alternation && -1 === F.locator[F.alternation].toString().indexOf(N.locator[N.alternation].toString().split("")[0]) && (F.na = F.na || F.locator[F.alternation].toString(),
                                                        -1 === F.na.indexOf(F.locator[F.alternation].toString().split("")[0]) && (F.na = F.na + "," + F.locator[N.alternation].toString().split("")[0]),
                                                        R = !0,
                                                        y(F, N),
                                                        S.splice(S.indexOf(N), 0, F));
                                                        break
                                                    }
                                                }
                                            }
                                            R || S.push(F)
                                        }
                                    }
                                    f = w.concat(S),
                                    u = t,
                                    m = f.length > 0,
                                    o = S.length > 0,
                                    a = D.slice()
                                } else
                                    o = p(P.matches[C] || n.matches[C], [C].concat(l), g);
                                if (o)
                                    return !0
                            } else if (o.isQuantifier && g !== n.matches[e.inArray(o, n.matches) - 1])
                                for (var L = o, I = a.length > 0 ? a.shift() : 0; I < (isNaN(L.quantifier.max) ? I + 1 : L.quantifier.max) && u <= t; I++) {
                                    var B = n.matches[e.inArray(L, n.matches) - 1];
                                    if (o = p(B, [I].concat(l), B)) {
                                        if (s = f[f.length - 1].match,
                                        s.optionalQuantifier = I > L.quantifier.min - 1,
                                        v(s, B)) {
                                            if (I > L.quantifier.min - 1) {
                                                m = !0,
                                                u = t;
                                                break
                                            }
                                            return !0
                                        }
                                        return !0
                                    }
                                }
                            else if (o = r(o, a, l, g))
                                return !0
                        } else
                            u++
                    }
                    for (var g = a.length > 0 ? a.shift() : 0; g < n.matches.length; g++)
                        if (!0 !== n.matches[g].isQuantifier) {
                            var v = p(n.matches[g], [g].concat(o), l);
                            if (v && u === t)
                                return v;
                            if (u > t)
                                break
                        }
                }
                function o(e) {
                    if (c.keepStatic && t > 0 && e.length > 1 + ("" === e[e.length - 1].match.def ? 1 : 0) && !0 !== e[0].match.optionality && !0 !== e[0].match.optionalQuantifier && null === e[0].match.fn && !/[0-9a-bA-Z]/.test(e[0].match.def)) {
                        if (h().validPositions[t - 1] === i)
                            return [y(t, e)];
                        if (h().validPositions[t - 1].alternation === e[0].alternation)
                            return [y(t, e)];
                        if (h().validPositions[t - 1])
                            return [y(t, e)]
                    }
                    return e
                }
                var s, l = h().maskToken, u = n ? a : 0, p = n ? n.slice() : [0], f = [], m = !1, d = n ? n.join("") : "";
                if (t > -1) {
                    if (n === i) {
                        for (var g, v = t - 1; (g = h().validPositions[v] || h().tests[v]) === i && v > -1; )
                            v--;
                        g !== i && v > -1 && (p = function(t, n) {
                            var a = [];
                            return e.isArray(n) || (n = [n]),
                            n.length > 0 && (n[0].alternation === i ? 0 === (a = y(t, n.slice()).locator.slice()).length && (a = n[0].locator.slice()) : e.each(n, function(e, t) {
                                if ("" !== t.def)
                                    if (0 === a.length)
                                        a = t.locator.slice();
                                    else
                                        for (var n = 0; n < a.length; n++)
                                            t.locator[n] && -1 === a[n].toString().indexOf(t.locator[n]) && (a[n] += "," + t.locator[n])
                            })),
                            a
                        }(v, g),
                        d = p.join(""),
                        u = v)
                    }
                    if (h().tests[t] && h().tests[t][0].cd === d)
                        return o(h().tests[t]);
                    for (var k = p.shift(); k < l.length && !(r(l[k], p, [k]) && u === t || u > t); k++)
                        ;
                }
                return (0 === f.length || m) && f.push({
                    match: {
                        fn: null,
                        optionality: !0,
                        casing: null,
                        def: "",
                        placeholder: ""
                    },
                    locator: [],
                    mloc: {},
                    cd: d
                }),
                n !== i && h().tests[t] ? o(e.extend(!0, [], f)) : (h().tests[t] = e.extend(!0, [], f),
                o(h().tests[t]))
            }
            function w() {
                return h()._buffer === i && (h()._buffer = d(!1, 1),
                h().buffer === i && (h().buffer = h()._buffer.slice())),
                h()._buffer
            }
            function A(e) {
                return h().buffer !== i && !0 !== e || (h().buffer = d(!0, v(), !0)),
                h().buffer
            }
            function C(e, t, n) {
                var a, r;
                if (!0 === e)
                    g(),
                    e = 0,
                    t = n.length;
                else
                    for (a = e; a < t; a++)
                        delete h().validPositions[a];
                for (r = e,
                a = e; a < t; a++)
                    if (g(!0),
                    n[a] !== c.skipOptionalPartCharacter) {
                        var o = D(r, n[a], !0, !0);
                        !1 !== o && (g(!0),
                        r = o.caret !== i ? o.caret : o.pos + 1)
                    }
            }
            function E(t, n, i) {
                switch (c.casing || n.casing) {
                case "upper":
                    t = t.toUpperCase();
                    break;
                case "lower":
                    t = t.toLowerCase();
                    break;
                case "title":
                    var r = h().validPositions[i - 1];
                    t = 0 === i || r && r.input === String.fromCharCode(a.keyCode.SPACE) ? t.toUpperCase() : t.toLowerCase();
                    break;
                default:
                    if (e.isFunction(c.casing)) {
                        var o = Array.prototype.slice.call(arguments);
                        o.push(h().validPositions),
                        t = c.casing.apply(this, o)
                    }
                }
                return t
            }
            function M(t, n, a) {
                for (var r, o = c.greedy ? n : n.slice(0, 1), s = !1, l = a !== i ? a.split(",") : [], u = 0; u < l.length; u++)
                    -1 !== (r = t.indexOf(l[u])) && t.splice(r, 1);
                for (var p = 0; p < t.length; p++)
                    if (-1 !== e.inArray(t[p], o)) {
                        s = !0;
                        break
                    }
                return s
            }
            function D(t, n, r, o, s, l) {
                function u(e) {
                    var t = q ? e.begin - e.end > 1 || e.begin - e.end == 1 : e.end - e.begin > 1 || e.end - e.begin == 1;
                    return t && 0 === e.begin && e.end === h().maskLength ? "full" : t
                }
                function p(n, a, r) {
                    var s = !1;
                    return e.each(S(n), function(l, p) {
                        var m = p.match;
                        if (A(!0),
                        !1 !== (s = null != m.fn ? m.fn.test(a, h(), n, r, c, u(t)) : (a === m.def || a === c.skipOptionalPartCharacter) && "" !== m.def && {
                            c: R(n, m, !0) || m.def,
                            pos: n
                        })) {
                            var d = s.c !== i ? s.c : a;
                            d = d === c.skipOptionalPartCharacter && null === m.fn ? R(n, m, !0) || m.def : d;
                            var y = n
                              , b = A();
                            if (s.remove !== i && (e.isArray(s.remove) || (s.remove = [s.remove]),
                            e.each(s.remove.sort(function(e, t) {
                                return t - e
                            }), function(e, t) {
                                k(t, t + 1, !0)
                            })),
                            s.insert !== i && (e.isArray(s.insert) || (s.insert = [s.insert]),
                            e.each(s.insert.sort(function(e, t) {
                                return e - t
                            }), function(e, t) {
                                D(t.pos, t.c, !0, o)
                            })),
                            s.refreshFromBuffer) {
                                var x = s.refreshFromBuffer;
                                if (C(!0 === x ? x : x.start, x.end, b),
                                s.pos === i && s.c === i)
                                    return s.pos = v(),
                                    !1;
                                if ((y = s.pos !== i ? s.pos : n) !== n)
                                    return s = e.extend(s, D(y, d, !0, o)),
                                    !1
                            } else if (!0 !== s && s.pos !== i && s.pos !== n && (y = s.pos,
                            C(n, y, A().slice()),
                            y !== n))
                                return s = e.extend(s, D(y, d, !0)),
                                !1;
                            return (!0 === s || s.pos !== i || s.c !== i) && (l > 0 && g(!0),
                            f(y, e.extend({}, p, {
                                input: E(d, m, y)
                            }), o, u(t)) || (s = !1),
                            !1)
                        }
                    }),
                    s
                }
                function f(t, n, a, r) {
                    if (r || c.insertMode && h().validPositions[t] !== i && a === i) {
                        var o, s = e.extend(!0, {}, h().validPositions), l = v(i, !0);
                        for (o = t; o <= l; o++)
                            delete h().validPositions[o];
                        h().validPositions[t] = e.extend(!0, {}, n);
                        var u, p = !0, f = h().validPositions, d = !1, k = h().maskLength;
                        for (o = u = t; o <= l; o++) {
                            var y = s[o];
                            if (y !== i)
                                for (var b = u; b < h().maskLength && (null === y.match.fn && f[o] && (!0 === f[o].match.optionalQuantifier || !0 === f[o].match.optionality) || null != y.match.fn); ) {
                                    if (b++,
                                    !1 === d && s[b] && s[b].match.def === y.match.def)
                                        h().validPositions[b] = e.extend(!0, {}, s[b]),
                                        h().validPositions[b].input = y.input,
                                        m(b),
                                        u = b,
                                        p = !0;
                                    else if (P(b, y.match.def)) {
                                        var x = D(b, y.input, !0, !0);
                                        p = !1 !== x,
                                        u = x.caret || x.insert ? v() : b,
                                        d = !0
                                    } else if (!(p = !0 === y.generatedInput) && b >= h().maskLength - 1)
                                        break;
                                    if (h().maskLength < k && (h().maskLength = k),
                                    p)
                                        break
                                }
                            if (!p)
                                break
                        }
                        if (!p)
                            return h().validPositions = e.extend(!0, {}, s),
                            g(!0),
                            !1
                    } else
                        h().validPositions[t] = e.extend(!0, {}, n);
                    return g(!0),
                    !0
                }
                function m(t) {
                    for (var n = t - 1; n > -1 && !h().validPositions[n]; n--)
                        ;
                    var a, r;
                    for (n++; n < t; n++)
                        h().validPositions[n] === i && (!1 === c.jitMasking || c.jitMasking > n) && ("" === (r = S(n, b(n - 1).locator, n - 1).slice())[r.length - 1].match.def && r.pop(),
                        (a = y(n, r)) && (a.match.def === c.radixPointDefinitionSymbol || !O(n, !0) || e.inArray(c.radixPoint, A()) < n && a.match.fn && a.match.fn.test(R(n), h(), n, !1, c)) && !1 !== (x = p(n, R(n, a.match, !0) || (null == a.match.fn ? a.match.def : "" !== R(n) ? R(n) : A()[n]), !0)) && (h().validPositions[x.pos || n].generatedInput = !0))
                }
                r = !0 === r;
                var d = t;
                t.begin !== i && (d = q && !u(t) ? t.end : t.begin);
                var x = !0
                  , w = e.extend(!0, {}, h().validPositions);
                if (e.isFunction(c.preValidation) && !r && !0 !== o && !0 !== l && (x = c.preValidation(A(), d, n, u(t), c)),
                !0 === x) {
                    if (m(d),
                    u(t) && (U(i, a.keyCode.DELETE, t, !0, !0),
                    d = h().p),
                    d < h().maskLength && (Q === i || d < Q) && (x = p(d, n, r),
                    (!r || !0 === o) && !1 === x && !0 !== l)) {
                        var j = h().validPositions[d];
                        if (!j || null !== j.match.fn || j.match.def !== n && n !== c.skipOptionalPartCharacter) {
                            if ((c.insertMode || h().validPositions[_(d)] === i) && !O(d, !0))
                                for (var F = d + 1, T = _(d); F <= T; F++)
                                    if (!1 !== (x = p(F, n, r))) {
                                        !function(t, n) {
                                            var a = h().validPositions[n];
                                            if (a)
                                                for (var r = a.locator, o = r.length, s = t; s < n; s++)
                                                    if (h().validPositions[s] === i && !O(s, !0)) {
                                                        var l = S(s).slice()
                                                          , u = y(s, l, !0)
                                                          , c = -1;
                                                        "" === l[l.length - 1].match.def && l.pop(),
                                                        e.each(l, function(e, t) {
                                                            for (var n = 0; n < o; n++) {
                                                                if (t.locator[n] === i || !M(t.locator[n].toString().split(","), r[n].toString().split(","), t.na)) {
                                                                    var a = r[n]
                                                                      , s = u.locator[n]
                                                                      , l = t.locator[n];
                                                                    a - s > Math.abs(a - l) && (u = t);
                                                                    break
                                                                }
                                                                c < n && (c = n,
                                                                u = t)
                                                            }
                                                        }),
                                                        (u = e.extend({}, u, {
                                                            input: R(s, u.match, !0) || u.match.def
                                                        })).generatedInput = !0,
                                                        f(s, u, !0),
                                                        h().validPositions[n] = i,
                                                        p(n, a.input, !0)
                                                    }
                                        }(d, x.pos !== i ? x.pos : F),
                                        d = F;
                                        break
                                    }
                        } else
                            x = {
                                caret: _(d)
                            }
                    }
                    !1 === x && c.keepStatic && !r && !0 !== s && (x = function(t, n, a) {
                        var r, s, l, u, p, f, m, d, k = e.extend(!0, {}, h().validPositions), y = !1, b = v();
                        for (u = h().validPositions[b]; b >= 0; b--)
                            if ((l = h().validPositions[b]) && l.alternation !== i) {
                                if (r = b,
                                s = h().validPositions[r].alternation,
                                u.locator[l.alternation] !== l.locator[l.alternation])
                                    break;
                                u = l
                            }
                        if (s !== i) {
                            d = parseInt(r);
                            var x = u.locator[u.alternation || s] !== i ? u.locator[u.alternation || s] : m[0];
                            x.length > 0 && (x = x.split(",")[0]);
                            var P = h().validPositions[d]
                              , w = h().validPositions[d - 1];
                            e.each(S(d, w ? w.locator : i, d - 1), function(r, l) {
                                m = l.locator[s] ? l.locator[s].toString().split(",") : [];
                                for (var u = 0; u < m.length; u++) {
                                    var b = []
                                      , S = 0
                                      , w = 0
                                      , A = !1;
                                    if (x < m[u] && (l.na === i || -1 === e.inArray(m[u], l.na.split(",")) || -1 === e.inArray(x.toString(), m))) {
                                        h().validPositions[d] = e.extend(!0, {}, l);
                                        var C = h().validPositions[d].locator;
                                        for (h().validPositions[d].locator[s] = parseInt(m[u]),
                                        null == l.match.fn ? (P.input !== l.match.def && (A = !0,
                                        !0 !== P.generatedInput && b.push(P.input)),
                                        w++,
                                        h().validPositions[d].generatedInput = !/[0-9a-bA-Z]/.test(l.match.def),
                                        h().validPositions[d].input = l.match.def) : h().validPositions[d].input = P.input,
                                        p = d + 1; p < v(i, !0) + 1; p++)
                                            (f = h().validPositions[p]) && !0 !== f.generatedInput && /[0-9a-bA-Z]/.test(f.input) ? b.push(f.input) : p < t && S++,
                                            delete h().validPositions[p];
                                        for (A && b[0] === l.match.def && b.shift(),
                                        g(!0),
                                        y = !0; b.length > 0; ) {
                                            var E = b.shift();
                                            if (E !== c.skipOptionalPartCharacter && !(y = D(v(i, !0) + 1, E, !1, o, !0)))
                                                break
                                        }
                                        if (y) {
                                            h().validPositions[d].locator = C;
                                            var M = v(t) + 1;
                                            for (p = d + 1; p < v() + 1; p++)
                                                ((f = h().validPositions[p]) === i || null == f.match.fn) && p < t + (w - S) && w++;
                                            y = D((t += w - S) > M ? M : t, n, a, o, !0)
                                        }
                                        if (y)
                                            return !1;
                                        g(),
                                        h().validPositions = e.extend(!0, {}, k)
                                    }
                                }
                            })
                        }
                        return y
                    }(d, n, r)),
                    !0 === x && (x = {
                        pos: d
                    })
                }
                if (e.isFunction(c.postValidation) && !1 !== x && !r && !0 !== o && !0 !== l) {
                    var N = c.postValidation(A(!0), x, c);
                    if (N !== i) {
                        if (N.refreshFromBuffer && N.buffer) {
                            var G = N.refreshFromBuffer;
                            C(!0 === G ? G : G.start, G.end, N.buffer)
                        }
                        x = !0 === N ? x : N
                    }
                }
                return x && x.pos === i && (x.pos = d),
                !1 !== x && !0 !== l || (g(!0),
                h().validPositions = e.extend(!0, {}, w)),
                x
            }
            function O(e, t) {
                var n = b(e).match;
                if ("" === n.def && (n = x(e).match),
                null != n.fn)
                    return n.fn;
                if (!0 !== t && e > -1) {
                    var i = S(e);
                    return i.length > 1 + ("" === i[i.length - 1].match.def ? 1 : 0)
                }
                return !1
            }
            function _(e, t) {
                var n = h().maskLength;
                if (e >= n)
                    return n;
                var i = e;
                for (S(n + 1).length > 1 && (n = d(!0, n + 1, !1).kength); ++i < n && (!0 === t && (!0 !== x(i).match.newBlockMarker || !O(i)) || !0 !== t && !O(i)); )
                    ;
                return i
            }
            function j(e, t) {
                var n, i = e;
                if (i <= 0)
                    return 0;
                for (; --i > 0 && (!0 === t && !0 !== x(i).match.newBlockMarker || !0 !== t && !O(i) && ((n = S(i)).length < 2 || 2 === n.length && "" === n[1].match.def)); )
                    ;
                return i
            }
            function F(t, n, a, r, o) {
                if (r && e.isFunction(c.onBeforeWrite)) {
                    var s = c.onBeforeWrite.call($, r, n, a, c);
                    if (s) {
                        if (s.refreshFromBuffer) {
                            var l = s.refreshFromBuffer;
                            C(!0 === l ? l : l.start, l.end, s.buffer || n),
                            n = A(!0)
                        }
                        a !== i && (a = s.caret !== i ? s.caret : a)
                    }
                }
                t !== i && (t.inputmask._valueSet(n.join("")),
                a === i || r !== i && "blur" === r.type ? V(t, a, 0 === n.length) : G(t, a),
                !0 === o && (Y = !0,
                e(t).trigger("input")))
            }
            function R(t, n, a) {
                if ((n = n || x(t).match).placeholder !== i || !0 === a)
                    return e.isFunction(n.placeholder) ? n.placeholder(c) : n.placeholder;
                if (null === n.fn) {
                    if (t > -1 && h().validPositions[t] === i) {
                        var r, o = S(t), s = [];
                        if (o.length > 1 + ("" === o[o.length - 1].match.def ? 1 : 0))
                            for (var l = 0; l < o.length; l++)
                                if (!0 !== o[l].match.optionality && !0 !== o[l].match.optionalQuantifier && (null === o[l].match.fn || r === i || !1 !== o[l].match.fn.test(r.match.def, h(), t, !0, c)) && (s.push(o[l]),
                                null === o[l].match.fn && (r = o[l]),
                                s.length > 1 && /[0-9a-bA-Z]/.test(s[0].match.def)))
                                    return c.placeholder.charAt(t % c.placeholder.length)
                    }
                    return n.def
                }
                return c.placeholder.charAt(t % c.placeholder.length)
            }
            function T(t, n, r, o, s) {
                function l(e, t) {
                    return -1 !== d(!0, 0, !1).slice(e, _(e)).join("").indexOf(t) && !O(e) && (x(e).match.nativeDef === t.charAt(0) || " " === x(e).match.nativeDef && x(e + 1).match.nativeDef === t.charAt(0))
                }
                var u = o.slice()
                  , p = ""
                  , f = -1
                  , m = i;
                if (g(),
                r || !0 === c.autoUnmask)
                    f = _(f);
                else {
                    var k = w().slice(0, _(-1)).join("")
                      , y = u.join("").match(new RegExp("^" + a.escapeRegex(k),"g"));
                    y && y.length > 0 && (u.splice(0, y.length * k.length),
                    f = _(f))
                }
                -1 === f ? (h().p = _(f),
                f = 0) : h().p = f,
                e.each(u, function(n, a) {
                    if (a !== i)
                        if (h().validPositions[n] === i && u[n] === R(n) && O(n, !0) && !1 === D(n, u[n], !0, i, i, !0))
                            h().p++;
                        else {
                            var o = new e.Event("_checkval");
                            o.which = a.charCodeAt(0),
                            p += a;
                            var s = v(i, !0)
                              , d = x(s)
                              , g = b(s + 1, d ? d.locator.slice() : i, s);
                            if (!l(f, p) || r || c.autoUnmask) {
                                var k = r ? n : null == g.match.fn && g.match.optionality && s + 1 < h().p ? s + 1 : h().p;
                                (m = ie.keypressEvent.call(t, o, !0, !1, r, k)) && (f = k + 1,
                                p = "")
                            } else
                                m = ie.keypressEvent.call(t, o, !0, !1, !0, s + 1);
                            F(i, A(), m.forwardPosition, o, !1)
                        }
                }),
                n && F(t, A(), m ? m.forwardPosition : i, s || new e.Event("checkval"), s && "input" === s.type)
            }
            function N(t) {
                if (t) {
                    if (t.inputmask === i)
                        return t.value;
                    t.inputmask && t.inputmask.refreshValue && ie.setValueEvent.call(t)
                }
                var n = []
                  , a = h().validPositions;
                for (var r in a)
                    a[r].match && null != a[r].match.fn && n.push(a[r].input);
                var o = 0 === n.length ? "" : (q ? n.reverse() : n).join("");
                if (e.isFunction(c.onUnMask)) {
                    var s = (q ? A().slice().reverse() : A()).join("");
                    o = c.onUnMask.call($, s, o, c)
                }
                return o
            }
            function G(a, r, o, s) {
                function l(e) {
                    return !0 === s || !q || "number" != typeof e || c.greedy && "" === c.placeholder || (e = a.inputmask.__valueGet.call(a).length - e),
                    e
                }
                var u;
                if (r === i)
                    return a.setSelectionRange ? (r = a.selectionStart,
                    o = a.selectionEnd) : t.getSelection ? (u = t.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== a && u.commonAncestorContainer !== a || (r = u.startOffset,
                    o = u.endOffset) : n.selection && n.selection.createRange && (o = (r = 0 - (u = n.selection.createRange()).duplicate().moveStart("character", -a.inputmask._valueGet().length)) + u.text.length),
                    {
                        begin: l(r),
                        end: l(o)
                    };
                if (e.isArray(r) && (o = q ? r[0] : r[1],
                r = q ? r[1] : r[0]),
                r.begin !== i && (o = q ? r.begin : r.end,
                r = q ? r.end : r.begin),
                "number" == typeof r) {
                    r = l(r),
                    o = "number" == typeof (o = l(o)) ? o : r;
                    var p = parseInt(((a.ownerDocument.defaultView || t).getComputedStyle ? (a.ownerDocument.defaultView || t).getComputedStyle(a, null) : a.currentStyle).fontSize) * o;
                    if (a.scrollLeft = p > a.scrollWidth ? p : 0,
                    !1 === c.insertMode && r === o && o++,
                    a.inputmask.caretPos = {
                        begin: r,
                        end: o
                    },
                    a.setSelectionRange)
                        a.selectionStart = r,
                        a.selectionEnd = o;
                    else if (t.getSelection) {
                        if (u = n.createRange(),
                        a.firstChild === i || null === a.firstChild) {
                            var f = n.createTextNode("");
                            a.appendChild(f)
                        }
                        u.setStart(a.firstChild, r < a.inputmask._valueGet().length ? r : a.inputmask._valueGet().length),
                        u.setEnd(a.firstChild, o < a.inputmask._valueGet().length ? o : a.inputmask._valueGet().length),
                        u.collapse(!0);
                        var m = t.getSelection();
                        m.removeAllRanges(),
                        m.addRange(u)
                    } else
                        a.createTextRange && ((u = a.createTextRange()).collapse(!0),
                        u.moveEnd("character", o),
                        u.moveStart("character", r),
                        u.select());
                    V(a, {
                        begin: r,
                        end: o
                    })
                }
            }
            function L(t) {
                var n, a, r = A(), o = r.length, s = v(), l = {}, u = h().validPositions[s], c = u !== i ? u.locator.slice() : i;
                for (n = s + 1; n < r.length; n++)
                    c = (a = b(n, c, n - 1)).locator.slice(),
                    l[n] = e.extend(!0, {}, a);
                var p = u && u.alternation !== i ? u.locator[u.alternation] : i;
                for (n = o - 1; n > s && (((a = l[n]).match.optionality || a.match.optionalQuantifier && a.match.newBlockMarker || p && (p !== l[n].locator[u.alternation] && null != a.match.fn || null === a.match.fn && a.locator[u.alternation] && M(a.locator[u.alternation].toString().split(","), p.toString().split(",")) && "" !== S(n)[0].def)) && r[n] === R(n, a.match)); n--)
                    o--;
                return t ? {
                    l: o,
                    def: l[o] ? l[o].match : i
                } : o
            }
            function I(e) {
                for (var t, n = L(), a = e.length, r = h().validPositions[v()]; n < a && !O(n, !0) && (t = r !== i ? b(n, r.locator.slice(""), r) : x(n)) && !0 !== t.match.optionality && (!0 !== t.match.optionalQuantifier && !0 !== t.match.newBlockMarker || n + 1 === a && "" === (r !== i ? b(n + 1, r.locator.slice(""), r) : x(n + 1)).match.def); )
                    n++;
                for (; (t = h().validPositions[n - 1]) && t && t.match.optionality && t.input === c.skipOptionalPartCharacter; )
                    n--;
                return e.splice(n),
                e
            }
            function B(t) {
                if (e.isFunction(c.isComplete))
                    return c.isComplete(t, c);
                if ("*" === c.repeat)
                    return i;
                var n = !1
                  , a = L(!0)
                  , r = j(a.l);
                if (a.def === i || a.def.newBlockMarker || a.def.optionality || a.def.optionalQuantifier) {
                    n = !0;
                    for (var o = 0; o <= r; o++) {
                        var s = b(o).match;
                        if (null !== s.fn && h().validPositions[o] === i && !0 !== s.optionality && !0 !== s.optionalQuantifier || null === s.fn && t[o] !== R(o, s)) {
                            n = !1;
                            break
                        }
                    }
                }
                return n
            }
            function U(t, n, r, o, s) {
                if ((c.numericInput || q) && (n === a.keyCode.BACKSPACE ? n = a.keyCode.DELETE : n === a.keyCode.DELETE && (n = a.keyCode.BACKSPACE),
                q)) {
                    var l = r.end;
                    r.end = r.begin,
                    r.begin = l
                }
                n === a.keyCode.BACKSPACE && (r.end - r.begin < 1 || !1 === c.insertMode) ? (r.begin = j(r.begin),
                h().validPositions[r.begin] !== i && h().validPositions[r.begin].input === c.groupSeparator && r.begin--) : n === a.keyCode.DELETE && r.begin === r.end && (r.end = O(r.end, !0) && h().validPositions[r.end] && h().validPositions[r.end].input !== c.radixPoint ? r.end + 1 : _(r.end) + 1,
                h().validPositions[r.begin] !== i && h().validPositions[r.begin].input === c.groupSeparator && r.end++),
                k(r.begin, r.end, !1, o),
                !0 !== o && function() {
                    if (c.keepStatic) {
                        for (var n = [], a = v(-1, !0), r = e.extend(!0, {}, h().validPositions), o = h().validPositions[a]; a >= 0; a--) {
                            var s = h().validPositions[a];
                            if (s) {
                                if (!0 !== s.generatedInput && /[0-9a-bA-Z]/.test(s.input) && n.push(s.input),
                                delete h().validPositions[a],
                                s.alternation !== i && s.locator[s.alternation] !== o.locator[s.alternation])
                                    break;
                                o = s
                            }
                        }
                        if (a > -1)
                            for (h().p = _(v(-1, !0)); n.length > 0; ) {
                                var l = new e.Event("keypress");
                                l.which = n.pop().charCodeAt(0),
                                ie.keypressEvent.call(t, l, !0, !1, !1, h().p)
                            }
                        else
                            h().validPositions = e.extend(!0, {}, r)
                    }
                }();
                var u = v(r.begin, !0);
                if (u < r.begin)
                    h().p = _(u);
                else if (!0 !== o && (h().p = r.begin,
                !0 !== s))
                    for (; h().p < u && h().validPositions[h().p] === i; )
                        h().p++
            }
            function H(i) {
                function a(e) {
                    var t, a = n.createElement("span");
                    for (var o in r)
                        isNaN(o) && -1 !== o.indexOf("font") && (a.style[o] = r[o]);
                    a.style.textTransform = r.textTransform,
                    a.style.letterSpacing = r.letterSpacing,
                    a.style.position = "absolute",
                    a.style.height = "auto",
                    a.style.width = "auto",
                    a.style.visibility = "hidden",
                    a.style.whiteSpace = "nowrap",
                    n.body.appendChild(a);
                    var s, l = i.inputmask._valueGet(), u = 0;
                    for (t = 0,
                    s = l.length; t <= s; t++) {
                        if (a.innerHTML += l.charAt(t) || "_",
                        a.offsetWidth >= e) {
                            var c = e - u
                              , p = a.offsetWidth - e;
                            a.innerHTML = l.charAt(t),
                            t = (c -= a.offsetWidth / 3) < p ? t - 1 : t;
                            break
                        }
                        u = a.offsetWidth
                    }
                    return n.body.removeChild(a),
                    t
                }
                var r = (i.ownerDocument.defaultView || t).getComputedStyle(i, null)
                  , o = n.createElement("div");
                o.style.width = r.width,
                o.style.textAlign = r.textAlign,
                W = n.createElement("div"),
                i.inputmask.colorMask = W,
                W.className = "im-colormask",
                i.parentNode.insertBefore(W, i),
                i.parentNode.removeChild(i),
                W.appendChild(o),
                W.appendChild(i),
                i.style.left = o.offsetLeft + "px",
                e(i).on("click", function(e) {
                    return G(i, a(e.clientX)),
                    ie.clickEvent.call(i, [e])
                }),
                e(i).on("keydown", function(e) {
                    e.shiftKey || !1 === c.insertMode || setTimeout(function() {
                        V(i)
                    }, 0)
                })
            }
            function V(e, t, a) {
                function r(e) {
                    if (e === i && (e = ""),
                    p || null !== o.fn && s.input !== i)
                        if (p && (null !== o.fn && s.input !== i || "" === o.def)) {
                            p = !1;
                            var t = u.length;
                            u[t - 1] = u[t - 1] + "</span>",
                            u.push(e)
                        } else
                            u.push(e);
                    else
                        p = !0,
                        u.push("<span class='im-static'>" + e)
                }
                var o, s, l, u = [], p = !1, f = 0;
                if (W !== i) {
                    var m = A();
                    if (t === i ? t = G(e) : t.begin === i && (t = {
                        begin: t,
                        end: t
                    }),
                    !0 !== a) {
                        var d = v();
                        do {
                            h().validPositions[f] ? (s = h().validPositions[f],
                            o = s.match,
                            l = s.locator.slice(),
                            r(m[f])) : (s = b(f, l, f - 1),
                            o = s.match,
                            l = s.locator.slice(),
                            (!1 === c.jitMasking || f < d || "number" == typeof c.jitMasking && isFinite(c.jitMasking) && c.jitMasking > f) && r(R(f, o))),
                            f++
                        } while ((Q === i || f < Q) && (null !== o.fn || "" !== o.def) || d > f || p);
                        p && r(),
                        n.activeElement === e && (u.splice(t.begin, 0, t.begin === t.end ? '<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">' : '<mark class="im-caret-select">'),
                        u.splice(t.end + 1, 0, "</mark>"))
                    }
                    var g = W.getElementsByTagName("div")[0];
                    g.innerHTML = u.join(""),
                    e.inputmask.positionColorMask(e, g)
                }
            }
            s = s || this.maskset,
            c = c || this.opts;
            var K, z, Q, W, $ = this, Z = this.el, q = this.isRTL, J = !1, Y = !1, X = !1, ee = !1, te = !1, ne = {
                on: function(t, n, r) {
                    var o = function(t) {
                        var n = this;
                        if (n.inputmask === i && "FORM" !== this.nodeName) {
                            var o = e.data(n, "_inputmask_opts");
                            o ? new a(o).mask(n) : ne.off(n)
                        } else {
                            if ("setvalue" === t.type || "FORM" === this.nodeName || !(n.disabled || n.readOnly && !("keydown" === t.type && t.ctrlKey && 67 === t.keyCode || !1 === c.tabThrough && t.keyCode === a.keyCode.TAB))) {
                                switch (t.type) {
                                case "input":
                                    if (!0 === Y)
                                        return Y = !1,
                                        t.preventDefault();
                                    p && (te = !0);
                                    break;
                                case "keydown":
                                    J = !1,
                                    Y = !1;
                                    break;
                                case "keypress":
                                    if (!0 === J)
                                        return t.preventDefault();
                                    J = !0;
                                    break;
                                case "click":
                                    if (f || m) {
                                        var s = arguments;
                                        return setTimeout(function() {
                                            r.apply(n, s)
                                        }, 0),
                                        !1
                                    }
                                }
                                var l = r.apply(n, arguments);
                                return te && (te = !1,
                                setTimeout(function() {
                                    G(n, n.inputmask.caretPos, i, !0)
                                })),
                                !1 === l && (t.preventDefault(),
                                t.stopPropagation()),
                                l
                            }
                            t.preventDefault()
                        }
                    };
                    t.inputmask.events[n] = t.inputmask.events[n] || [],
                    t.inputmask.events[n].push(o),
                    -1 !== e.inArray(n, ["submit", "reset"]) ? null !== t.form && e(t.form).on(n, o) : e(t).on(n, o)
                },
                off: function(t, n) {
                    if (t.inputmask && t.inputmask.events) {
                        var i;
                        n ? (i = [])[n] = t.inputmask.events[n] : i = t.inputmask.events,
                        e.each(i, function(n, i) {
                            for (; i.length > 0; ) {
                                var a = i.pop();
                                -1 !== e.inArray(n, ["submit", "reset"]) ? null !== t.form && e(t.form).off(n, a) : e(t).off(n, a)
                            }
                            delete t.inputmask.events[n]
                        })
                    }
                }
            }, ie = {
                keydownEvent: function(t) {
                    var n = this
                      , i = e(n)
                      , r = t.keyCode
                      , o = G(n);
                    if (r === a.keyCode.BACKSPACE || r === a.keyCode.DELETE || m && r === a.keyCode.BACKSPACE_SAFARI || t.ctrlKey && r === a.keyCode.X && !l("cut"))
                        t.preventDefault(),
                        U(n, r, o),
                        F(n, A(!0), h().p, t, n.inputmask._valueGet() !== A().join("")),
                        n.inputmask._valueGet() === w().join("") ? i.trigger("cleared") : !0 === B(A()) && i.trigger("complete");
                    else if (r === a.keyCode.END || r === a.keyCode.PAGE_DOWN) {
                        t.preventDefault();
                        var s = _(v());
                        c.insertMode || s !== h().maskLength || t.shiftKey || s--,
                        G(n, t.shiftKey ? o.begin : s, s, !0)
                    } else
                        r === a.keyCode.HOME && !t.shiftKey || r === a.keyCode.PAGE_UP ? (t.preventDefault(),
                        G(n, 0, t.shiftKey ? o.begin : 0, !0)) : (c.undoOnEscape && r === a.keyCode.ESCAPE || 90 === r && t.ctrlKey) && !0 !== t.altKey ? (T(n, !0, !1, K.split("")),
                        i.trigger("click")) : r !== a.keyCode.INSERT || t.shiftKey || t.ctrlKey ? !0 === c.tabThrough && r === a.keyCode.TAB ? (!0 === t.shiftKey ? (null === x(o.begin).match.fn && (o.begin = _(o.begin)),
                        o.end = j(o.begin, !0),
                        o.begin = j(o.end, !0)) : (o.begin = _(o.begin, !0),
                        o.end = _(o.begin, !0),
                        o.end < h().maskLength && o.end--),
                        o.begin < h().maskLength && (t.preventDefault(),
                        G(n, o.begin, o.end))) : t.shiftKey || !1 === c.insertMode && (r === a.keyCode.RIGHT ? setTimeout(function() {
                            var e = G(n);
                            G(n, e.begin)
                        }, 0) : r === a.keyCode.LEFT && setTimeout(function() {
                            var e = G(n);
                            G(n, q ? e.begin + 1 : e.begin - 1)
                        }, 0)) : (c.insertMode = !c.insertMode,
                        G(n, c.insertMode || o.begin !== h().maskLength ? o.begin : o.begin - 1));
                    c.onKeyDown.call(this, t, A(), G(n).begin, c),
                    X = -1 !== e.inArray(r, c.ignorables)
                },
                keypressEvent: function(t, n, r, o, s) {
                    var l = this
                      , u = e(l)
                      , p = t.which || t.charCode || t.keyCode;
                    if (!(!0 === n || t.ctrlKey && t.altKey) && (t.ctrlKey || t.metaKey || X))
                        return p === a.keyCode.ENTER && K !== A().join("") && (K = A().join(""),
                        setTimeout(function() {
                            u.trigger("change")
                        }, 0)),
                        !0;
                    if (p) {
                        46 === p && !1 === t.shiftKey && "" !== c.radixPoint && (p = c.radixPoint.charCodeAt(0));
                        var f, m = n ? {
                            begin: s,
                            end: s
                        } : G(l), d = String.fromCharCode(p);
                        h().writeOutBuffer = !0;
                        var v = D(m, d, o);
                        if (!1 !== v && (g(!0),
                        f = v.caret !== i ? v.caret : _(v.pos.begin ? v.pos.begin : v.pos),
                        h().p = f),
                        f = c.numericInput && v.caret === i ? j(f) : f,
                        !1 !== r && (setTimeout(function() {
                            c.onKeyValidation.call(l, p, v, c)
                        }, 0),
                        h().writeOutBuffer && !1 !== v)) {
                            var k = A();
                            F(l, k, f, t, !0 !== n),
                            !0 !== n && setTimeout(function() {
                                !0 === B(k) && u.trigger("complete")
                            }, 0)
                        }
                        if (t.preventDefault(),
                        n)
                            return !1 !== v && (v.forwardPosition = f),
                            v
                    }
                },
                pasteEvent: function(n) {
                    var i, a = this, r = n.originalEvent || n, o = e(a), s = a.inputmask._valueGet(!0), l = G(a);
                    q && (i = l.end,
                    l.end = l.begin,
                    l.begin = i);
                    var u = s.substr(0, l.begin)
                      , p = s.substr(l.end, s.length);
                    if (u === (q ? w().reverse() : w()).slice(0, l.begin).join("") && (u = ""),
                    p === (q ? w().reverse() : w()).slice(l.end).join("") && (p = ""),
                    q && (i = u,
                    u = p,
                    p = i),
                    t.clipboardData && t.clipboardData.getData)
                        s = u + t.clipboardData.getData("Text") + p;
                    else {
                        if (!r.clipboardData || !r.clipboardData.getData)
                            return !0;
                        s = u + r.clipboardData.getData("text/plain") + p
                    }
                    var f = s;
                    if (e.isFunction(c.onBeforePaste)) {
                        if (!1 === (f = c.onBeforePaste.call($, s, c)))
                            return n.preventDefault();
                        f || (f = s)
                    }
                    return T(a, !1, !1, q ? f.split("").reverse() : f.toString().split("")),
                    F(a, A(), _(v()), n, K !== A().join("")),
                    !0 === B(A()) && o.trigger("complete"),
                    n.preventDefault()
                },
                inputFallBackEvent: function(t) {
                    var n = this
                      , i = n.inputmask._valueGet();
                    if (A().join("") !== i) {
                        var r = G(n);
                        if (i = function(e, t, n) {
                            return "." === t.charAt(n.begin - 1) && "" !== c.radixPoint && ((t = t.split(""))[n.begin - 1] = c.radixPoint.charAt(0),
                            t = t.join("")),
                            t
                        }(0, i, r),
                        i = function(e, t, n) {
                            if (f) {
                                var i = t.replace(A().join(""), "");
                                if (1 === i.length) {
                                    var a = t.split("");
                                    a.splice(n.begin, 0, i),
                                    t = a.join("")
                                }
                            }
                            return t
                        }(0, i, r),
                        A().join("") !== i) {
                            var o = A().join("")
                              , s = i.length > o.length ? -1 : 0
                              , l = i.substr(0, r.begin)
                              , u = i.substr(r.begin)
                              , p = o.substr(0, r.begin + s)
                              , m = o.substr(r.begin + s)
                              , d = r
                              , h = ""
                              , g = !1;
                            if (l !== p) {
                                for (var v = (g = l.length >= p.length) ? l.length : p.length, k = 0; l.charAt(k) === p.charAt(k) && k < v; k++)
                                    ;
                                g && (0 === s && (d.begin = k),
                                h += l.slice(k, d.end))
                            }
                            if (u !== m && (u.length > m.length ? h += u.slice(0, 1) : u.length < m.length && (d.end += m.length - u.length,
                            g || "" === c.radixPoint || "" !== u || l.charAt(d.begin + s - 1) !== c.radixPoint || (d.begin--,
                            h = c.radixPoint))),
                            F(n, A(), {
                                begin: d.begin + s,
                                end: d.end + s
                            }),
                            h.length > 0)
                                e.each(h.split(""), function(t, i) {
                                    var a = new e.Event("keypress");
                                    a.which = i.charCodeAt(0),
                                    X = !1,
                                    ie.keypressEvent.call(n, a)
                                });
                            else {
                                d.begin === d.end - 1 && (d.begin = j(d.begin + 1),
                                d.begin === d.end - 1 ? G(n, d.begin) : G(n, d.begin, d.end));
                                var y = new e.Event("keydown");
                                y.keyCode = a.keyCode.DELETE,
                                ie.keydownEvent.call(n, y),
                                !1 === c.insertMode && G(n, G(n).begin - 1)
                            }
                            t.preventDefault()
                        }
                    }
                },
                setValueEvent: function(t) {
                    this.inputmask.refreshValue = !1;
                    var n = this
                      , i = n.inputmask._valueGet(!0);
                    e.isFunction(c.onBeforeMask) && (i = c.onBeforeMask.call($, i, c) || i),
                    i = i.split(""),
                    T(n, !0, !1, q ? i.reverse() : i),
                    K = A().join(""),
                    (c.clearMaskOnLostFocus || c.clearIncomplete) && n.inputmask._valueGet() === w().join("") && n.inputmask._valueSet("")
                },
                focusEvent: function(e) {
                    var t = this
                      , n = t.inputmask._valueGet();
                    c.showMaskOnFocus && (!c.showMaskOnHover || c.showMaskOnHover && "" === n) && (t.inputmask._valueGet() !== A().join("") ? F(t, A(), _(v())) : !1 === ee && G(t, _(v()))),
                    !0 === c.positionCaretOnTab && !1 === ee && "" !== n && (F(t, A(), G(t)),
                    ie.clickEvent.apply(t, [e, !0])),
                    K = A().join("")
                },
                mouseleaveEvent: function(e) {
                    var t = this;
                    if (ee = !1,
                    c.clearMaskOnLostFocus && n.activeElement !== t) {
                        var i = A().slice()
                          , a = t.inputmask._valueGet();
                        a !== t.getAttribute("placeholder") && "" !== a && (-1 === v() && a === w().join("") ? i = [] : I(i),
                        F(t, i))
                    }
                },
                clickEvent: function(t, a) {
                    function r(t) {
                        if ("" !== c.radixPoint) {
                            var n = h().validPositions;
                            if (n[t] === i || n[t].input === R(t)) {
                                if (t < _(-1))
                                    return !0;
                                var a = e.inArray(c.radixPoint, A());
                                if (-1 !== a) {
                                    for (var r in n)
                                        if (a < r && n[r].input !== R(r))
                                            return !1;
                                    return !0
                                }
                            }
                        }
                        return !1
                    }
                    var o = this;
                    setTimeout(function() {
                        if (n.activeElement === o) {
                            var e = G(o);
                            if (a && (q ? e.end = e.begin : e.begin = e.end),
                            e.begin === e.end)
                                switch (c.positionCaretOnClick) {
                                case "none":
                                    break;
                                case "radixFocus":
                                    if (r(e.begin)) {
                                        var t = A().join("").indexOf(c.radixPoint);
                                        G(o, c.numericInput ? _(t) : t);
                                        break
                                    }
                                default:
                                    var s = e.begin
                                      , l = v(s, !0)
                                      , u = _(l);
                                    if (s < u)
                                        G(o, O(s, !0) || O(s - 1, !0) ? s : _(s));
                                    else {
                                        var p = h().validPositions[l]
                                          , f = b(u, p ? p.match.locator : i, p)
                                          , m = R(u, f.match);
                                        if ("" !== m && A()[u] !== m && !0 !== f.match.optionalQuantifier && !0 !== f.match.newBlockMarker || !O(u, !0) && f.match.def === m) {
                                            var d = _(u);
                                            (s >= d || s === u) && (u = d)
                                        }
                                        G(o, u)
                                    }
                                }
                        }
                    }, 0)
                },
                dblclickEvent: function(e) {
                    var t = this;
                    setTimeout(function() {
                        G(t, 0, _(v()))
                    }, 0)
                },
                cutEvent: function(i) {
                    var r = this
                      , o = e(r)
                      , s = G(r)
                      , l = i.originalEvent || i
                      , u = t.clipboardData || l.clipboardData
                      , c = q ? A().slice(s.end, s.begin) : A().slice(s.begin, s.end);
                    u.setData("text", q ? c.reverse().join("") : c.join("")),
                    n.execCommand && n.execCommand("copy"),
                    U(r, a.keyCode.DELETE, s),
                    F(r, A(), h().p, i, K !== A().join("")),
                    r.inputmask._valueGet() === w().join("") && o.trigger("cleared")
                },
                blurEvent: function(t) {
                    var n = e(this)
                      , a = this;
                    if (a.inputmask) {
                        var r = a.inputmask._valueGet()
                          , o = A().slice();
                        "" === r && W === i || (c.clearMaskOnLostFocus && (-1 === v() && r === w().join("") ? o = [] : I(o)),
                        !1 === B(o) && (setTimeout(function() {
                            n.trigger("incomplete")
                        }, 0),
                        c.clearIncomplete && (g(),
                        o = c.clearMaskOnLostFocus ? [] : w().slice())),
                        F(a, o, i, t)),
                        K !== A().join("") && (K = o.join(""),
                        n.trigger("change"))
                    }
                },
                mouseenterEvent: function(e) {
                    var t = this;
                    ee = !0,
                    n.activeElement !== t && c.showMaskOnHover && t.inputmask._valueGet() !== A().join("") && F(t, A())
                },
                submitEvent: function(e) {
                    K !== A().join("") && z.trigger("change"),
                    c.clearMaskOnLostFocus && -1 === v() && Z.inputmask._valueGet && Z.inputmask._valueGet() === w().join("") && Z.inputmask._valueSet(""),
                    c.removeMaskOnSubmit && (Z.inputmask._valueSet(Z.inputmask.unmaskedvalue(), !0),
                    setTimeout(function() {
                        F(Z, A())
                    }, 0))
                },
                resetEvent: function(e) {
                    Z.inputmask.refreshValue = !0,
                    setTimeout(function() {
                        z.trigger("setvalue")
                    }, 0)
                }
            };
            a.prototype.positionColorMask = function(e, t) {
                e.style.left = t.offsetLeft + "px"
            }
            ;
            var ae;
            if (r !== i)
                switch (r.action) {
                case "isComplete":
                    return Z = r.el,
                    B(A());
                case "unmaskedvalue":
                    return Z !== i && r.value === i || (ae = r.value,
                    ae = (e.isFunction(c.onBeforeMask) ? c.onBeforeMask.call($, ae, c) || ae : ae).split(""),
                    T(i, !1, !1, q ? ae.reverse() : ae),
                    e.isFunction(c.onBeforeWrite) && c.onBeforeWrite.call($, i, A(), 0, c)),
                    N(Z);
                case "mask":
                    !function(t) {
                        ne.off(t);
                        var a = function(t, a) {
                            var r = t.getAttribute("type")
                              , s = "INPUT" === t.tagName && -1 !== e.inArray(r, a.supportsInputType) || t.isContentEditable || "TEXTAREA" === t.tagName;
                            if (!s)
                                if ("INPUT" === t.tagName) {
                                    var l = n.createElement("input");
                                    l.setAttribute("type", r),
                                    s = "text" === l.type,
                                    l = null
                                } else
                                    s = "partial";
                            return !1 !== s ? function(t) {
                                function r() {
                                    return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== v() || !0 !== a.nullable ? n.activeElement === this && a.clearMaskOnLostFocus ? (q ? I(A().slice()).reverse() : I(A().slice())).join("") : l.call(this) : "" : l.call(this)
                                }
                                function s(t) {
                                    u.call(this, t),
                                    this.inputmask && e(this).trigger("setvalue")
                                }
                                var l, u;
                                if (!t.inputmask.__valueGet) {
                                    if (!0 !== a.noValuePatching) {
                                        if (Object.getOwnPropertyDescriptor) {
                                            "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === o("test".__proto__) ? function(e) {
                                                return e.__proto__
                                            }
                                            : function(e) {
                                                return e.constructor.prototype
                                            }
                                            );
                                            var c = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(t), "value") : i;
                                            c && c.get && c.set ? (l = c.get,
                                            u = c.set,
                                            Object.defineProperty(t, "value", {
                                                get: r,
                                                set: s,
                                                configurable: !0
                                            })) : "INPUT" !== t.tagName && (l = function() {
                                                return this.textContent
                                            }
                                            ,
                                            u = function(e) {
                                                this.textContent = e
                                            }
                                            ,
                                            Object.defineProperty(t, "value", {
                                                get: r,
                                                set: s,
                                                configurable: !0
                                            }))
                                        } else
                                            n.__lookupGetter__ && t.__lookupGetter__("value") && (l = t.__lookupGetter__("value"),
                                            u = t.__lookupSetter__("value"),
                                            t.__defineGetter__("value", r),
                                            t.__defineSetter__("value", s));
                                        t.inputmask.__valueGet = l,
                                        t.inputmask.__valueSet = u
                                    }
                                    t.inputmask._valueGet = function(e) {
                                        return q && !0 !== e ? l.call(this.el).split("").reverse().join("") : l.call(this.el)
                                    }
                                    ,
                                    t.inputmask._valueSet = function(e, t) {
                                        u.call(this.el, null === e || e === i ? "" : !0 !== t && q ? e.split("").reverse().join("") : e)
                                    }
                                    ,
                                    l === i && (l = function() {
                                        return this.value
                                    }
                                    ,
                                    u = function(e) {
                                        this.value = e
                                    }
                                    ,
                                    function(t) {
                                        if (e.valHooks && (e.valHooks[t] === i || !0 !== e.valHooks[t].inputmaskpatch)) {
                                            var n = e.valHooks[t] && e.valHooks[t].get ? e.valHooks[t].get : function(e) {
                                                return e.value
                                            }
                                              , r = e.valHooks[t] && e.valHooks[t].set ? e.valHooks[t].set : function(e, t) {
                                                return e.value = t,
                                                e
                                            }
                                            ;
                                            e.valHooks[t] = {
                                                get: function(e) {
                                                    if (e.inputmask) {
                                                        if (e.inputmask.opts.autoUnmask)
                                                            return e.inputmask.unmaskedvalue();
                                                        var t = n(e);
                                                        return -1 !== v(i, i, e.inputmask.maskset.validPositions) || !0 !== a.nullable ? t : ""
                                                    }
                                                    return n(e)
                                                },
                                                set: function(t, n) {
                                                    var i, a = e(t);
                                                    return i = r(t, n),
                                                    t.inputmask && a.trigger("setvalue"),
                                                    i
                                                },
                                                inputmaskpatch: !0
                                            }
                                        }
                                    }(t.type),
                                    function(t) {
                                        ne.on(t, "mouseenter", function(t) {
                                            var n = e(this);
                                            this.inputmask._valueGet() !== A().join("") && n.trigger("setvalue")
                                        })
                                    }(t))
                                }
                            }(t) : t.inputmask = i,
                            s
                        }(t, c);
                        if (!1 !== a && (Z = t,
                        z = e(Z),
                        -1 === (Q = Z !== i ? Z.maxLength : i) && (Q = i),
                        !0 === c.colorMask && H(Z),
                        p && ("inputmode"in Z && (Z.inputmode = c.inputmode,
                        Z.setAttribute("inputmode", c.inputmode)),
                        !0 === c.disablePredictiveText && ("autocorrect"in Z ? Z.autocorrect = !1 : (!0 !== c.colorMask && H(Z),
                        Z.type = "password"))),
                        !0 === a && (ne.on(Z, "submit", ie.submitEvent),
                        ne.on(Z, "reset", ie.resetEvent),
                        ne.on(Z, "mouseenter", ie.mouseenterEvent),
                        ne.on(Z, "blur", ie.blurEvent),
                        ne.on(Z, "focus", ie.focusEvent),
                        ne.on(Z, "mouseleave", ie.mouseleaveEvent),
                        !0 !== c.colorMask && ne.on(Z, "click", ie.clickEvent),
                        ne.on(Z, "dblclick", ie.dblclickEvent),
                        ne.on(Z, "paste", ie.pasteEvent),
                        ne.on(Z, "dragdrop", ie.pasteEvent),
                        ne.on(Z, "drop", ie.pasteEvent),
                        ne.on(Z, "cut", ie.cutEvent),
                        ne.on(Z, "complete", c.oncomplete),
                        ne.on(Z, "incomplete", c.onincomplete),
                        ne.on(Z, "cleared", c.oncleared),
                        p || !0 === c.inputEventOnly ? Z.removeAttribute("maxLength") : (ne.on(Z, "keydown", ie.keydownEvent),
                        ne.on(Z, "keypress", ie.keypressEvent)),
                        ne.on(Z, "compositionstart", e.noop),
                        ne.on(Z, "compositionupdate", e.noop),
                        ne.on(Z, "compositionend", e.noop),
                        ne.on(Z, "keyup", e.noop),
                        ne.on(Z, "input", ie.inputFallBackEvent),
                        ne.on(Z, "beforeinput", e.noop)),
                        ne.on(Z, "setvalue", ie.setValueEvent),
                        K = w().join(""),
                        "" !== Z.inputmask._valueGet(!0) || !1 === c.clearMaskOnLostFocus || n.activeElement === Z)) {
                            var r = e.isFunction(c.onBeforeMask) ? c.onBeforeMask.call($, Z.inputmask._valueGet(!0), c) || Z.inputmask._valueGet(!0) : Z.inputmask._valueGet(!0);
                            "" !== r && T(Z, !0, !1, q ? r.split("").reverse() : r.split(""));
                            var s = A().slice();
                            K = s.join(""),
                            !1 === B(s) && c.clearIncomplete && g(),
                            c.clearMaskOnLostFocus && n.activeElement !== Z && (-1 === v() ? s = [] : I(s)),
                            F(Z, s),
                            n.activeElement === Z && G(Z, _(v()))
                        }
                    }(Z);
                    break;
                case "format":
                    return ae = (e.isFunction(c.onBeforeMask) ? c.onBeforeMask.call($, r.value, c) || r.value : r.value).split(""),
                    T(i, !0, !1, q ? ae.reverse() : ae),
                    r.metadata ? {
                        value: q ? A().slice().reverse().join("") : A().join(""),
                        metadata: u.call(this, {
                            action: "getmetadata"
                        }, s, c)
                    } : q ? A().slice().reverse().join("") : A().join("");
                case "isValid":
                    r.value ? (ae = r.value.split(""),
                    T(i, !0, !0, q ? ae.reverse() : ae)) : r.value = A().join("");
                    for (var re = A(), oe = L(), se = re.length - 1; se > oe && !O(se); se--)
                        ;
                    return re.splice(oe, se + 1 - oe),
                    B(re) && r.value === A().join("");
                case "getemptymask":
                    return w().join("");
                case "remove":
                    if (Z && Z.inputmask) {
                        z = e(Z),
                        Z.inputmask._valueSet(c.autoUnmask ? N(Z) : Z.inputmask._valueGet(!0)),
                        ne.off(Z),
                        Z.inputmask.colorMask && ((W = Z.inputmask.colorMask).removeChild(Z),
                        W.parentNode.insertBefore(Z, W),
                        W.parentNode.removeChild(W));
                        Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Z), "value") && Z.inputmask.__valueGet && Object.defineProperty(Z, "value", {
                            get: Z.inputmask.__valueGet,
                            set: Z.inputmask.__valueSet,
                            configurable: !0
                        }) : n.__lookupGetter__ && Z.__lookupGetter__("value") && Z.inputmask.__valueGet && (Z.__defineGetter__("value", Z.inputmask.__valueGet),
                        Z.__defineSetter__("value", Z.inputmask.__valueSet)),
                        Z.inputmask = i
                    }
                    return Z;
                case "getmetadata":
                    if (e.isArray(s.metadata)) {
                        var le = d(!0, 0, !1).join("");
                        return e.each(s.metadata, function(e, t) {
                            if (t.mask === le)
                                return le = t,
                                !1
                        }),
                        le
                    }
                    return s.metadata
                }
        }
        var c = navigator.userAgent
          , p = l("touchstart")
          , f = /iemobile/i.test(c)
          , m = /iphone/i.test(c) && !f;
        return a.prototype = {
            dataAttribute: "data-inputmask",
            defaults: {
                placeholder: "_",
                optionalmarker: ["[", "]"],
                quantifiermarker: ["{", "}"],
                groupmarker: ["(", ")"],
                alternatormarker: "|",
                escapeChar: "\\",
                mask: null,
                regex: null,
                oncomplete: e.noop,
                onincomplete: e.noop,
                oncleared: e.noop,
                repeat: 0,
                greedy: !0,
                autoUnmask: !1,
                removeMaskOnSubmit: !1,
                clearMaskOnLostFocus: !0,
                insertMode: !0,
                clearIncomplete: !1,
                alias: null,
                onKeyDown: e.noop,
                onBeforeMask: null,
                onBeforePaste: function(t, n) {
                    return e.isFunction(n.onBeforeMask) ? n.onBeforeMask.call(this, t, n) : t
                },
                onBeforeWrite: null,
                onUnMask: null,
                showMaskOnFocus: !0,
                showMaskOnHover: !0,
                onKeyValidation: e.noop,
                skipOptionalPartCharacter: " ",
                numericInput: !1,
                rightAlign: !1,
                undoOnEscape: !0,
                radixPoint: "",
                radixPointDefinitionSymbol: i,
                groupSeparator: "",
                keepStatic: null,
                positionCaretOnTab: !0,
                tabThrough: !1,
                supportsInputType: ["text", "tel", "password", "search"],
                ignorables: [8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229],
                isComplete: null,
                canClearPosition: e.noop,
                preValidation: null,
                postValidation: null,
                staticDefinitionSymbol: i,
                jitMasking: !1,
                nullable: !0,
                inputEventOnly: !1,
                noValuePatching: !1,
                positionCaretOnClick: "lvp",
                casing: null,
                inputmode: "verbatim",
                colorMask: !1,
                disablePredictiveText: !1,
                importDataAttributes: !0
            },
            definitions: {
                9: {
                    validator: "[0-9-]",
                    definitionSymbol: "*"
                },
                a: {
                    validator: "[A-Za-z--]",
                    definitionSymbol: "*"
                },
                "*": {
                    validator: "[0-9-A-Za-z--]"
                }
            },
            aliases: {},
            masksCache: {},
            mask: function(o) {
                function l(n, a, o, s) {
                    if (!0 === a.importDataAttributes) {
                        var l, u, c, p, f = function(e, a) {
                            null !== (a = a !== i ? a : n.getAttribute(s + "-" + e)) && ("string" == typeof a && (0 === e.indexOf("on") ? a = t[a] : "false" === a ? a = !1 : "true" === a && (a = !0)),
                            o[e] = a)
                        }, m = n.getAttribute(s);
                        if (m && "" !== m && (m = m.replace(new RegExp("'","g"), '"'),
                        u = JSON.parse("{" + m + "}")),
                        u) {
                            c = i;
                            for (p in u)
                                if ("alias" === p.toLowerCase()) {
                                    c = u[p];
                                    break
                                }
                        }
                        f("alias", c),
                        o.alias && r(o.alias, o, a);
                        for (l in a) {
                            if (u) {
                                c = i;
                                for (p in u)
                                    if (p.toLowerCase() === l.toLowerCase()) {
                                        c = u[p];
                                        break
                                    }
                            }
                            f(l, c)
                        }
                    }
                    return e.extend(!0, a, o),
                    ("rtl" === n.dir || a.rightAlign) && (n.style.textAlign = "right"),
                    ("rtl" === n.dir || a.numericInput) && (n.dir = "ltr",
                    n.removeAttribute("dir"),
                    a.isRTL = !0),
                    a
                }
                var c = this;
                return "string" == typeof o && (o = n.getElementById(o) || n.querySelectorAll(o)),
                o = o.nodeName ? [o] : o,
                e.each(o, function(t, n) {
                    var r = e.extend(!0, {}, c.opts);
                    l(n, r, e.extend(!0, {}, c.userOptions), c.dataAttribute);
                    var o = s(r, c.noMasksCache);
                    o !== i && (n.inputmask !== i && (n.inputmask.opts.autoUnmask = !0,
                    n.inputmask.remove()),
                    n.inputmask = new a(i,i,!0),
                    n.inputmask.opts = r,
                    n.inputmask.noMasksCache = c.noMasksCache,
                    n.inputmask.userOptions = e.extend(!0, {}, c.userOptions),
                    n.inputmask.isRTL = r.isRTL || r.numericInput,
                    n.inputmask.el = n,
                    n.inputmask.maskset = o,
                    e.data(n, "_inputmask_opts", r),
                    u.call(n.inputmask, {
                        action: "mask"
                    }))
                }),
                o && o[0] ? o[0].inputmask || this : this
            },
            option: function(t, n) {
                return "string" == typeof t ? this.opts[t] : "object" === (void 0 === t ? "undefined" : o(t)) ? (e.extend(this.userOptions, t),
                this.el && !0 !== n && this.mask(this.el),
                this) : void 0
            },
            unmaskedvalue: function(e) {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "unmaskedvalue",
                    value: e
                })
            },
            remove: function() {
                return u.call(this, {
                    action: "remove"
                })
            },
            getemptymask: function() {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "getemptymask"
                })
            },
            hasMaskedValue: function() {
                return !this.opts.autoUnmask
            },
            isComplete: function() {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "isComplete"
                })
            },
            getmetadata: function() {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "getmetadata"
                })
            },
            isValid: function(e) {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "isValid",
                    value: e
                })
            },
            format: function(e, t) {
                return this.maskset = this.maskset || s(this.opts, this.noMasksCache),
                u.call(this, {
                    action: "format",
                    value: e,
                    metadata: t
                })
            },
            analyseMask: function(t, n, r) {
                function o(e, t, n, i) {
                    this.matches = [],
                    this.openGroup = e || !1,
                    this.alternatorGroup = !1,
                    this.isGroup = e || !1,
                    this.isOptional = t || !1,
                    this.isQuantifier = n || !1,
                    this.isAlternator = i || !1,
                    this.quantifier = {
                        min: 1,
                        max: 1
                    }
                }
                function s(t, o, s) {
                    s = s !== i ? s : t.matches.length;
                    var l = t.matches[s - 1];
                    if (n)
                        0 === o.indexOf("[") || b && /\\d|\\s|\\w]/i.test(o) || "." === o ? t.matches.splice(s++, 0, {
                            fn: new RegExp(o,r.casing ? "i" : ""),
                            optionality: t.isOptional,
                            newBlockMarker: l === i || l.def !== o,
                            casing: null,
                            def: o,
                            placeholder: i,
                            nativeDef: o
                        }) : (b && (o = o[o.length - 1]),
                        e.each(o.split(""), function(e, n) {
                            l = t.matches[s - 1],
                            t.matches.splice(s++, 0, {
                                fn: null,
                                optionality: t.isOptional,
                                newBlockMarker: l === i || l.def !== n && null !== l.fn,
                                casing: null,
                                def: r.staticDefinitionSymbol || n,
                                placeholder: r.staticDefinitionSymbol !== i ? n : i,
                                nativeDef: n
                            })
                        })),
                        b = !1;
                    else {
                        var u = (r.definitions ? r.definitions[o] : i) || a.prototype.definitions[o];
                        u && !b ? t.matches.splice(s++, 0, {
                            fn: u.validator ? "string" == typeof u.validator ? new RegExp(u.validator,r.casing ? "i" : "") : new function() {
                                this.test = u.validator
                            }
                            : new RegExp("."),
                            optionality: t.isOptional,
                            newBlockMarker: l === i || l.def !== (u.definitionSymbol || o),
                            casing: u.casing,
                            def: u.definitionSymbol || o,
                            placeholder: u.placeholder,
                            nativeDef: o
                        }) : (t.matches.splice(s++, 0, {
                            fn: null,
                            optionality: t.isOptional,
                            newBlockMarker: l === i || l.def !== o && null !== l.fn,
                            casing: null,
                            def: r.staticDefinitionSymbol || o,
                            placeholder: r.staticDefinitionSymbol !== i ? o : i,
                            nativeDef: o
                        }),
                        b = !1)
                    }
                }
                function l(t) {
                    t && t.matches && e.each(t.matches, function(e, a) {
                        var o = t.matches[e + 1];
                        (o === i || o.matches === i || !1 === o.isQuantifier) && a && a.isGroup && (a.isGroup = !1,
                        n || (s(a, r.groupmarker[0], 0),
                        !0 !== a.openGroup && s(a, r.groupmarker[1]))),
                        l(a)
                    })
                }
                function u() {
                    if (P.length > 0) {
                        if (d = P[P.length - 1],
                        s(d, f),
                        d.isAlternator) {
                            h = P.pop();
                            for (var e = 0; e < h.matches.length; e++)
                                h.matches[e].isGroup = !1;
                            P.length > 0 ? (d = P[P.length - 1]).matches.push(h) : x.matches.push(h)
                        }
                    } else
                        s(x, f)
                }
                function c(e) {
                    e.matches = e.matches.reverse();
                    for (var t in e.matches)
                        if (e.matches.hasOwnProperty(t)) {
                            var n = parseInt(t);
                            if (e.matches[t].isQuantifier && e.matches[n + 1] && e.matches[n + 1].isGroup) {
                                var a = e.matches[t];
                                e.matches.splice(t, 1),
                                e.matches.splice(n + 1, 0, a)
                            }
                            e.matches[t].matches !== i ? e.matches[t] = c(e.matches[t]) : e.matches[t] = function(e) {
                                return e === r.optionalmarker[0] ? e = r.optionalmarker[1] : e === r.optionalmarker[1] ? e = r.optionalmarker[0] : e === r.groupmarker[0] ? e = r.groupmarker[1] : e === r.groupmarker[1] && (e = r.groupmarker[0]),
                                e
                            }(e.matches[t])
                        }
                    return e
                }
                var p, f, m, d, h, g, v, k = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, y = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, b = !1, x = new o, P = [], S = [];
                for (n && (r.optionalmarker[0] = i,
                r.optionalmarker[1] = i); p = n ? y.exec(t) : k.exec(t); ) {
                    if (f = p[0],
                    n)
                        switch (f.charAt(0)) {
                        case "?":
                            f = "{0,1}";
                            break;
                        case "+":
                        case "*":
                            f = "{" + f + "}"
                        }
                    if (b)
                        u();
                    else
                        switch (f.charAt(0)) {
                        case r.escapeChar:
                            b = !0,
                            n && u();
                            break;
                        case r.optionalmarker[1]:
                        case r.groupmarker[1]:
                            if (m = P.pop(),
                            m.openGroup = !1,
                            m !== i)
                                if (P.length > 0) {
                                    if ((d = P[P.length - 1]).matches.push(m),
                                    d.isAlternator) {
                                        h = P.pop();
                                        for (var w = 0; w < h.matches.length; w++)
                                            h.matches[w].isGroup = !1,
                                            h.matches[w].alternatorGroup = !1;
                                        P.length > 0 ? (d = P[P.length - 1]).matches.push(h) : x.matches.push(h)
                                    }
                                } else
                                    x.matches.push(m);
                            else
                                u();
                            break;
                        case r.optionalmarker[0]:
                            P.push(new o(!1,!0));
                            break;
                        case r.groupmarker[0]:
                            P.push(new o(!0));
                            break;
                        case r.quantifiermarker[0]:
                            var A = new o(!1,!1,!0)
                              , C = (f = f.replace(/[{}]/g, "")).split(",")
                              , E = isNaN(C[0]) ? C[0] : parseInt(C[0])
                              , M = 1 === C.length ? E : isNaN(C[1]) ? C[1] : parseInt(C[1]);
                            if ("*" !== M && "+" !== M || (E = "*" === M ? 0 : 1),
                            A.quantifier = {
                                min: E,
                                max: M
                            },
                            P.length > 0) {
                                var D = P[P.length - 1].matches;
                                (p = D.pop()).isGroup || ((v = new o(!0)).matches.push(p),
                                p = v),
                                D.push(p),
                                D.push(A)
                            } else
                                (p = x.matches.pop()).isGroup || (n && null === p.fn && "." === p.def && (p.fn = new RegExp(p.def,r.casing ? "i" : "")),
                                (v = new o(!0)).matches.push(p),
                                p = v),
                                x.matches.push(p),
                                x.matches.push(A);
                            break;
                        case r.alternatormarker:
                            if (P.length > 0) {
                                var O = (d = P[P.length - 1]).matches[d.matches.length - 1];
                                g = d.openGroup && (O.matches === i || !1 === O.isGroup && !1 === O.isAlternator) ? P.pop() : d.matches.pop()
                            } else
                                g = x.matches.pop();
                            if (g.isAlternator)
                                P.push(g);
                            else if (g.alternatorGroup ? (h = P.pop(),
                            g.alternatorGroup = !1) : h = new o(!1,!1,!1,!0),
                            h.matches.push(g),
                            P.push(h),
                            g.openGroup) {
                                g.openGroup = !1;
                                var _ = new o(!0);
                                _.alternatorGroup = !0,
                                P.push(_)
                            }
                            break;
                        default:
                            u()
                        }
                }
                for (; P.length > 0; )
                    m = P.pop(),
                    x.matches.push(m);
                return x.matches.length > 0 && (l(x),
                S.push(x)),
                (r.numericInput || r.isRTL) && c(S[0]),
                S
            }
        },
        a.extendDefaults = function(t) {
            e.extend(!0, a.prototype.defaults, t)
        }
        ,
        a.extendDefinitions = function(t) {
            e.extend(!0, a.prototype.definitions, t)
        }
        ,
        a.extendAliases = function(t) {
            e.extend(!0, a.prototype.aliases, t)
        }
        ,
        a.format = function(e, t, n) {
            return a(t).format(e, n)
        }
        ,
        a.unmask = function(e, t) {
            return a(t).unmaskedvalue(e)
        }
        ,
        a.isValid = function(e, t) {
            return a(t).isValid(e)
        }
        ,
        a.remove = function(t) {
            e.each(t, function(e, t) {
                t.inputmask && t.inputmask.remove()
            })
        }
        ,
        a.escapeRegex = function(e) {
            var t = ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"];
            return e.replace(new RegExp("(\\" + t.join("|\\") + ")","gim"), "\\$1")
        }
        ,
        a.keyCode = {
            BACKSPACE: 8,
            BACKSPACE_SAFARI: 127,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            INSERT: 45,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38,
            X: 88,
            CONTROL: 17
        },
        a
    })
}
, function(e, t) {
    e.exports = jQuery
}
, function(e, t, n) {
    "use strict";
    function i(e) {
        return e && e.__esModule ? e : {
            default: e
        }
    }
    n(4),
    n(9),
    n(12),
    n(13),
    n(14);
    var a = i(n(1))
      , r = i(n(0))
      , o = i(n(2));
    r.default === o.default && n(15),
    window.Inputmask = a.default
}
, function(e, t, n) {
    var i = n(5);
    "string" == typeof i && (i = [[e.i, i, ""]]);
    var a = {
        hmr: !0
    };
    a.transform = void 0;
    n(7)(i, a);
    i.locals && (e.exports = i.locals)
}
, function(e, t, n) {
    (e.exports = n(6)(void 0)).push([e.i, "mark.im-caret {\n    -webkit-animation: 1s blink step-end infinite !important;\n            animation: 1s blink step-end infinite !important;\n}\n\nmark.im-caret-select {\n    background-color: rgba(0, 0, 0, .25);\n}\n\n@-webkit-keyframes blink {\n    from, to {\n        border-right-color: black;\n    }\n    50% {\n        border-right-color: transparent;\n    }\n}\n\n@keyframes blink {\n    from, to {\n        border-right-color: black;\n    }\n    50% {\n        border-right-color: transparent;\n    }\n}\n\nspan.im-static {\n    color: grey;\n}\n\ndiv.im-colormask {\n    display: inline-block;\n    border-style: inset;\n    border-width: 2px;\n    -webkit-appearance: textfield;\n       -moz-appearance: textfield;\n            appearance: textfield;\n}\n\ndiv.im-colormask > input {\n    position: absolute !important;\n    display: inline-block;\n    background-color: transparent;\n    color: transparent;\n    caret-color: transparent;\n    -webkit-appearance: caret;\n       -moz-appearance: caret;\n            appearance: caret;\n    border-style: none;\n    left: 0; /*calculated*/\n}\n\ndiv.im-colormask > input:focus {\n    outline: none;\n}\n\ndiv.im-colormask > input::-moz-selection{\n    background: none;\n}\n\ndiv.im-colormask > input::selection{\n    background: none;\n}\ndiv.im-colormask > input::-moz-selection{\n    background: none;\n}\n\ndiv.im-colormask > div {\n    color: black;\n    display: inline-block;\n    width: 100px; /*calculated*/\n}", ""])
}
, function(e, t) {
    function n(e, t) {
        var n = e[1] || ""
          , a = e[3];
        if (!a)
            return n;
        if (t && "function" == typeof btoa) {
            var r = i(a)
              , o = a.sources.map(function(e) {
                return "/*# sourceURL=" + a.sourceRoot + e + " */"
            });
            return [n].concat(o).concat([r]).join("\n")
        }
        return [n].join("\n")
    }
    function i(e) {
        return "/*# " + ("sourceMappingURL=data:application/json;charset=utf-8;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(e))))) + " */"
    }
    e.exports = function(e) {
        var t = [];
        return t.toString = function() {
            return this.map(function(t) {
                var i = n(t, e);
                return t[2] ? "@media " + t[2] + "{" + i + "}" : i
            }).join("")
        }
        ,
        t.i = function(e, n) {
            "string" == typeof e && (e = [[null, e, ""]]);
            for (var i = {}, a = 0; a < this.length; a++) {
                var r = this[a][0];
                "number" == typeof r && (i[r] = !0)
            }
            for (a = 0; a < e.length; a++) {
                var o = e[a];
                "number" == typeof o[0] && i[o[0]] || (n && !o[2] ? o[2] = n : n && (o[2] = "(" + o[2] + ") and (" + n + ")"),
                t.push(o))
            }
        }
        ,
        t
    }
}
, function(e, t, n) {
    function i(e, t) {
        for (var n = 0; n < e.length; n++) {
            var i = e[n]
              , a = d[i.id];
            if (a) {
                a.refs++;
                for (o = 0; o < a.parts.length; o++)
                    a.parts[o](i.parts[o]);
                for (; o < i.parts.length; o++)
                    a.parts.push(c(i.parts[o], t))
            } else {
                for (var r = [], o = 0; o < i.parts.length; o++)
                    r.push(c(i.parts[o], t));
                d[i.id] = {
                    id: i.id,
                    refs: 1,
                    parts: r
                }
            }
        }
    }
    function a(e, t) {
        for (var n = [], i = {}, a = 0; a < e.length; a++) {
            var r = e[a]
              , o = t.base ? r[0] + t.base : r[0]
              , s = {
                css: r[1],
                media: r[2],
                sourceMap: r[3]
            };
            i[o] ? i[o].parts.push(s) : n.push(i[o] = {
                id: o,
                parts: [s]
            })
        }
        return n
    }
    function r(e, t) {
        var n = g(e.insertInto);
        if (!n)
            throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
        var i = y[y.length - 1];
        if ("top" === e.insertAt)
            i ? i.nextSibling ? n.insertBefore(t, i.nextSibling) : n.appendChild(t) : n.insertBefore(t, n.firstChild),
            y.push(t);
        else if ("bottom" === e.insertAt)
            n.appendChild(t);
        else {
            if ("object" != typeof e.insertAt || !e.insertAt.before)
                throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
            var a = g(e.insertInto + " " + e.insertAt.before);
            n.insertBefore(t, a)
        }
    }
    function o(e) {
        if (null === e.parentNode)
            return !1;
        e.parentNode.removeChild(e);
        var t = y.indexOf(e);
        t >= 0 && y.splice(t, 1)
    }
    function s(e) {
        var t = document.createElement("style");
        return e.attrs.type = "text/css",
        u(t, e.attrs),
        r(e, t),
        t
    }
    function l(e) {
        var t = document.createElement("link");
        return e.attrs.type = "text/css",
        e.attrs.rel = "stylesheet",
        u(t, e.attrs),
        r(e, t),
        t
    }
    function u(e, t) {
        Object.keys(t).forEach(function(n) {
            e.setAttribute(n, t[n])
        })
    }
    function c(e, t) {
        var n, i, a, r;
        if (t.transform && e.css) {
            if (!(r = t.transform(e.css)))
                return function() {}
                ;
            e.css = r
        }
        if (t.singleton) {
            var u = k++;
            n = v || (v = s(t)),
            i = p.bind(null, n, u, !1),
            a = p.bind(null, n, u, !0)
        } else
            e.sourceMap && "function" == typeof URL && "function" == typeof URL.createObjectURL && "function" == typeof URL.revokeObjectURL && "function" == typeof Blob && "function" == typeof btoa ? (n = l(t),
            i = m.bind(null, n, t),
            a = function() {
                o(n),
                n.href && URL.revokeObjectURL(n.href)
            }
            ) : (n = s(t),
            i = f.bind(null, n),
            a = function() {
                o(n)
            }
            );
        return i(e),
        function(t) {
            if (t) {
                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap)
                    return;
                i(e = t)
            } else
                a()
        }
    }
    function p(e, t, n, i) {
        var a = n ? "" : i.css;
        if (e.styleSheet)
            e.styleSheet.cssText = x(t, a);
        else {
            var r = document.createTextNode(a)
              , o = e.childNodes;
            o[t] && e.removeChild(o[t]),
            o.length ? e.insertBefore(r, o[t]) : e.appendChild(r)
        }
    }
    function f(e, t) {
        var n = t.css
          , i = t.media;
        if (i && e.setAttribute("media", i),
        e.styleSheet)
            e.styleSheet.cssText = n;
        else {
            for (; e.firstChild; )
                e.removeChild(e.firstChild);
            e.appendChild(document.createTextNode(n))
        }
    }
    function m(e, t, n) {
        var i = n.css
          , a = n.sourceMap
          , r = void 0 === t.convertToAbsoluteUrls && a;
        (t.convertToAbsoluteUrls || r) && (i = b(i)),
        a && (i += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(a)))) + " */");
        var o = new Blob([i],{
            type: "text/css"
        })
          , s = e.href;
        e.href = URL.createObjectURL(o),
        s && URL.revokeObjectURL(s)
    }
    var d = {}
      , h = function(e) {
        var t;
        return function() {
            return void 0 === t && (t = e.apply(this, arguments)),
            t
        }
    }(function() {
        return window && document && document.all && !window.atob
    })
      , g = function(e) {
        var t = {};
        return function(n) {
            if (void 0 === t[n]) {
                var i = e.call(this, n);
                if (i instanceof window.HTMLIFrameElement)
                    try {
                        i = i.contentDocument.head
                    } catch (e) {
                        i = null
                    }
                t[n] = i
            }
            return t[n]
        }
    }(function(e) {
        return document.querySelector(e)
    })
      , v = null
      , k = 0
      , y = []
      , b = n(8);
    e.exports = function(e, t) {
        if ("undefined" != typeof DEBUG && DEBUG && "object" != typeof document)
            throw new Error("The style-loader cannot be used in a non-browser environment");
        (t = t || {}).attrs = "object" == typeof t.attrs ? t.attrs : {},
        t.singleton || (t.singleton = h()),
        t.insertInto || (t.insertInto = "head"),
        t.insertAt || (t.insertAt = "bottom");
        var n = a(e, t);
        return i(n, t),
        function(e) {
            for (var r = [], o = 0; o < n.length; o++) {
                var s = n[o];
                (l = d[s.id]).refs--,
                r.push(l)
            }
            e && i(a(e, t), t);
            for (o = 0; o < r.length; o++) {
                var l = r[o];
                if (0 === l.refs) {
                    for (var u = 0; u < l.parts.length; u++)
                        l.parts[u]();
                    delete d[l.id]
                }
            }
        }
    }
    ;
    var x = function() {
        var e = [];
        return function(t, n) {
            return e[t] = n,
            e.filter(Boolean).join("\n")
        }
    }()
}
, function(e, t) {
    e.exports = function(e) {
        var t = "undefined" != typeof window && window.location;
        if (!t)
            throw new Error("fixUrls requires window.location");
        if (!e || "string" != typeof e)
            return e;
        var n = t.protocol + "//" + t.host
          , i = n + t.pathname.replace(/\/[^\/]*$/, "/");
        return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(e, t) {
            var a = t.trim().replace(/^"(.*)"$/, function(e, t) {
                return t
            }).replace(/^'(.*)'$/, function(e, t) {
                return t
            });
            if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))
                return e;
            var r;
            return r = 0 === a.indexOf("//") ? a : 0 === a.indexOf("/") ? n + a : i + a.replace(/^\.\//, ""),
            "url(" + JSON.stringify(r) + ")"
        })
    }
}
, function(e, t, n) {
    "use strict";
    var i, a, r;
    "function" == typeof Symbol && Symbol.iterator;
    !function(o) {
        a = [n(0), n(1)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t) {
        function n(e) {
            if (!e.tokenizer) {
                var t = [];
                for (var n in l)
                    -1 === t.indexOf(n[0]) && t.push(n[0]);
                e.tokenizer = "(" + t.join("+|") + ")+?|.",
                e.tokenizer = new RegExp(e.tokenizer,"g")
            }
            return e.tokenizer
        }
        function i(e, t) {
            return (!isFinite(e.day) || "29" == e.day && !isFinite(e.rawyear) || new Date(e.date.getFullYear(),isFinite(e.month) ? e.month : e.date.getMonth() + 1,0).getDate() >= e.day) && t
        }
        function a(e, t) {
            var n = !0;
            return t.min && t.min.date.getTime() === t.min.date.getTime() && (n = n && t.min.date.getTime() <= e.getTime()),
            t.max && t.max.date.getTime() === t.max.date.getTime() && (n = n && t.max.date.getTime() >= e.getTime()),
            n
        }
        function r(e, t, i) {
            for (var a, r = ""; a = n(i).exec(e); )
                void 0 === t ? r += l[a[0]] ? "(" + l[a[0]][0] + ")" : a[0] : l[a[0]] ? r += l[a[0]][3].call(t.date) : r += a[0];
            return r
        }
        function o(e, t) {
            for (e = String(e),
            t = t || 2; e.length < t; )
                e = "0" + e;
            return e
        }
        function s(e, t, i) {
            function a(e) {
                var t = 4 === e.length ? e : (new Date).getFullYear().toString().substr(0, 4 - e.length) + e;
                return i.min && i.min.year && i.max && i.max.year ? (t = t.replace(/[^0-9]/g, ""),
                t = e.charAt(0) === i.max.year.charAt(0) ? e.replace(/[^0-9]/g, "0") : t + i.min.year.substr(t.length)) : t = t.replace(/[^0-9]/g, "0"),
                t
            }
            var r, o, s, u = {
                date: new Date(1,0,1)
            }, c = e;
            if ("string" == typeof c) {
                for (; o = n(i).exec(t); ) {
                    var p = c.slice(0, o[0].length);
                    l.hasOwnProperty(o[0]) && (r = l[o[0]][2],
                    s = l[o[0]][1],
                    function(e, t, n) {
                        "year" === r ? (e[r] = a(t),
                        e["raw" + r] = t) : e[r] = n.min && t.match(/[^0-9]/) ? n.min[r] : t,
                        void 0 !== s && s.call(e.date, "month" == r ? parseInt(e[r]) - 1 : e[r])
                    }(u, p, i)),
                    c = c.slice(p.length)
                }
                return u
            }
        }
        var l = {
            d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate],
            dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function() {
                return o(Date.prototype.getDate.call(this), 2)
            }
            ],
            ddd: [""],
            dddd: [""],
            m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return Date.prototype.getMonth.call(this) + 1
            }
            ],
            mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return o(Date.prototype.getMonth.call(this) + 1, 2)
            }
            ],
            mmm: [""],
            mmmm: [""],
            yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function() {
                return o(Date.prototype.getFullYear.call(this), 2)
            }
            ],
            yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function() {
                return o(Date.prototype.getFullYear.call(this), 4)
            }
            ],
            h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours],
            hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function() {
                return o(Date.prototype.getHours.call(this), 2)
            }
            ],
            hhh: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours],
            H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours],
            HH: ["[01][0-9]|2[0-3]", Date.prototype.setHours, "hours", function() {
                return o(Date.prototype.getHours.call(this), 2)
            }
            ],
            HHH: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours],
            M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes],
            MM: ["[0-5][0-9]", Date.prototype.setMinutes, "minutes", function() {
                return o(Date.prototype.getMinutes.call(this), 2)
            }
            ],
            s: ["[1-5]?[0-9]", Date.prototype.setSeconds, "seconds", Date.prototype.getSeconds],
            ss: ["[0-5][0-9]", Date.prototype.setSeconds, "seconds", function() {
                return o(Date.prototype.getSeconds.call(this), 2)
            }
            ],
            l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return o(Date.prototype.getMilliseconds.call(this), 3)
            }
            ],
            L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return o(Date.prototype.getMilliseconds.call(this), 2)
            }
            ],
            t: [""],
            tt: [""],
            T: [""],
            TT: [""],
            Z: [""],
            o: [""],
            S: [""]
        }
          , u = {
            isoDate: "yyyy-mm-dd",
            isoTime: "HH:MM:ss",
            isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
            isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
        };
        return t.extendAliases({
            datetime: {
                mask: function(e) {
                    return e.inputFormat = u[e.inputFormat] || e.inputFormat,
                    e.displayFormat = u[e.displayFormat] || e.displayFormat || e.inputFormat,
                    e.outputFormat = u[e.outputFormat] || e.outputFormat || e.inputFormat,
                    e.placeholder = e.placeholder !== t.prototype.defaults.placeholder ? e.placeholder : e.inputFormat,
                    e.min = s(e.min, e.inputFormat, e),
                    e.max = s(e.max, e.inputFormat, e),
                    e.regex = r(e.inputFormat, void 0, e),
                    null
                },
                inputFormat: "isoDateTime",
                displayFormat: void 0,
                outputFormat: void 0,
                min: null,
                max: null,
                i18n: {
                    dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
                    monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
                },
                postValidation: function(e, t, n) {
                    var r = t
                      , o = s(e.join(""), n.inputFormat, n);
                    return r && o.date.getTime() === o.date.getTime() && (r = (r = i(o, r)) && a(o.date, n)),
                    r
                },
                onKeyDown: function(i, a, r, o) {
                    var s = this;
                    if (i.ctrlKey && i.keyCode === t.keyCode.RIGHT) {
                        for (var l, u = new Date, c = ""; l = n(o).exec(o.inputFormat); )
                            "d" === l[0].charAt(0) ? c += u.getDate().toString() : "m" === l[0].charAt(0) ? c += (u.getMonth() + 1).toString() : "yyyy" === l[0] ? c += u.getFullYear().toString() : "yy" === l[0] && (c += u.getYear().toString());
                        s.inputmask._valueSet(c),
                        e(s).trigger("setvalue")
                    }
                },
                onUnMask: function(e, t, n) {
                    return r(n.outputFormat, s(e, n.inputFormat, n), n)
                },
                insertMode: !1
            }
        }),
        t
    })
}
, function(e, t, n) {
    "use strict";
    var i;
    "function" == typeof Symbol && Symbol.iterator;
    void 0 !== (i = function() {
        return window
    }
    .call(t, n, t, e)) && (e.exports = i)
}
, function(e, t, n) {
    "use strict";
    var i;
    "function" == typeof Symbol && Symbol.iterator;
    void 0 !== (i = function() {
        return document
    }
    .call(t, n, t, e)) && (e.exports = i)
}
, function(e, t, n) {
    "use strict";
    var i, a, r;
    "function" == typeof Symbol && Symbol.iterator;
    !function(o) {
        a = [n(0), n(1)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t) {
        return t.extendDefinitions({
            A: {
                validator: "[A-Za-z--]",
                casing: "upper"
            },
            "&": {
                validator: "[0-9A-Za-z--]",
                casing: "upper"
            },
            "#": {
                validator: "[0-9A-Fa-f]",
                casing: "upper"
            }
        }),
        t.extendAliases({
            url: {
                definitions: {
                    i: {
                        validator: "."
                    }
                },
                mask: "(\\http://)|(\\http\\s://)|(ftp://)|(ftp\\s://)i{+}",
                insertMode: !1,
                autoUnmask: !1,
                inputmode: "url"
            },
            ip: {
                mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]",
                definitions: {
                    i: {
                        validator: function(e, t, n, i, a) {
                            return n - 1 > -1 && "." !== t.buffer[n - 1] ? (e = t.buffer[n - 1] + e,
                            e = n - 2 > -1 && "." !== t.buffer[n - 2] ? t.buffer[n - 2] + e : "0" + e) : e = "00" + e,
                            new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(e)
                        }
                    }
                },
                onUnMask: function(e, t, n) {
                    return e
                },
                inputmode: "numeric"
            },
            email: {
                mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",
                greedy: !1,
                onBeforePaste: function(e, t) {
                    return (e = e.toLowerCase()).replace("mailto:", "")
                },
                definitions: {
                    "*": {
                        validator: "[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",
                        casing: "lower"
                    },
                    "-": {
                        validator: "[0-9A-Za-z-]",
                        casing: "lower"
                    }
                },
                onUnMask: function(e, t, n) {
                    return e
                },
                inputmode: "email"
            },
            mac: {
                mask: "##:##:##:##:##:##"
            },
            vin: {
                mask: "V{13}9{4}",
                definitions: {
                    V: {
                        validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                        casing: "upper"
                    }
                },
                clearIncomplete: !0,
                autoUnmask: !0
            }
        }),
        t
    })
}
, function(e, t, n) {
    "use strict";
    var i, a, r;
    "function" == typeof Symbol && Symbol.iterator;
    !function(o) {
        a = [n(0), n(1)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t, n) {
        function i(e, n) {
            for (var i = "", a = 0; a < e.length; a++)
                t.prototype.definitions[e.charAt(a)] || n.definitions[e.charAt(a)] || n.optionalmarker.start === e.charAt(a) || n.optionalmarker.end === e.charAt(a) || n.quantifiermarker.start === e.charAt(a) || n.quantifiermarker.end === e.charAt(a) || n.groupmarker.start === e.charAt(a) || n.groupmarker.end === e.charAt(a) || n.alternatormarker === e.charAt(a) ? i += "\\" + e.charAt(a) : i += e.charAt(a);
            return i
        }
        return t.extendAliases({
            numeric: {
                mask: function(e) {
                    if (0 !== e.repeat && isNaN(e.integerDigits) && (e.integerDigits = e.repeat),
                    e.repeat = 0,
                    e.groupSeparator === e.radixPoint && e.digits && "0" !== e.digits && ("." === e.radixPoint ? e.groupSeparator = "," : "," === e.radixPoint ? e.groupSeparator = "." : e.groupSeparator = ""),
                    " " === e.groupSeparator && (e.skipOptionalPartCharacter = n),
                    e.autoGroup = e.autoGroup && "" !== e.groupSeparator,
                    e.autoGroup && ("string" == typeof e.groupSize && isFinite(e.groupSize) && (e.groupSize = parseInt(e.groupSize)),
                    isFinite(e.integerDigits))) {
                        var t = Math.floor(e.integerDigits / e.groupSize)
                          , a = e.integerDigits % e.groupSize;
                        e.integerDigits = parseInt(e.integerDigits) + (0 === a ? t - 1 : t),
                        e.integerDigits < 1 && (e.integerDigits = "*")
                    }
                    e.placeholder.length > 1 && (e.placeholder = e.placeholder.charAt(0)),
                    "radixFocus" === e.positionCaretOnClick && "" === e.placeholder && !1 === e.integerOptional && (e.positionCaretOnClick = "lvp"),
                    e.definitions[";"] = e.definitions["~"],
                    e.definitions[";"].definitionSymbol = "~",
                    !0 === e.numericInput && (e.positionCaretOnClick = "radixFocus" === e.positionCaretOnClick ? "lvp" : e.positionCaretOnClick,
                    e.digitsOptional = !1,
                    isNaN(e.digits) && (e.digits = 2),
                    e.decimalProtect = !1);
                    var r = "[+]";
                    if (r += i(e.prefix, e),
                    !0 === e.integerOptional ? r += "~{1," + e.integerDigits + "}" : r += "~{" + e.integerDigits + "}",
                    e.digits !== n) {
                        e.radixPointDefinitionSymbol = e.decimalProtect ? ":" : e.radixPoint;
                        var o = e.digits.toString().split(",");
                        isFinite(o[0] && o[1] && isFinite(o[1])) ? r += e.radixPointDefinitionSymbol + ";{" + e.digits + "}" : (isNaN(e.digits) || parseInt(e.digits) > 0) && (e.digitsOptional ? r += "[" + e.radixPointDefinitionSymbol + ";{1," + e.digits + "}]" : r += e.radixPointDefinitionSymbol + ";{" + e.digits + "}")
                    }
                    return r += i(e.suffix, e),
                    r += "[-]",
                    e.greedy = !1,
                    r
                },
                placeholder: "",
                greedy: !1,
                digits: "*",
                digitsOptional: !0,
                enforceDigitsOnBlur: !1,
                radixPoint: ".",
                positionCaretOnClick: "radixFocus",
                groupSize: 3,
                groupSeparator: "",
                autoGroup: !1,
                allowMinus: !0,
                negationSymbol: {
                    front: "-",
                    back: ""
                },
                integerDigits: "+",
                integerOptional: !0,
                prefix: "",
                suffix: "",
                rightAlign: !0,
                decimalProtect: !0,
                min: null,
                max: null,
                step: 1,
                insertMode: !0,
                autoUnmask: !1,
                unmaskAsNumber: !1,
                inputmode: "numeric",
                preValidation: function(t, i, a, r, o) {
                    if ("-" === a || a === o.negationSymbol.front)
                        return !0 === o.allowMinus && (o.isNegative = o.isNegative === n || !o.isNegative,
                        "" === t.join("") || {
                            caret: i,
                            dopost: !0
                        });
                    if (!1 === r && a === o.radixPoint && o.digits !== n && (isNaN(o.digits) || parseInt(o.digits) > 0)) {
                        var s = e.inArray(o.radixPoint, t);
                        if (-1 !== s)
                            return !0 === o.numericInput ? i === s : {
                                caret: s + 1
                            }
                    }
                    return !0
                },
                postValidation: function(i, a, r) {
                    var o = r.suffix.split("")
                      , s = r.prefix.split("");
                    if (a.pos === n && a.caret !== n && !0 !== a.dopost)
                        return a;
                    var l = a.caret !== n ? a.caret : a.pos
                      , u = i.slice();
                    r.numericInput && (l = u.length - l - 1,
                    u = u.reverse());
                    var c = u[l];
                    if (c === r.groupSeparator && (c = u[l += 1]),
                    l === u.length - r.suffix.length - 1 && c === r.radixPoint)
                        return a;
                    c !== n && c !== r.radixPoint && c !== r.negationSymbol.front && c !== r.negationSymbol.back && (u[l] = "?",
                    r.prefix.length > 0 && l >= (!1 === r.isNegative ? 1 : 0) && l < r.prefix.length - 1 + (!1 === r.isNegative ? 1 : 0) ? s[l - (!1 === r.isNegative ? 1 : 0)] = "?" : r.suffix.length > 0 && l >= u.length - r.suffix.length - (!1 === r.isNegative ? 1 : 0) && (o[l - (u.length - r.suffix.length - (!1 === r.isNegative ? 1 : 0))] = "?")),
                    s = s.join(""),
                    o = o.join("");
                    var p = u.join("").replace(s, "");
                    if (p = p.replace(o, ""),
                    p = p.replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"), ""),
                    p = p.replace(new RegExp("[-" + t.escapeRegex(r.negationSymbol.front) + "]","g"), ""),
                    p = p.replace(new RegExp(t.escapeRegex(r.negationSymbol.back) + "$"), ""),
                    isNaN(r.placeholder) && (p = p.replace(new RegExp(t.escapeRegex(r.placeholder),"g"), "")),
                    p.length > 1 && 1 !== p.indexOf(r.radixPoint) && ("0" === c && (p = p.replace(/^\?/g, "")),
                    p = p.replace(/^0/g, "")),
                    p.charAt(0) === r.radixPoint && "" !== r.radixPoint && !0 !== r.numericInput && (p = "0" + p),
                    "" !== p) {
                        if (p = p.split(""),
                        (!r.digitsOptional || r.enforceDigitsOnBlur && "blur" === a.event) && isFinite(r.digits)) {
                            var f = e.inArray(r.radixPoint, p)
                              , m = e.inArray(r.radixPoint, u);
                            -1 === f && (p.push(r.radixPoint),
                            f = p.length - 1);
                            for (var d = 1; d <= r.digits; d++)
                                r.digitsOptional && (!r.enforceDigitsOnBlur || "blur" !== a.event) || p[f + d] !== n && p[f + d] !== r.placeholder.charAt(0) ? -1 !== m && u[m + d] !== n && (p[f + d] = p[f + d] || u[m + d]) : p[f + d] = a.placeholder || r.placeholder.charAt(0)
                        }
                        if (!0 !== r.autoGroup || "" === r.groupSeparator || c === r.radixPoint && a.pos === n && !a.dopost)
                            p = p.join("");
                        else {
                            var h = p[p.length - 1] === r.radixPoint && a.c === r.radixPoint;
                            p = t(function(e, t) {
                                var n = "";
                                if (n += "(" + t.groupSeparator + "*{" + t.groupSize + "}){*}",
                                "" !== t.radixPoint) {
                                    var i = e.join("").split(t.radixPoint);
                                    i[1] && (n += t.radixPoint + "*{" + i[1].match(/^\d*\??\d*/)[0].length + "}")
                                }
                                return n
                            }(p, r), {
                                numericInput: !0,
                                jitMasking: !0,
                                definitions: {
                                    "*": {
                                        validator: "[0-9?]",
                                        cardinality: 1
                                    }
                                }
                            }).format(p.join("")),
                            h && (p += r.radixPoint),
                            p.charAt(0) === r.groupSeparator && p.substr(1)
                        }
                    }
                    if (r.isNegative && "blur" === a.event && (r.isNegative = "0" !== p),
                    p = s + p,
                    p += o,
                    r.isNegative && (p = r.negationSymbol.front + p,
                    p += r.negationSymbol.back),
                    p = p.split(""),
                    c !== n)
                        if (c !== r.radixPoint && c !== r.negationSymbol.front && c !== r.negationSymbol.back)
                            (l = e.inArray("?", p)) > -1 ? p[l] = c : l = a.caret || 0;
                        else if (c === r.radixPoint || c === r.negationSymbol.front || c === r.negationSymbol.back) {
                            var g = e.inArray(c, p);
                            -1 !== g && (l = g)
                        }
                    r.numericInput && (l = p.length - l - 1,
                    p = p.reverse());
                    var v = {
                        caret: c === n || a.pos !== n ? l + (r.numericInput ? -1 : 1) : l,
                        buffer: p,
                        refreshFromBuffer: a.dopost || i.join("") !== p.join("")
                    };
                    return v.refreshFromBuffer ? v : a
                },
                onBeforeWrite: function(i, a, r, o) {
                    if (i)
                        switch (i.type) {
                        case "keydown":
                            return o.postValidation(a, {
                                caret: r,
                                dopost: !0
                            }, o);
                        case "blur":
                        case "checkval":
                            var s;
                            if (function(e) {
                                e.parseMinMaxOptions === n && (null !== e.min && (e.min = e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"), ""),
                                "," === e.radixPoint && (e.min = e.min.replace(e.radixPoint, ".")),
                                e.min = isFinite(e.min) ? parseFloat(e.min) : NaN,
                                isNaN(e.min) && (e.min = Number.MIN_VALUE)),
                                null !== e.max && (e.max = e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"), ""),
                                "," === e.radixPoint && (e.max = e.max.replace(e.radixPoint, ".")),
                                e.max = isFinite(e.max) ? parseFloat(e.max) : NaN,
                                isNaN(e.max) && (e.max = Number.MAX_VALUE)),
                                e.parseMinMaxOptions = "done")
                            }(o),
                            null !== o.min || null !== o.max) {
                                if (s = o.onUnMask(a.join(""), n, e.extend({}, o, {
                                    unmaskAsNumber: !0
                                })),
                                null !== o.min && s < o.min)
                                    return o.isNegative = o.min < 0,
                                    o.postValidation(o.min.toString().replace(".", o.radixPoint).split(""), {
                                        caret: r,
                                        dopost: !0,
                                        placeholder: "0"
                                    }, o);
                                if (null !== o.max && s > o.max)
                                    return o.isNegative = o.max < 0,
                                    o.postValidation(o.max.toString().replace(".", o.radixPoint).split(""), {
                                        caret: r,
                                        dopost: !0,
                                        placeholder: "0"
                                    }, o)
                            }
                            return o.postValidation(a, {
                                caret: r,
                                placeholder: "0",
                                event: "blur"
                            }, o);
                        case "_checkval":
                            return {
                                caret: r
                            }
                        }
                },
                regex: {
                    integerPart: function(e, n) {
                        return n ? new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?") : new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?\\d+")
                    },
                    integerNPart: function(e) {
                        return new RegExp("[\\d" + t.escapeRegex(e.groupSeparator) + t.escapeRegex(e.placeholder.charAt(0)) + "]+")
                    }
                },
                definitions: {
                    "~": {
                        validator: function(e, i, a, r, o, s) {
                            var l = r ? new RegExp("[0-9" + t.escapeRegex(o.groupSeparator) + "]").test(e) : new RegExp("[0-9]").test(e);
                            if (!0 === l) {
                                if (!0 !== o.numericInput && i.validPositions[a] !== n && "~" === i.validPositions[a].match.def && !s) {
                                    var u = i.buffer.join("")
                                      , c = (u = (u = u.replace(new RegExp("[-" + t.escapeRegex(o.negationSymbol.front) + "]","g"), "")).replace(new RegExp(t.escapeRegex(o.negationSymbol.back) + "$"), "")).split(o.radixPoint);
                                    c.length > 1 && (c[1] = c[1].replace(/0/g, o.placeholder.charAt(0))),
                                    "0" === c[0] && (c[0] = c[0].replace(/0/g, o.placeholder.charAt(0))),
                                    u = c[0] + o.radixPoint + c[1] || "";
                                    var p = i._buffer.join("");
                                    for (u === o.radixPoint && (u = p); null === u.match(t.escapeRegex(p) + "$"); )
                                        p = p.slice(1);
                                    l = (u = (u = u.replace(p, "")).split(""))[a] === n ? {
                                        pos: a,
                                        remove: a
                                    } : {
                                        pos: a
                                    }
                                }
                            } else
                                r || e !== o.radixPoint || i.validPositions[a - 1] !== n || (i.buffer[a] = "0",
                                l = {
                                    pos: a + 1
                                });
                            return l
                        },
                        cardinality: 1
                    },
                    "+": {
                        validator: function(e, t, n, i, a) {
                            return a.allowMinus && ("-" === e || e === a.negationSymbol.front)
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    "-": {
                        validator: function(e, t, n, i, a) {
                            return a.allowMinus && e === a.negationSymbol.back
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    ":": {
                        validator: function(e, n, i, a, r) {
                            var o = "[" + t.escapeRegex(r.radixPoint) + "]"
                              , s = new RegExp(o).test(e);
                            return s && n.validPositions[i] && n.validPositions[i].match.placeholder === r.radixPoint && (s = {
                                caret: i + 1
                            }),
                            s
                        },
                        cardinality: 1,
                        placeholder: function(e) {
                            return e.radixPoint
                        }
                    }
                },
                onUnMask: function(e, n, i) {
                    if ("" === n && !0 === i.nullable)
                        return n;
                    var a = e.replace(i.prefix, "");
                    return a = a.replace(i.suffix, ""),
                    a = a.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"), ""),
                    "" !== i.placeholder.charAt(0) && (a = a.replace(new RegExp(i.placeholder.charAt(0),"g"), "0")),
                    i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== a.indexOf(i.radixPoint) && (a = a.replace(t.escapeRegex.call(this, i.radixPoint), ".")),
                    a = a.replace(new RegExp("^" + t.escapeRegex(i.negationSymbol.front)), "-"),
                    a = a.replace(new RegExp(t.escapeRegex(i.negationSymbol.back) + "$"), ""),
                    Number(a)) : a
                },
                isComplete: function(e, n) {
                    var i = e.join("");
                    if (e.slice().join("") !== i)
                        return !1;
                    var a = i.replace(n.prefix, "");
                    return a = a.replace(n.suffix, ""),
                    a = a.replace(new RegExp(t.escapeRegex(n.groupSeparator) + "([0-9]{3})","g"), "$1"),
                    "," === n.radixPoint && (a = a.replace(t.escapeRegex(n.radixPoint), ".")),
                    isFinite(a)
                },
                onBeforeMask: function(e, i) {
                    if (i.isNegative = n,
                    e = e.toString().charAt(e.length - 1) === i.radixPoint ? e.toString().substr(0, e.length - 1) : e.toString(),
                    "" !== i.radixPoint && isFinite(e)) {
                        var a = e.split(".")
                          , r = "" !== i.groupSeparator ? parseInt(i.groupSize) : 0;
                        2 === a.length && (a[0].length > r || a[1].length > r || a[0].length <= r && a[1].length < r) && (e = e.replace(".", i.radixPoint))
                    }
                    var o = e.match(/,/g)
                      , s = e.match(/\./g);
                    if (e = s && o ? s.length > o.length ? (e = e.replace(/\./g, "")).replace(",", i.radixPoint) : o.length > s.length ? (e = e.replace(/,/g, "")).replace(".", i.radixPoint) : e.indexOf(".") < e.indexOf(",") ? e.replace(/\./g, "") : e.replace(/,/g, "") : e.replace(new RegExp(t.escapeRegex(i.groupSeparator),"g"), ""),
                    0 === i.digits && (-1 !== e.indexOf(".") ? e = e.substring(0, e.indexOf(".")) : -1 !== e.indexOf(",") && (e = e.substring(0, e.indexOf(",")))),
                    "" !== i.radixPoint && isFinite(i.digits) && -1 !== e.indexOf(i.radixPoint)) {
                        var l = e.split(i.radixPoint)[1].match(new RegExp("\\d*"))[0];
                        if (parseInt(i.digits) < l.toString().length) {
                            var u = Math.pow(10, parseInt(i.digits));
                            e = e.replace(t.escapeRegex(i.radixPoint), "."),
                            e = (e = Math.round(parseFloat(e) * u) / u).toString().replace(".", i.radixPoint)
                        }
                    }
                    return e
                },
                canClearPosition: function(e, t, n, i, a) {
                    var r = e.validPositions[t]
                      , o = r.input !== a.radixPoint || null !== e.validPositions[t].match.fn && !1 === a.decimalProtect || r.input === a.radixPoint && e.validPositions[t + 1] && null === e.validPositions[t + 1].match.fn || isFinite(r.input) || t === n || r.input === a.groupSeparator || r.input === a.negationSymbol.front || r.input === a.negationSymbol.back;
                    return !o || "+" !== r.match.nativeDef && "-" !== r.match.nativeDef || (a.isNegative = !1),
                    o
                },
                onKeyDown: function(n, i, a, r) {
                    var o = e(this);
                    if (n.ctrlKey)
                        switch (n.keyCode) {
                        case t.keyCode.UP:
                            o.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(r.step)),
                            o.trigger("setvalue");
                            break;
                        case t.keyCode.DOWN:
                            o.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(r.step)),
                            o.trigger("setvalue")
                        }
                }
            },
            currency: {
                prefix: "$ ",
                groupSeparator: ",",
                alias: "numeric",
                placeholder: "0",
                autoGroup: !0,
                digits: 2,
                digitsOptional: !1,
                clearMaskOnLostFocus: !1
            },
            decimal: {
                alias: "numeric"
            },
            integer: {
                alias: "numeric",
                digits: 0,
                radixPoint: ""
            },
            percentage: {
                alias: "numeric",
                digits: 2,
                digitsOptional: !0,
                radixPoint: ".",
                placeholder: "0",
                autoGroup: !1,
                min: 0,
                max: 100,
                suffix: " %",
                allowMinus: !1
            }
        }),
        t
    })
}
, function(e, t, n) {
    "use strict";
    var i, a, r;
    "function" == typeof Symbol && Symbol.iterator;
    !function(o) {
        a = [n(0), n(1)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t) {
        function n(e, t) {
            var n = (e.mask || e).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, "")
              , i = (t.mask || t).replace(/#/g, "9").replace(/\)/, "9").replace(/[+()#-]/g, "")
              , a = (e.mask || e).split("#")[0]
              , r = (t.mask || t).split("#")[0];
            return 0 === r.indexOf(a) ? -1 : 0 === a.indexOf(r) ? 1 : n.localeCompare(i)
        }
        var i = t.prototype.analyseMask;
        return t.prototype.analyseMask = function(t, n, a) {
            function r(e, n, i) {
                n = n || "",
                i = i || s,
                "" !== n && (i[n] = {});
                for (var a = "", o = i[n] || i, l = e.length - 1; l >= 0; l--)
                    o[a = (t = e[l].mask || e[l]).substr(0, 1)] = o[a] || [],
                    o[a].unshift(t.substr(1)),
                    e.splice(l, 1);
                for (var u in o)
                    o[u].length > 500 && r(o[u].slice(), u, o)
            }
            function o(t) {
                var n = ""
                  , i = [];
                for (var r in t)
                    e.isArray(t[r]) ? 1 === t[r].length ? i.push(r + t[r]) : i.push(r + a.groupmarker[0] + t[r].join(a.groupmarker[1] + a.alternatormarker + a.groupmarker[0]) + a.groupmarker[1]) : i.push(r + o(t[r]));
                return 1 === i.length ? n += i[0] : n += a.groupmarker[0] + i.join(a.groupmarker[1] + a.alternatormarker + a.groupmarker[0]) + a.groupmarker[1],
                n
            }
            var s = {};
            return a.phoneCodes && (a.phoneCodes && a.phoneCodes.length > 1e3 && (r((t = t.substr(1, t.length - 2)).split(a.groupmarker[1] + a.alternatormarker + a.groupmarker[0])),
            t = o(s)),
            t = t.replace(/9/g, "\\9")),
            i.call(this, t, n, a)
        }
        ,
        t.extendAliases({
            abstractphone: {
                groupmarker: ["<", ">"],
                countrycode: "",
                phoneCodes: [],
                mask: function(e) {
                    return e.definitions = {
                        "#": t.prototype.definitions[9]
                    },
                    e.phoneCodes.sort(n)
                },
                keepStatic: !0,
                onBeforeMask: function(e, t) {
                    var n = e.replace(/^0{1,2}/, "").replace(/[\s]/g, "");
                    return (n.indexOf(t.countrycode) > 1 || -1 === n.indexOf(t.countrycode)) && (n = "+" + t.countrycode + n),
                    n
                },
                onUnMask: function(e, t, n) {
                    return e.replace(/[()#-]/g, "")
                },
                inputmode: "tel"
            }
        }),
        t
    })
}
, function(e, t, n) {
    "use strict";
    var i, a, r, o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) {
        return typeof e
    }
    : function(e) {
        return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e
    }
    ;
    !function(o) {
        a = [n(2), n(1)],
        void 0 !== (r = "function" == typeof (i = o) ? i.apply(t, a) : i) && (e.exports = r)
    }(function(e, t) {
        return void 0 === e.fn.inputmask && (e.fn.inputmask = function(n, i) {
            var a, r = this[0];
            if (void 0 === i && (i = {}),
            "string" == typeof n)
                switch (n) {
                case "unmaskedvalue":
                    return r && r.inputmask ? r.inputmask.unmaskedvalue() : e(r).val();
                case "remove":
                    return this.each(function() {
                        this.inputmask && this.inputmask.remove()
                    });
                case "getemptymask":
                    return r && r.inputmask ? r.inputmask.getemptymask() : "";
                case "hasMaskedValue":
                    return !(!r || !r.inputmask) && r.inputmask.hasMaskedValue();
                case "isComplete":
                    return !r || !r.inputmask || r.inputmask.isComplete();
                case "getmetadata":
                    return r && r.inputmask ? r.inputmask.getmetadata() : void 0;
                case "setvalue":
                    e(r).val(i),
                    r && void 0 === r.inputmask && e(r).triggerHandler("setvalue");
                    break;
                case "option":
                    if ("string" != typeof i)
                        return this.each(function() {
                            if (void 0 !== this.inputmask)
                                return this.inputmask.option(i)
                        });
                    if (r && void 0 !== r.inputmask)
                        return r.inputmask.option(i);
                    break;
                default:
                    return i.alias = n,
                    a = new t(i),
                    this.each(function() {
                        a.mask(this)
                    })
                }
            else {
                if ("object" == (void 0 === n ? "undefined" : o(n)))
                    return a = new t(n),
                    void 0 === n.mask && void 0 === n.alias ? this.each(function() {
                        if (void 0 !== this.inputmask)
                            return this.inputmask.option(n);
                        a.mask(this)
                    }) : this.each(function() {
                        a.mask(this)
                    });
                if (void 0 === n)
                    return this.each(function() {
                        (a = new t(i)).mask(this)
                    })
            }
        }
        ),
        e.fn.inputmask
    })
}
]);
/* /vendor/tm/tm.errorbox.js */
(function($, undefined) {
    $.fn.errorBox = function(message, type) {
        type = type || 'error';
        return this.each(function() {
            var me = $(this);
            if (message === undefined) {
                me.removeClass('__error');
                var err = me.data('errorBox');
                if (err) {
                    err.remove()
                }
                me.data('errorBox', null);
                me.off('.errorBox')
            } else {
                var data;
                if (me.data('errorBox')) {
                    me.data('errorBox').remove()
                }
                switch (type) {
                case 'info':
                    data = $('<div class="form-info">' + '<div class="form-info-box">' + message + '</div>' + '</div>').insertAfter(me);
                    break;
                case 'error':
                    me.addClass('__error');
                    data = $('<div class="form-error">' + '<div class="form-error-box errorBox-message">' + message + '</div>' + '</div>').insertAfter(me);
                    break
                }
                if (me.is('input[type="text"]')) {
                    me.off('keyup.errorBox').one('keyup.errorBox', function() {
                        $(this).errorBox()
                    })
                }
                me.data('errorBox', data)
            }
        })
    }
}
)(jQuery);
/* /vendor/tm/tm.active.form.js */
(function($, w) {
    var STATUS_OK = 'OK'
      , STATUS_ERROR = 'ERROR'
      , STATUS_EMPTY = 'EMPTY'
      , STATUS_VALIDATION_ERROR = 'VALIDATION_ERROR';
    var ActiveForm = function(selector, events, form_prefix) {
        this.form = $(selector);
        this.formMessage = this.form.find('.j-active-form-message').length !== 0 ? this.form.find('.j-active-form-message') : $('<div class="j-active-form-message form-error form-error--main"></div>').prependTo(this.form);
        this.form_prefix = form_prefix || 'form';
        this.attachEventHandlers(events);
        this.init()
    };
    ActiveForm.prototype = {
        init: function() {
            if (this.trigger('beforeInit') === !1) {
                return
            }
            this.fields = this.form.find(':input');
            this.action = this.form.attr('action');
            this.submitting = !1;
            var self = this;
            this.form.off('submit.ActiveForm').on('submit.ActiveForm', function() {
                self.submit();
                return !1
            });
            this.trigger('afterInit')
        },
        submit: function() {
            var self = this
              , data = this.form.serializeArray();
            if (this.submitting) {
                this.trigger('submitPending');
                return
            }
            if (this.trigger('beforeAjax') === !1) {
                return
            }
            this.submitting = !0;
            sendAjax(this.action, data, function(status, response) {
                self.submitting = !1;
                self.trigger('afterAjax');
                self.clearErrors();
                switch (status) {
                case STATUS_OK:
                    self.trigger('submitSuccess', response);
                    break;
                case STATUS_ERROR:
                    self.trigger('submitError', response);
                    if (response.message) {
                        self.setFormMessage(response.message)
                    }
                    break;
                case STATUS_EMPTY:
                    self.trigger('submitEmpty', response);
                    if (response.message) {
                        self.setFormMessage(response.message)
                    }
                    break;
                case STATUS_VALIDATION_ERROR:
                    if (response.errors) {
                        self.pushErrors(response.errors)
                    }
                    self.trigger('submitValidationError', response);
                    if (response.message) {
                        self.setFormMessage(response.message)
                    }
                    break;
                default:
                    self.trigger('submitException', status, response);
                    break
                }
            })
        },
        pushErrors: function(errors) {
            if (errors instanceof Array) {
                for (var i = 0, l = errors.length; i < l; ++i) {
                    this.fields.filter('[name="' + this.form_prefix + '[' + errors[i].code + ']"]').errorBox(errors[i].message)
                }
            }
        },
        setFormMessage: function(message) {
            this.formMessage.empty().append(message)
        },
        clearErrors: function() {
            this.fields.errorBox();
            this.setFormMessage('')
        }
    };
    ActiveForm.init = function(selector, events, form_prefix) {
        return new ActiveForm(selector,events,form_prefix)
    }
    ;
    $.extend(ActiveForm.prototype, TMEvents);
    w.ActiveForm = ActiveForm
}
)(jQuery, window);
/* /vendor/application/currency.js */
(function(w, undefined) {
    w.currency = {
        ceil_to: function(value, dec_number) {
            var number = value
              , modifier = 0;
            if (dec_number > 0) {
                modifier = 10 * dec_number;
                number *= modifier
            }
            number = Math.ceil(number);
            if (modifier !== 0) {
                number /= modifier
            }
            return number
        },
        str: function(price, decimals, dec_point, thousands_sep) {
            decimals = decimals != undefined ? decimals : 0;
            dec_point = dec_point != undefined ? dec_point : "";
            thousands_sep = thousands_sep != undefined ? thousands_sep : " ";
            var clist = w.GLOBAL.currency;
            var before = (clist.position == 1) ? clist.abbr : ""
              , after = (clist.position == 2) ? clist.abbr : "";
            return before + this.number_format(price, decimals, dec_point, thousands_sep) + after
        },
        wrap_html: function(html, abbr_wrapper) {
            abbr_wrapper = abbr_wrapper || "";
            var clist = w.GLOBAL.currency
              , before = (clist.position == 1) ? clist.abbr : ""
              , after = (clist.position == 2) ? clist.abbr : "";
            if (abbr_wrapper !== "") {
                var tag_name = abbr_wrapper.split(' ').pop();
                before = before !== "" ? "<" + abbr_wrapper + ">" + before + "</" + tag_name + ">" : "";
                after = after !== "" ? "<" + abbr_wrapper + ">" + after + "</" + tag_name + ">" : ""
            }
            return before + html + after
        },
        number_format: function(number, decimals, dec_point, thousands_sep) {
            var i, j, kw, kd, km;
            if (isNaN(decimals = Math.abs(decimals))) {
                decimals = 2
            }
            if (dec_point == undefined) {
                dec_point = ","
            }
            if (thousands_sep == undefined) {
                thousands_sep = "."
            }
            i = parseInt(number = (+number || 0).toFixed(decimals)) + "";
            if ((j = i.length) > 3) {
                j = j % 3
            } else {
                j = 0
            }
            km = (j ? i.substr(0, j) + thousands_sep : "");
            kw = i.substr(j).replace(/(\d{3})(?=\d)/g, "$1" + thousands_sep);
            kd = (decimals ? dec_point + Math.abs(number - i).toFixed(decimals).replace(/-/, 0).slice(2) : "");
            return km + kw + kd
        }
    }
}
)(window);
/* /vendor/tm/tm.cache.js */
(function(w, undefined) {
    var TMCache = function(max_size_value) {
        var max_size = max_size_value == undefined ? Math.pow(2, 32) : max_size_value
          , storage = {};
        var self = this;
        this.length = 0;
        var checkOverflow = function() {
            if (self.length > max_size) {
                var key = Object.keys(storage)[0];
                delete storage[key];
                --self.length
            }
        };
        return {
            read: function(key) {
                if (storage.hasOwnProperty(key)) {
                    return storage[key]
                }
                return null
            },
            write: function(key, data) {
                if (!storage.hasOwnProperty(key)) {
                    ++self.length
                }
                storage[key] = data;
                checkOverflow()
            },
            invalidateByKey: function(key) {
                if (key in storage) {
                    delete storage[key];
                    --self.length
                }
            },
            clear: function() {
                storage = {};
                self.length = 0
            }
        }
    };
    w.TMCache = TMCache
}
)(window);
/* /vendor/widgets/comparison.js */
(function($, w, undefined) {
    var ComparisonList = {
        init: function() {
            this.objects = $('.j-widget-comparison-remove, .j-widget-comparison-add, .j-widget-comparison');
            this.data = [];
            var self = this;
            this.objects.each(function() {
                self.initProduct(this)
            })
        },
        initProduct: function(selector) {
            var me = $(selector);
            if (me.attr('id') == undefined) {
                return
            }
            var product_id = me.attr('id').substr("comparison-product-".length).split('-')
              , handler_id = product_id[1];
            product_id = product_id[0];
            var obj = {
                obj: me,
                product_id: product_id,
                handler_id: handler_id,
                skin: me.data('skin') || 'default',
                buttonSize: me.data('button-size') || null,
                showButtonText: me.data('show-button-text') || null,
            };
            this.data.push(obj);
            var self = this;
            var clicker = me.find('.j-button').length ? me.find('.j-button') : me;
            clicker.off('click.comparison').on('click.comparison', function() {
                if (me.is('.j-widget-comparison-remove')) {
                    self.removeProduct(handler_id, product_id)
                } else if (me.is('.j-widget-comparison-add')) {
                    self.addProduct(handler_id, product_id)
                } else {
                    return !0
                }
                return !1
            })
        },
        removeProduct: function(handler_id, id, callback) {
            if (this.trigger('onRemoveProduct', this.getProductsByHandlerAndProduct(handler_id, id), handler_id, id) === !1) {
                return
            }
            var data = this.serializeProductsByHandler(handler_id)
              , href = GLOBAL.URI_PREFIX + '_widget/comparison/remove/' + id + '/';
            var self = this;
            sendAjax(href, data, function(status, response) {
                if (status === 'OK') {
                    for (var i = response.products.length; --i >= 0; ) {
                        var pr = response.products[i];
                        self.replaceProduct(pr)
                    }
                    self.count = response.count * 1;
                    self.trigger('onAfterRemoveProduct', self.getProductsByHandlerAndProduct(handler_id, id), handler_id, id);
                    self.trigger('onChange');
                    if (typeof callback === 'function') {
                        callback(status)
                    }
                }
            })
        },
        addProduct: function(handler_id, id) {
            if (this.trigger('onAddProduct', this.getProductsByHandlerAndProduct(handler_id, id), handler_id, id) === !1) {
                return
            }
            var data = this.serializeProductsByHandler(handler_id)
              , href = GLOBAL.URI_PREFIX + '_widget/comparison/add/' + id + '/';
            var self = this;
            sendAjax(href, data, function(status, response) {
                if (status === 'OK') {
                    for (var i = response.products.length; --i >= 0; ) {
                        var pr = response.products[i];
                        self.replaceProduct(pr)
                    }
                    self.count = response.count * 1;
                    self.trigger('onAfterAddProduct', self.getProductsByHandlerAndProduct(handler_id, id), handler_id, id);
                    self.trigger('onChange')
                }
            })
        },
        clear: function(handler_id, callback) {
            if (this.trigger('onClear') === !1) {
                return
            }
            var href = GLOBAL.URI_PREFIX + '_widget/comparison/clear/' + (handler_id ? handler_id + '/' : '')
              , data = this.serializeProductsByHandler(handler_id);
            var self = this;
            sendAjax(href, data, function(status, response) {
                if (status === 'OK') {
                    for (var i = response.products.length; --i >= 0; ) {
                        var pr = response.products[i];
                        self.replaceProduct(pr)
                    }
                    self.count = response.count * 1;
                    self.trigger('onAfterClear');
                    self.trigger('onChange');
                    if (typeof callback === 'function') {
                        callback(status)
                    }
                }
            })
        },
        replaceProduct: function(productData) {
            var handler = productData.handler
              , id = productData.id
              , skin = productData.skin
              , buttonSize = productData.buttonSize
              , showButtonText = productData.showButtonText
              , html = productData.html;
            var product = null
              , index = -1;
            for (var i = this.data.length; --i >= 0; ) {
                var pr = this.data[i];
                if (pr.handler_id == handler && pr.product_id == id && pr.skin == skin && pr.buttonSize == buttonSize && pr.showButtonText == showButtonText) {
                    index = i;
                    product = pr;
                    break
                }
            }
            if (product) {
                product.obj.removeAttr('id');
                var obj = $(html);
                obj.insertAfter(product.obj);
                product.obj.remove();
                this.data.splice(index, 1);
                this.initProduct(obj)
            }
        },
        getProductsByHandlerAndProduct: function(handler_id, product_id) {
            return $.grep(this.data, function(obj) {
                return obj.handler_id == handler_id && obj.product_id == product_id
            })
        },
        getProductsByHandler: function(handler_id) {
            return $.grep(this.data, function(obj) {
                return obj.handler_id == handler_id
            })
        },
        serializeProductsByHandler: function(handler_id) {
            var products = [];
            $.each(this.getProductsByHandler(handler_id), function(i, obj) {
                products.push({
                    name: 'products[' + obj.product_id + '][skin]',
                    value: obj.skin
                });
                if (obj.showButtonText !== null) {
                    products.push({
                        name: 'products[' + obj.product_id + '][showButtonText]',
                        value: obj.showButtonText
                    })
                }
                if (obj.buttonSize !== null) {
                    products.push({
                        name: 'products[' + obj.product_id + '][buttonSize]',
                        value: obj.buttonSize
                    })
                }
            });
            return products
        }
    };
    $.extend(ComparisonList, TMEvents);
    $(function() {
        ComparisonList.init()
    });
    ComparisonList.count = 0;
    w.ComparisonList = ComparisonList
}
)(jQuery, window);
/* /vendor/widgets/catalog-builder.v2.0.js */
(function($, w, undefined) {
    var _replace = function(haystack, needle) {
        haystack = $(haystack);
        needle = $(needle);
        needle = needle.filter(':not(.j-ajax-ignore)');
        needle.find('.j-ajax-ignore').remove();
        var scripts = needle.filter('script').add(needle.find('script'));
        needle = needle.filter(':not(script)');
        needle.insertAfter(haystack);
        haystack.remove();
        scripts.each(function() {
            var html = $(this).html();
            eval(html)
        });
        CatalogBuilder.init()
    };
    var cache = null;
    var CatalogBuilder = {
        url: w.location.pathname,
        loading: !1,
        initialized: !1,
        readByKey: function(key) {
            return this.html_cache[key] ? this.html_cache[key] : null
        },
        writeByKey: function(key, value) {
            this.html_cache[key] = value
        },
        clearCache: function() {
            this.html_cache = {}
        },
        html_cache: {},
        getMetaTagsSelectors: function() {
            return ['meta[name="robots"]', 'meta[name="yandex"]', 'meta[name="keywords"]', 'meta[name="description"]', 'link[rel="canonical"]', 'link[rel="prev"]', 'link[rel="next"]', 'link[rel="alternate"]', ]
        },
        processMetaTags: function(metaTags) {
            var selectors = this.getMetaTagsSelectors()
              , newTags = $(metaTags)
              , titleTag = $('head > title');
            for (var i = 0, l = selectors.length; i < l; ++i) {
                var selector = selectors[i]
                  , oldTag = $(selector)
                  , newTag = newTags.filter(selector);
                if (oldTag.length) {
                    if (newTag.length) {
                        newTag.insertAfter(oldTag.filter(':last'));
                        oldTag.remove()
                    } else {
                        oldTag.remove()
                    }
                } else if (newTag.length) {
                    newTag.insertAfter(titleTag.filter(':last'))
                }
            }
        },
        processResponse: function(response, pushState) {
            this.processMetaTags(response.metaTagsHtml);
            for (var name in response.html) {
                var blockHtml = $(response.html[name])
                  , originalBlock = $("[data-catalog-view-block='" + name + "']");
                originalBlock.replaceWith(blockHtml)
            }
            if (pushState) {
                this.pushState(response.seo.metaTitle, response.link)
            }
            this.setMetaData(response);
            this.url = response.link
        },
        followLink: function(link, pushState, callback) {
            if (this.loading || !link) {
                return
            }
            if (this.trigger('onBeforeFollowLink') === !1) {
                return
            }
            pushState = pushState === undefined ? !0 : pushState;
            this.loading = !0;
            var cacheData = cache.read(link);
            if (cacheData !== null) {
                this.trigger('onFollowLink', 'OK', cacheData);
                this.processResponse(cacheData, pushState);
                this.trigger('onChange', cacheData);
                this.trigger('onAfterCache', cacheData);
                this.loading = !1
            } else {
                var self = this;
                sendAjax(link, {
                    catalogBuilder: 1
                }, function(status, response) {
                    if (typeof callback == "function") {
                        callback(status, response)
                    }
                    self.trigger('onFollowLink', status, response);
                    self.loading = !1;
                    if (status === 'HTTP_ERROR') {} else if (status === 'OK') {
                        if (pushState) {
                            cache.write(link, response)
                        }
                        self.processResponse(response, pushState);
                        self.trigger('onChange', cacheData)
                    } else {}
                }, "POST")
            }
        },
        init: function() {
            if (cache === null) {
                cache = new TMCache(10)
            }
            if (this.trigger('onBeforeInit') === !1) {
                return
            }
            this.initHistory();
            this.trigger('onAfterInit');
            this.initialized = !0
        },
        initHistory: function() {
            if (w.history) {
                var self = this;
                $(w).off('popstate.builder').on('popstate.builder', function(e) {
                    if (w.location.pathname !== self.url) {
                        self.followLink(w.location.pathname, !1)
                    }
                })
            }
        },
        follow: function(link) {
            w.location.href = link
        },
        pushState: function(title, url) {
            if (w.history && w.history.pushState) {
                w.history.pushState({}, title, url)
            }
        },
        setMetaData: function(response) {
            var head = $(document).find('head');
            head.find('title').text(response.seo.metaTitle);
            this.trigger('onMetaDataSet')
        },
        changeModification: function(selector, id, type) {
            var me = this;
            var a = $(selector)
              , container = a.parents('.j-product-container:first');
            if (this.trigger('onBeforeChangeModification', a) === !1) {
                return
            }
            a.siblings().removeClass('__active');
            a.addClass('__active');
            var push_data = function(html) {
                var data = $(html);
                if (!data.is('.j-product-container')) {
                    data = data.find('.j-product-container:first')
                }
                preloadImages(data, function() {
                    data.insertAfter(container);
                    container.remove();
                    me.trigger('onChangeModification', a)
                })
            };
            var cache = this.readByKey('catalog/' + id + '/modification-card');
            if (cache === null) {
                sendAjax(GLOBAL.URI_PREFIX + 'catalog/mini-card/' + id + '/' + type + '/', null, function(status, response) {
                    if (status === 'OK') {
                        me.writeByKey('catalog/' + id + '/modification-card', response.html);
                        push_data(response.html)
                    }
                })
            } else {
                push_data(cache)
            }
        },
        initAdditionalDataLoading: function() {
            $('.j-download-required').parents('.j-product-container').off('mouseenter').one('mouseenter', function() {
                var me = $(this)
                  , container = me.find('.j-download-required')
                  , id = me.data('id');
                if (me.data('loading')) {
                    return
                }
                me.data('loading', !0);
                container.removeClass('.j-download-required').addClass('__loading');
                sendAjax(GLOBAL.URI_PREFIX + 'catalog/load-additional-data/' + id, null, function(status, response) {
                    container.removeClass('__loading');
                    if (status === "OK") {
                        container.empty().append(response.html);
                        CatalogBuilder.trigger('onAdditionalDataLoaded')
                    }
                })
            })
        }
    };
    $.extend(CatalogBuilder, TMEvents);
    w.CatalogBuilder = CatalogBuilder;
    var preloadImages = function(html, callback) {
        var container = $(html)
          , images = $.merge(container.filter('img'), container.find('img'))
          , count = images.length;
        var processImage = function() {
            if (--count <= 0) {
                if (typeof callback == 'function') {
                    callback()
                }
            }
        };
        var imgs = [];
        images.each(function() {
            var img = new Image();
            img.onload = processImage;
            img.onerror = processImage;
            img.src = this.src;
            imgs.push(img)
        })
    }
}
)(jQuery, window);
/* /vendor/widgets/favorites.js */
(function($, w, undefined) {
    var isFunction = function(clousure) {
        return typeof clousure === 'function'
    };
    var tryCallback = function(clousure, status, response) {
        if (isFunction(clousure)) {
            clousure.call(undefined, status, response)
        }
    };
    var FavoritesList = {
        init: function() {
            this.objects = $('.j-widget-favorites-remove, .j-widget-favorites-add');
            this.data = [];
            var self = this;
            this.objects.each(function() {
                self.initProduct(this)
            })
        },
        initProduct: function(selector) {
            var me = $(selector);
            if (me.attr('id') == undefined) {
                return
            }
            var skin = me.data('skin') || 'default';
            var message = me.data('message') || l10n('{A}  {/A}  {BR}    ', {
                '{A}': '<a href="#" class="a-pseudo" onclick="Modal.open(\'#sign-in\'); return false;">',
                '{/A}': '</a>'
            });
            var product_id = me.attr('id').split('-')[1];
            var obj = {
                obj: me,
                html: me.siblings().addBack(),
                parent: me.parent(),
                product_id: product_id,
                skin: skin,
                buttonSize: me.data('button-size') || null,
                showButtonText: me.data('show-button-text') || null,
                message: message
            };
            this.data.push(obj);
            me.data('favoritesList', obj);
            var self = this;
            me.off('click.favorites').on('click.favorites', function() {
                if (me.is('.j-widget-favorites-remove')) {
                    self.removeProduct(product_id)
                } else if (me.is('.j-widget-favorites-add')) {
                    self.addProduct(product_id, null, me)
                } else {
                    return !0
                }
                return !1
            });
            self.trigger('onInit', me)
        },
        removeProduct: function(id, callback) {
            if (this.trigger('onRemoveProduct', this.getProductsById(id), id) === !1) {
                return
            }
            var data = this.serializeProducts()
              , href = GLOBAL.URI_PREFIX + '_widget/favorites/remove/' + id + '/';
            var self = this;
            sendAjax(href, data, function(status, response) {
                if (status === 'OK') {
                    for (var i = response.products.length; --i >= 0; ) {
                        var pr = response.products[i];
                        self.replaceProduct(pr)
                    }
                    self.count = response.count * 1;
                    self.trigger('onAfterRemoveProduct', self.getProductsById(id), id);
                    self.trigger('onChange')
                } else if (status === 'UNAUTHORIZED') {
                    self.trigger('Unauthorized')
                }
                tryCallback(callback, status, response)
            })
        },
        addProduct: function(id, callback, caller) {
            if (this.trigger('onAddProduct', this.getProductsById(id), id) === !1) {
                return
            }
            var data = this.serializeProducts()
              , href = GLOBAL.URI_PREFIX + '_widget/favorites/add/' + id + '/';
            var self = this;
            sendAjax(href, data, function(status, response) {
                if (status === 'OK') {
                    for (var i = response.products.length; --i >= 0; ) {
                        var pr = response.products[i];
                        self.replaceProduct(pr)
                    }
                    self.count = response.count * 1;
                    self.trigger('onAfterAddProduct', self.getProductsById(id), id);
                    self.trigger('onChange')
                } else if (status === 'UNAUTHORIZED') {
                    self.trigger('Unauthorized', id, caller)
                }
                tryCallback(callback, status, response)
            })
        },
        clear: function(callback) {
            if (this.trigger('onClear') === !1) {
                return
            }
            var href = GLOBAL.URI_PREFIX + '_widget/favorites/clear/';
            var self = this;
            sendAjax(href, {}, function(status, response) {
                if (status === 'OK') {
                    self.count = 0;
                    self.trigger('onAfterClear');
                    self.trigger('onChange')
                } else if (status === 'UNAUTHORIZED') {
                    self.trigger('onUnAuthorized')
                }
                tryCallback(callback, status, response)
            })
        },
        replaceProduct: function(productData) {
            var id = productData.id
              , skin = productData.skin
              , html = productData.html
              , buttonSize = productData.buttonSize
              , showButtonText = productData.showButtonText;
            var product = null
              , index = -1;
            for (var i = this.data.length; --i >= 0; ) {
                var pr = this.data[i];
                if (pr.product_id == id && pr.skin == skin && pr.buttonSize == buttonSize && pr.showButtonText == showButtonText) {
                    index = i;
                    product = pr;
                    break
                }
            }
            if (product) {
                product.obj.removeAttr('id');
                var obj = $(html);
                obj.insertAfter(product.obj);
                product.obj.remove();
                this.data.splice(index, 1);
                this.initProduct(obj)
            }
        },
        getProductsById: function(product_id) {
            return $.grep(this.data, function(obj) {
                return obj.product_id == product_id
            })
        },
        getProducts: function() {
            return this.data
        },
        serializeProducts: function() {
            var data = [];
            $.each(this.data, function(i, obj) {
                if (obj.buttonSize !== null) {
                    data.push({
                        name: 'products[' + i + '][buttonSize]',
                        value: obj.buttonSize
                    })
                }
                if (obj.showButtonText !== null) {
                    data.push({
                        name: 'products[' + i + '][showButtonText]',
                        value: obj.showButtonText
                    })
                }
                data.push({
                    name: 'products[' + i + '][skin]',
                    value: obj.skin
                });
                data.push({
                    name: 'products[' + i + '][id]',
                    value: obj.product_id
                })
            });
            return data
        }
    };
    $.extend(FavoritesList, TMEvents);
    FavoritesList.attachEventHandlers({
        'onInit': function($caller) {
            var tooltipContainers = ['.productCard-notify', '.catalogCard-fav', '.productCard-fav', '.catalogCard-tools-l', '.order-box__fav'];
            if (w.GLOBAL.isGuest) {
                $.each(tooltipContainers, function(i, val) {
                    if ($caller.closest(val).length) {
                        $caller.TMTooltip($caller.data('favoritesList').message)
                    }
                })
            }
        }
    });
    $(function() {
        FavoritesList.init()
    });
    FavoritesList.count = 0;
    w.FavoritesList = FavoritesList
}
)(jQuery, window);
/* /vendor/widgets/favorites_info.js */
(function($, w, undefined) {
    var isFunction = function(clousure) {
        return typeof clousure === 'function'
    };
    var tryCallback = function(clousure, status, response) {
        if (isFunction(clousure)) {
            clousure.call(undefined, status, response)
        }
    };
    var widgetName = 'favorites_list';
    var FavoritesInfo = function(selector, skin, events) {
        var container = $()
          , data_container = $()
          , removeButtons = $();
        this.count = 0;
        skin = skin || 'default';
        this.attachEventHandlers(events);
        var self = this;
        var _ajax = function(action, params, callback) {
            if (self.trigger('onBeforeAjax') === !1) {
                return
            }
            var uri = GLOBAL.URI_PREFIX + '_widget/' + widgetName + '/' + action + '/' + skin + '/';
            sendAjax(uri, params, function(status, response) {
                tryCallback(callback, status, response);
                self.trigger('onAjax')
            })
        };
        var _remove_event = function() {
            if (confirm(l10n("    ?"))) {
                var me = $(this)
                  , id = me.data('id');
                self.remove(id)
            }
            return !1
        };
        var favoritesEventAttached = !1;
        var _initRemoveButtons = function() {
            removeButtons = container.find('.j-wishlist-remove');
            removeButtons.off('click.favorites-list').on('click.favorites-list', _remove_event);
            self.count = removeButtons.length
        };
        var _init = function() {
            if (self.trigger('onBeforeInit') === !1) {
                return
            }
            container = $(selector);
            data_container = container.find('.j-wishlist-data');
            _initRemoveButtons();
            if (!favoritesEventAttached) {
                favoritesEventAttached = !0;
                FavoritesList.attachEventHandlers({
                    'onAfterRemoveProduct': function(obj, id) {
                        removeButtons.filter('[data-id="' + id + '"]').remove();
                        _initRemoveButtons();
                        self.reloadData()
                    },
                    'onAfterAddProduct': function() {
                        self.reloadData()
                    }
                })
            }
            self.trigger('onInit')
        };
        _init();
        var methods = {
            'init': function() {
                _init()
            },
            'reload': function(callback) {
                if (self.trigger('onBeforeReload') === !1) {
                    return
                }
                _ajax('render', null, function(status, response) {
                    if (status === 'OK') {
                        container.removeAttr('id');
                        var html = $(response.html);
                        html.insertAfter(container);
                        container.remove();
                        selector = html;
                        _init();
                        self.trigger('onReload', status, response)
                    }
                    tryCallback(callback, status, response)
                })
            },
            'reloadData': function(callback) {
                if (self.trigger('onBeforeReloadData') === !1) {
                    return
                }
                _ajax('renderData', null, function(status, response) {
                    if (status === 'OK') {
                        data_container.html(response.html);
                        self.trigger('onReloadData', status, response);
                        _init()
                    }
                    tryCallback(callback, status, response)
                })
            },
            'getContainer': function() {
                return container
            },
            'remove': function(id, callback) {
                if (self.trigger('onBeforeRemove', id) === !1) {
                    return
                }
                FavoritesList.removeProduct(id, function(status, response) {
                    tryCallback(callback, status, response);
                    if (status === 'OK') {
                        self.trigger('onRemove', id)
                    }
                })
            }
        };
        $.extend(this, methods)
    };
    $.extend(FavoritesInfo.prototype, TMEvents);
    FavoritesInfo.createInstance = function(selector, skin, events) {
        return new FavoritesInfo(selector,skin,events)
    }
    ;
    w.FavoritesInfo = FavoritesInfo
}
)(jQuery, window);
/* /vendor/widgets/modification-change.js */
(function($, w, u) {
    var instance = null
      , selector = null
      , defaults = {
        changeState: !0,
        catalogCardSelector: '.j-catalog-card',
        useCache: !0
    };
    var ModificationChange = function(selector, options) {
        this.options = $.extend(defaults, options);
        this.setSelector(selector)
    };
    ModificationChange.prototype = {
        setSelector: function(selector) {
            this.form = $(selector);
            this.init()
        },
        init: function() {
            this.trigger('onBeforeInit');
            this.action = this.form.attr('action');
            this.changedProp = this.form.find(':input:first').data('prop');
            this.initialCaller = null;
            this.initForm();
            this.initInputs();
            this.initHistory();
            this.trigger('onAfterInit')
        },
        blocks: [],
        initBlocks: function() {
            var self = this;
            this.blocks = [];
            $('[id^="mod-block-"]').each(function() {
                var me = $(this)
                  , id = me.attr('id').substr('mod-block-'.length);
                self.blocks.push({
                    id: id,
                    obj: me
                })
            })
        },
        initForm: function() {
            var self = this;
            this.form.off('submit.ModificationChange').on('submit.ModificationChange', function() {
                return self.submit(self.options.changeState)
            })
        },
        submit: function(pushState, modification) {
            var self = this
              , params = modification ? modification : self.getFormParams()
              , key = modification ? $.param(modification) : self.getCacheKey()
              , cache = self.readByKey(key);
            if (self.trigger('onBeforeSubmit') === !1) {
                return !1
            }
            if (this.options.useCache && cache) {
                if (pushState) {
                    self.pushState({
                        modification: params
                    }, cache.title, cache.link)
                }
                self.setHeadTitle(cache.title);
                self.appendHtml(cache.html);
                self.updateLang(cache.lang);
                return
            }
            this.initBlocks();
            self.trigger('onBeforeAjax', self.changedProp, self.initialCaller);
            sendAjax(self.action + self.changedProp + '/', params, function(status, response) {
                self.trigger('onAfterAjax', self.changedProp);
                if (status === 'OK') {
                    if (pushState) {
                        self.pushState({
                            modification: params
                        }, response.title, response.link)
                    }
                    if (response.title) {
                        self.setHeadTitle(response.title)
                    }
                    self.appendHtml(response.html);
                    self.updateLang(response.lang);
                    if (self.options.useCache) {
                        if (self.getCacheLength() === 10) {
                            self.clearCache()
                        }
                        self.writeByKey(self.getCacheKey(), {
                            title: response.title,
                            link: response.link,
                            html: response.html,
                            lang: response.lang
                        })
                    }
                    self.trigger('onAfterSubmit', status, response)
                } else {
                    self.trigger('onSubmitError', status, response)
                }
            });
            return !1
        },
        initInputs: function() {
            var self = this;
            self.form.find(':input').off('change.ModificationChange').on('change.ModificationChange', function(e, caller) {
                self.changedProp = $(this).data('prop');
                self.initialCaller = caller;
                self.submit(self.options.changeState)
            })
        },
        htmlCache: {},
        readByKey: function(key) {
            return this.htmlCache[key] ? this.htmlCache[key] : null
        },
        writeByKey: function(key, value) {
            this.htmlCache[key] = value
        },
        getCacheLength: function() {
            return Object.keys(this.htmlCache).length
        },
        clearCache: function() {
            delete this.htmlCache[Object.keys(this.htmlCache)[0]]
        },
        getCacheKey: function() {
            return this.form.serialize()
        },
        getFormParams: function() {
            return this.form.serializeArray()
        },
        initHistory: function() {
            var self = this;
            if (w.history && w.history.pushState) {
                $(w).off('popstate.modificationChange').on('popstate.modificationChange', function(e) {
                    if (w.history.state && w.history.state.modification) {
                        self.submit(!1, w.history.state.modification)
                    }
                })
            }
        },
        pushState: function(state, title, url) {
            if (w.history && w.history.pushState) {
                title = title || '';
                url = url || '';
                w.history.pushState(state, title, url)
            }
        },
        setHeadTitle: function(title) {
            $('head title').text(title)
        },
        appendHtml: function(data) {
            this.trigger('onBeforeAppendHtml');
            var blocks = [];
            if (data instanceof Array) {
                for (var i = 0, l = data.length; i < l; ++i) {
                    var name = data[i].name
                      , newName = data[i].newName
                      , content = data[i].content
                      , newBlock = $('[data-view-block="' + name + '"]');
                    newBlock.html(content);
                    if (newName) {
                        newBlock = newBlock.attr('data-view-block', newName)
                    }
                    blocks.push(newBlock)
                }
            } else if (this.blocks.length) {
                var newData = $(data);
                for (var i = this.blocks.length; --i >= 0; ) {
                    var block = this.blocks[i]
                      , id = block.id
                      , obj = block.obj;
                    var newObj = newData.filter('#mod-block-' + id).length ? newData.filter('#mod-block-' + id) : newData.find('#mod-block-' + id);
                    obj.empty().html(newObj.html());
                    blocks.push(newObj)
                }
            } else {
                var catalogCard = this.form.parents(this.options.catalogCardSelector);
                catalogCard.html(data);
                blocks.push(catalogCard)
            }
            this.trigger('onAfterAppendHtml', blocks)
        },
        updateLang: function(lang) {
            if (lang !== undefined) {
                $('[data-widget=lang_menu]').replaceWith(lang)
            }
        },
        loadModificationInfo: function(id, changedProp, value, callback) {
            var data = this.form.serializeArray();
            data.push({
                name: 'id',
                value: id
            }, {
                name: 'changedProp',
                value: changedProp
            }, {
                name: 'param[' + changedProp + ']',
                value: value
            });
            sendAjax(GLOBAL.URI_PREFIX + '_widget/modificationChange/loadModificationInfo', data, function(status, response) {
                if (typeof callback === 'function') {
                    callback(status, response)
                }
            })
        }
    };
    $.extend(ModificationChange.prototype, TMEvents);
    ModificationChange.setSelector = function(value) {
        if (instance !== null) {
            instance.setSelector(value)
        }
        selector = value
    }
    ;
    ModificationChange.getInstance = function() {
        if (instance === null) {
            instance = this.createInstance(selector, defaults)
        }
        return instance
    }
    ;
    ModificationChange.createInstance = function(selector, options) {
        return new ModificationChange(selector,options)
    }
    ;
    ModificationChange.isInitialized = function() {
        return instance !== null
    }
    ;
    w.ModificationChange = ModificationChange
}
)(jQuery, window);
/* /vendor/tm/tm.modal.js */
(function($, w, undefined) {
    function _modal_center(obj, max_top) {
        var module = $(obj);
        max_top = max_top || 100000;
        var wHeight = $(window).height();
        var mHeight = module.outerHeight();
        var scrollTop = 0;
        var top = scrollTop + (wHeight / 2) - (mHeight / 2);
        if (wHeight < mHeight) {
            top = 0
        }
        if (top < 20) {
            top = 0
        }
        if (top > max_top) {
            top = max_top
        }
        var left = ($(window).outerWidth() / 2) - (module.outerWidth() / 2);
        module.css({
            top: top,
            left: left
        })
    }
    w.Modal = {
        max_top: 0,
        opened_list: [],
        modal: $(),
        overlay: $(),
        open: function(selector, overlay_selector, events, prevent_positioning) {
            var me = this;
            var modal = $(selector);
            var overlay = $(overlay_selector || "#modal-overlay");
            prevent_positioning = !!prevent_positioning;
            var events_handlers = $.extend({
                beforeOpen: function() {},
                afterOpen: function() {},
                beforeClose: function() {},
                afterClose: function() {}
            }, events);
            if (modal.length === 0 || events_handlers.beforeOpen.call(modal) === !1) {
                return
            }
            !prevent_positioning && modal.css({
                marginLeft: 0,
                marginRight: 0
            });
            if (!modal.is(this.modal)) {
                if (!this.close(!1)) {
                    return
                }
            } else {
                return
            }
            var body = $(document.body);
            var old_width = body.innerWidth();
            $("html").addClass('layout_fixed');
            var new_width = body.innerWidth();
            if (new_width != old_width) {
                body.css('padding-right', -(old_width - new_width))
            }
            this.opened_list.push({
                modal: modal,
                overlay: overlay,
                events: events_handlers
            });
            this.modal = modal;
            this.overlay = overlay;
            this.events = events_handlers;
            this.overlay.children().not(this.modal).hide();
            this.overlay.append(this.modal).off("mousedown").on('mousedown', function(e) {
                if ($(this).is(e.target)) {
                    me.close()
                }
            });
            this.modal.show();
            this.overlay.removeClass('hidden').stop(!0, !0).fadeIn('fast');
            $(document).off('keydown.Modal').on('keydown.Modal', function(e) {
                var height = me.overlay.height();
                if (e.keyCode == 27 && height != 0) {
                    me.close()
                }
            });
            $(window).off('resize.Modal').on('resize.Modal', function() {
                !prevent_positioning && _modal_center(me.modal, me.max_top)
            });
            this.overlay.off('scroll.Modal').on('scroll.Modal', function() {
                !prevent_positioning && _modal_center(me.modal, me.max_top)
            });
            this.modal.find(".j-focus").focus();
            !prevent_positioning && _modal_center(me.modal, me.max_top);
            this.events.afterOpen.call(me.modal)
        },
        close: function(close_overlay) {
            $(document.body).css('padding-right', 0);
            $("html").removeClass('layout_fixed');
            if (this.opened_list.length !== 0) {
                var last = this.opened_list.pop();
                if (last.events.beforeClose.call(last.modal) === !1) {
                    return !1
                }
                close_overlay = close_overlay === undefined ? !0 : close_overlay;
                if (close_overlay) {
                    last.overlay.stop(!0, !0).fadeOut("fast")
                }
                last.modal.stop(!0, !0).fadeOut("fast", function() {
                    last.events.afterClose.call(last.modal)
                });
                this.modal = $();
                this.overlay = $();
                if (this.opened_list.length !== 0) {
                    var current = this.opened_list.pop();
                    this.open(current.modal, current.overlay)
                }
            }
            return !0
        },
        autoOpen: function() {
            $("[data-modal]").off('click.Modal').on('click.Modal', function() {
                var me = $(this);
                Modal.open(me.data('modal'));
                return !1
            })
        }
    }
}
)(jQuery, window);
/* /themes/horoshop_default/layout/js/main/lookup.js */
function submit_new_registration(selector) {
    var form = $(selector)
      , inputs = form.find(':input');
    var data = form.serializeArray();
    sendAjax(form.attr('action'), data, function(status, response) {
        inputs.errorBox();
        if (status === 'OK') {
            triggerMarketingEvent('registration_success', response.user);
            reloadPage()
        } else if (status === 'VALIDATION_ERROR') {
            if (response.errors) {
                for (var i = 0, length = response.errors.length; i < length; ++i) {
                    var error = response.errors[i]
                      , name = error.code
                      , message = error.message;
                    inputs.filter('[name="user[' + name + ']"]').errorBox(message)
                }
            }
            if (response.message) {
                zteel_set_message(response.message, 'error', form.find('.j-signup-info-message'), !0)
            }
        } else if (response.message) {
            zteel_set_message(response.message, 'error', form.find('.j-signup-info-message'), !0)
        }
    });
    return !1
}
function submit_authorization(selector) {
    var form = $(selector)
      , email = form.find('[name="user[email]"]').errorBox()
      , pass = form.find('[name="user[pass]"]').errorBox();
    var hasError = !1;
    if (!checkEmailValidity(email.val())) {
        hasError = !0;
        email.errorBox(l10n('Email  '))
    }
    if (pass.val() == '') {
        hasError = !0;
        pass.errorBox(l10n(' '))
    }
    if (!hasError) {
        var data = form.serializeArray();
        sendAjax(form.attr('action'), data, function(status, response) {
            if (status === 'OK') {
                triggerMarketingEvent('authorization_success', response.user);
                reloadPage()
            } else if (status === 'VALIDATION_ERROR') {
                if (response.errors) {
                    for (var i = 0, length = response.errors.length; i < length; ++i) {
                        var error = response.errors[i]
                          , name = error.code
                          , message = error.message;
                        if (name.indexOf('pass') !== 0) {
                            inputs.filter('[name="user[' + name + ']"]').errorBox(message)
                        } else {
                            inputs.filter('[name="' + name + '"]').errorBox(message)
                        }
                    }
                }
                if (response.message) {
                    zteel_set_message(response.message, 'error', form.find('.j-login-info-message'), !0)
                }
            } else if (response.message) {
                zteel_set_message(response.message, 'error', form.find('.j-login-info-message'), !0)
            }
        })
    } else {
        form.find(':input.__error:first').focus()
    }
    return !1
}
function password_recovery_submit(selector) {
    var form = $(selector)
      , email = form.find('[name="user[email]"]').errorBox();
    var hasError = !1;
    if (!checkEmailValidity(email.val())) {
        hasError = !0;
        email.errorBox(l10n('Email  '))
    }
    if (!hasError) {
        if (form.data('submitting')) {
            return !1
        }
        form.data('submitting', !0);
        var data = form.serializeArray();
        sendAjax(form.attr('action'), data, function(status, response) {
            form.data('submitting', !1);
            if (status === 'OK') {
                form.remove();
                $('.j-recovery-message').html(response.message)
            } else if (response.message) {
                email.errorBox(response.message)
            }
        })
    } else {
        form.find(':input.__error:first').focus()
    }
    return !1
}
function submit_profile(selector) {
    var form = $(selector)
      , inputs = form.find(':input').errorBox();
    var data = form.serializeArray();
    sendAjax(form.attr('action'), data, function(status, response) {
        if (status === 'VALIDATION_ERROR') {
            for (var i = 0, length = response.errors.length; i < length; ++i) {
                var error = response.errors[i]
                  , name = error.code
                  , message = error.message;
                if (name.indexOf('pass') !== 0) {
                    inputs.filter('[name="user[' + name + ']"]').errorBox(message)
                } else {
                    inputs.filter('[name="' + name + '"]').errorBox(message)
                }
            }
        } else if (status === 'OK') {
            zteel_set_message(l10n('   '), 'ok', '#profile-info', !0)
        }
    });
    return !1
}
var submit_recover_form = function(selector) {
    var form = $(selector)
      , inputs = form.find(':input').errorBox();
    var data = form.serializeArray();
    sendAjax(form.attr('action'), data, function(status, response) {
        if (status === 'VALIDATION_ERROR') {
            for (var i = 0, length = response.errors.length; i < length; ++i) {
                var error = response.errors[i]
                  , name = error.code
                  , message = error.message;
                if (name.indexOf('pass') !== 0) {
                    inputs.filter('[name="user[' + name + ']"]').errorBox(message)
                } else {
                    inputs.filter('[name="' + name + '"]').errorBox(message)
                }
            }
        } else if (status === 'OK') {
            window.location.href = response.location
        }
    });
    return !1
};
function submit_subscribe_form(selector) {
    var form = $(selector)
      , action = form.attr('action')
      , data = form.serializeArray();
    sendAjax(action, data, function(status, response) {
        form.find(':input').errorBox();
        if (status === 'OK') {
            track_analytics_event('subscription');
            triggerMarketingEvent('newsletter_subscription');
            $(form).html('<p>' + l10n('    !') + '</p>')
        } else if (status === "VALIDATION_ERROR") {
            var errors = response.errors;
            for (var i = 0, l = errors.length; i < l; ++i) {
                var name = "[name='profile[" + errors[i].code + "]']";
                form.find(name).errorBox(errors[i].message)
            }
        } else if (status === 'IS_SUBSCRIBED') {
            $(form).html('<p>' + l10n(' E-mail    !') + '</p>')
        }
    });
    return !1
}
;/* /libs/cart/cart.js */
var Cart = function(use_session, events, currency, id, initData) {
    this.marker = "DEFAULT";
    this.use_session = !!use_session;
    this.currency = currency;
    this.events = {
        onBeforeAjax: [],
        onAfterAjax: [],
        onChange: [],
        onError: [],
        onException: [],
        onInit: [],
        onProductAdd: [],
        onProductRemove: [],
        onQuantityChange: [],
        onCouponChange: []
    };
    this.attachEventHandlers(events);
    this.initialized = !1;
    this.id = id;
    this.products = [];
    this.afterInitQueue = [];
    this.initData = initData ? initData : {};
    this.init()
};
Cart.NOT_IMPLEMENTED = 1;
Cart.CLASS_REQUIRED = 2;
Cart.INCORRECT_VALUE = 3;
Cart.RELATION_DOES_NOT_EXISTS = 4;
Cart.NOT_SUPPORTED = 5;
Cart.PRODUCT_DOES_NOT_EXISTS = 6;
Cart.RELATION_REQUIRED = 7;
Cart.MAX_QUANTITY_REACHED = 8;
Cart.AJAX_LINK = "/_widget/ajax_cart/";
Cart.prototype = {
    setId: function(id) {
        this.id = id
    },
    init: function() {
        this.total = {
            'default': 0,
            'sum': 0,
            'quantity': 0
        };
        this.ajaxProcessing = 0;
        this.ajax("init", {}, function(status, data) {
            if (status === this.STATUS_OK) {
                this.updateTotal(data);
                this.initialized = !0;
                this.trigger("onInit");
                this.processAfterInitQueue()
            }
        })
    },
    processAfterInitQueue: function() {
        for (var i = 0, l = this.afterInitQueue.length; i < l; ++i) {
            var queueItem = this.afterInitQueue[i];
            queueItem.callback.apply(this, queueItem.args)
        }
        this.afterInitQueue = []
    },
    unshiftAfterInitQueue: function(callback, args) {
        this.afterInitQueue.push({
            callback: callback,
            args: args
        })
    },
    ajaxIsProcessing: function() {
        return this.ajaxProcessing > 0
    },
    reload: function() {
        this.total = {
            'default': 0,
            'sum': 0,
            'quantity': 0
        };
        this.products = [];
        this.ajax("init", {}, function(status, data) {
            if (status === this.STATUS_OK) {
                this.updateTotal(data);
                this.trigger("onReload")
            }
        })
    },
    STATUS_OK: "OK",
    STATUS_ERROR: "ERROR",
    STATUS_EXCEPTION: "EXCEPTION",
    STATUS_CART_EXCEPTION: "CART_EXCEPTION",
    STATUS_COUPON_REJECTED: "COUPON_REJECTED",
    STATUS_COUPON_CLEARED: "COUPON_CLEARED",
    ajax: function(action, data, callback) {
        var me = this;
        data.marker = this.marker;
        data.currency = this.currency;
        data.use_session = this.use_session ? '1' : '0';
        data.id = this.id;
        data = {
            ...data,
            ...this.initData
        };
        this.trigger("onBeforeAjax");
        ++this.ajaxProcessing;
        return sendAjax(Cart.AJAX_LINK + action + '/', data, function(status, response) {
            --me.ajaxProcessing;
            me.trigger("onAfterAjax");
            if (me.ajaxProcessing == 0) {
                me.trigger('ajaxCompleted')
            }
            if (status === me.STATUS_EXCEPTION && response.message) {
                me.trigger("onException", response.message)
            }
            typeof callback === "function" && callback.call(me, status, response)
        })
    },
    attachEventHandlers: function(events) {
        if (events) {
            for (var eventName in events) {
                if (events.hasOwnProperty(eventName)) {
                    this.attachEventHandler(eventName, events[eventName])
                }
            }
        }
    },
    attachEventHandler: function(eventName, callback) {
        if (typeof callback === 'function') {
            if (!(this.events[eventName]instanceof Array)) {
                this.events[eventName] = []
            }
            this.events[eventName].push(callback)
        }
    },
    trigger: function(fName) {
        if (this.events[fName]instanceof Array) {
            var result = !0;
            var events = this.events[fName];
            for (var i = 0, l = events.length; i < l; ++i) {
                if (typeof events[i] === "function") {
                    var tmpResult = events[i].apply(this, Array.prototype.slice.call(arguments, 1));
                    if (tmpResult !== null && tmpResult !== undefined) {
                        result = result && tmpResult
                    }
                }
            }
            return result
        }
        return null
    },
    updateTotal: function(data) {
        this.total = data.total.total;
        this.discount = data.total.discount;
        this.manager_markup = data.total.manager_markup;
        this.custom_delivery_price = data.total.custom_delivery_price * 1;
        this.products = data.total.items;
        this.coupon_data = data.total.coupon_data;
        if (data.errors && data.errors.length > 0) {
            this.trigger("onError", data.errors)
        }
    },
    appendProduct: function(product, related) {
        if (!this.initialized) {
            this.unshiftAfterInitQueue(this.appendProduct, [product, related]);
            return
        }
        if (this.trigger('onBeforeProductAdd', product.id, product.type) === !1) {
            return
        }
        this.ajax("appendProduct", {
            product: product,
            related: related
        }, function(status, response) {
            if (status === this.STATUS_OK) {
                this.updateTotal(response);
                this.trigger("onProductAdd", product.id, this.getProductById(product.id, product.type));
                this.trigger("onChange")
            } else if (status === this.STATUS_CART_EXCEPTION) {
                this.updateTotal(response);
                this.trigger("onChange");
                this.trigger('onAppendProductException', response.errors)
            }
        })
    },
    appendProducts: function(products) {
        if (!this.initialized) {
            this.unshiftAfterInitQueue(this.appendProducts, [products]);
            return
        }
        this.ajax("appendProducts", {
            products: products
        }, function(status, response) {
            if (status === this.STATUS_OK) {
                for (var i = 0, l = products.length; i < l; ++i) {
                    this.trigger("onProductAdd", products[i].id, products[i])
                }
                this.updateTotal(response);
                this.trigger("onChange")
            } else if (status === this.STATUS_CART_EXCEPTION) {
                this.updateTotal(response);
                this.trigger("onChange");
                this.trigger('onAppendProductsException', response.errors)
            }
        })
    },
    ajaxProductQuantity: [],
    timerProductQuantity: [],
    setProductQuantityByHash: function(hash, quantity) {
        if (!this.initialized) {
            this.unshiftAfterInitQueue(this.setProductQuantityByHash, [hash, quantity]);
            return
        }
        var prod = this.getProductByHash(hash);
        quantity *= 1;
        if (prod) {
            if (quantity < 0) {
                quantity = 0
            } else if (quantity > prod.max_quantity) {
                quantity = prod.max_quantity
            }
            var old_price = prod.quantity * prod.price
              , new_price = quantity * prod.price
              , price_difference = new_price - old_price
              , old_quantity = prod.quantity
              , quantity_difference = quantity - old_quantity;
            this.total.sum += price_difference;
            this.total.sum += this.manager_markup.markup_price;
            this.total.quantity += quantity_difference;
            if (prod.cprice.marker === 'DISCOUNT_CARD') {
                this.discount.discount_percent = prod.cprice.discount_percent;
                var old_discount = prod.cprice.discount_value * old_quantity
                  , new_discount = prod.cprice.discount_value * quantity
                  , discount_difference = new_discount - old_discount;
                this.discount.discount_percent = prod.cprice.discount_percent;
                this.discount.discount_value += discount_difference
            }
            prod.quantity = quantity;
            var me = this;
            clearTimeout(this.timerProductQuantity[hash]);
            this.timerProductQuantity[hash] = setTimeout(function() {
                if (me.ajaxProductQuantity[hash]) {
                    me.ajaxProductQuantity[hash].abort()
                }
                me.ajaxProductQuantity[hash] = me.ajax("setProductQuantityByHash", {
                    hash: hash,
                    quantity: quantity
                }, function(status, response) {
                    this.ajaxProductQuantity[hash] = null;
                    if (status === this.STATUS_OK) {
                        this.updateTotal(response);
                        this.trigger("onQuantityChange", prod);
                        this.trigger("onChange")
                    }
                })
            }, 100)
        }
    },
    removeProductByHash: function(hash) {
        if (!this.initialized) {
            this.unshiftAfterInitQueue(this.removeProductByHash, [hash]);
            return
        }
        var product = this.getProductByHash(hash);
        this.ajax("removeProductByHash", {
            hash: hash
        }, function(status, response) {
            if (status === this.STATUS_OK) {
                this.updateTotal(response);
                this.trigger("onProductRemove", product.id, product.hash, product);
                this.trigger("onChange")
            }
        })
    },
    getProductByHash: function(hash) {
        if (this.products[hash]) {
            return this.products[hash]
        }
        return null
    },
    getProductById: function(id, type) {
        for (var hash in this.products) {
            if (this.products.hasOwnProperty(hash) && this.products[hash].id == id && (type ? type == this.products[hash].type : !0)) {
                return this.products[hash]
            }
        }
        return null
    },
    setCouponCode: function(code, skin) {
        if (!this.initialized) {
            this.unshiftAfterInitQueue(this.setCouponCode, [code, skin]);
            return
        }
        this.ajax("setCouponCode", {
            code: code,
            skin: skin
        }, function(status, response) {
            if (status === this.STATUS_OK || status === this.STATUS_COUPON_CLEARED) {
                this.updateTotal(response);
                this.trigger("onChange")
            }
            this.trigger("onCouponChange", status, response)
        })
    },
    setMarkup: function(name, price, callback) {
        this.manager_markup.markup_name = name;
        this.manager_markup.markup_price = price * 1;
        this.trigger('onBeforeManagerMarkupChange');
        this.ajax('setManagerMarkup', {
            'markup_name': name,
            'markup_price': price
        }, function(status, response) {
            if (status === 'OK') {
                this.updateTotal(response);
                this.trigger("onChange");
                this.trigger('onAfterManagerMarkupChange');
                if (typeof callback === 'function') {
                    callback(status, response)
                }
            }
        })
    },
    setCustomDeliveryPrice: function(price, callback) {
        this.custom_delivery_price = price * 1;
        this.trigger('onBeforeCustomDeliveryPriceChange', price);
        this.ajax('setCustomDeliveryPrice', {
            'price': price
        }, function(status, response) {
            this.updateTotal(response);
            this.trigger('onChange');
            this.trigger('onAfterCustomDeliveryPriceChange');
            if (typeof callback === 'function') {
                callback(status, response)
            }
        })
    }
};
/* /themes/horoshop_default/layout/js/main/basket.js */
var basketObjInitialized = !1;
var appendProductExceptionHandler = function() {
    alert(l10n("        , . .      .   "))
};
function setBasket() {
    if (!basketObjInitialized) {
        var timer = null;
        var instance = AjaxCart.getInstance();
        $(document).on('click.basket', '.j-cart-link', function(e) {
            Modal.open(instance.container);
            e.stopPropagation();
            e.preventDefault()
        });
        instance.attachEventHandlers({
            onChange: function() {
                Modal.autoOpen();
                updateBasketBox()
            },
            onReload: function() {
                updateBasketBox()
            },
            onProductRemove: function(product) {
                if (this.products.length === 0 && instance.container.is(':visible')) {
                    Modal.close();
                    $(AjaxCart.selector).removeClass('has_items')
                }
            },
            onAppendProductsException: appendProductExceptionHandler,
            onAppendProductException: appendProductExceptionHandler
        });
        basketObjInitialized = !0
    }
}
function updateBasketBox() {
    $('[data-widget="mini_cart"]').each(function() {
        var me = $(this)
          , data = {
            skin: me.data('skin') || 'default',
            icon: me.data('icon') || '',
            elements: me.data('elements') || ''
        };
        sendAjax(GLOBAL.URI_PREFIX + '_widget/mini_cart/render/', data, function(status, response) {
            if (status === 'OK') {
                $(response.html).insertAfter(me);
                me.remove()
            }
        })
    })
}
$(function() {
    var triggerFirstProductAddition = !1;
    AjaxCart.getInstance().attachEventHandlers({
        'onBeforeProductAdd': function() {
            if (this.products.length == 0) {
                triggerFirstProductAddition = !0
            }
        },
        'onProductAdd': function(product_id, product) {
            product.Cart = this;
            if (triggerFirstProductAddition) {
                track_analytics_event('cart_addition');
                triggerMarketingEvent('cart_creation', product)
            }
            triggerFirstProductAddition = !1;
            triggerMarketingEvent('cart_product_add', product)
        },
        'onQuantityChange': function(product) {
            product.Cart = this;
            triggerMarketingEvent('cart_product_update', product)
        },
        'onProductRemove': function(product_id, product_hash, product) {
            product.Cart = this;
            triggerMarketingEvent('cart_product_remove', product)
        },
        'onInit': function() {
            var anc = window.location.hash.replace('#', "");
            if (anc === 'cart') {
                Modal.open(AjaxCart.selector)
            }
        }
    })
});
/* /vendor/tm/tm.product.counter.js */
(function($, undefined) {
    $.fn.productCounter = function(options) {
        var settings = {
            counter: '.j-product-counter',
            increase: '.j-product-increase',
            decrease: '.j-product-decrease',
            disabledClass: '__disabled',
            onQuantityChange: function() {}
        };
        $.extend(settings, options);
        return this.each(function() {
            var container = $(this)
              , counter = container.find(settings.counter)
              , quantity = Number(counter.val())
              , max = Number(counter.data('max'))
              , step = Number(counter.data('step'))
              , min = Number(counter.data('min'))
              , btn_increase = container.find(settings.increase)
              , btn_decrease = container.find(settings.decrease);
            container.off('quantity-change.product-counter').on('quantity-change.product-counter', function() {
                if (typeof settings.onQuantityChange === 'function') {
                    settings.onQuantityChange.call(container, quantity)
                }
            });
            var timer = null;
            var _update = function() {
                btn_increase.removeClass(settings.disabledClass);
                btn_decrease.removeClass(settings.disabledClass);
                if (quantity <= min) {
                    quantity = min;
                    btn_decrease.addClass(settings.disabledClass)
                }
                if (quantity >= max) {
                    quantity = max;
                    btn_increase.addClass(settings.disabledClass)
                }
                if (quantity % step !== 0) {
                    quantity = (quantity - quantity % step) + step
                }
                counter.val(quantity);
                container.trigger('quantity-change', counter)
            };
            counter.numberMask({
                type: 'int'
            }).change(function() {
                quantity = $(this).val() * 1;
                _update()
            });
            btn_increase.off('click').on('click', function() {
                quantity = quantity + step;
                _update();
                return !1
            }).on('dblclick', function() {
                return !1
            });
            btn_decrease.off('click').on('click', function() {
                quantity = quantity - step;
                _update();
                return !1
            }).on('dblclick', function() {
                return !1
            });
            _update()
        })
    }
}
)(jQuery);
/* /vendor/jquery/swiper.jquery.js */
(function() {
    'use strict';
    var $;
    var Swiper = function(container, params) {
        if (!(this instanceof Swiper))
            return new Swiper(container,params);
        var defaults = {
            direction: 'horizontal',
            touchEventsTarget: 'container',
            initialSlide: 0,
            speed: 300,
            autoplay: !1,
            autoplayDisableOnInteraction: !0,
            autoplayStopOnLast: !1,
            iOSEdgeSwipeDetection: !1,
            iOSEdgeSwipeThreshold: 20,
            freeMode: !1,
            freeModeMomentum: !0,
            freeModeMomentumRatio: 1,
            freeModeMomentumBounce: !0,
            freeModeMomentumBounceRatio: 1,
            freeModeMomentumVelocityRatio: 1,
            freeModeSticky: !1,
            freeModeMinimumVelocity: 0.02,
            autoHeight: !1,
            setWrapperSize: !1,
            virtualTranslate: !1,
            effect: 'slide',
            coverflow: {
                rotate: 50,
                stretch: 0,
                depth: 100,
                modifier: 1,
                slideShadows: !0
            },
            flip: {
                slideShadows: !0,
                limitRotation: !0
            },
            cube: {
                slideShadows: !0,
                shadow: !0,
                shadowOffset: 20,
                shadowScale: 0.94
            },
            fade: {
                crossFade: !1
            },
            parallax: !1,
            zoom: !1,
            zoomMax: 3,
            zoomMin: 1,
            zoomToggle: !0,
            scrollbar: null,
            scrollbarHide: !0,
            scrollbarDraggable: !1,
            scrollbarSnapOnRelease: !1,
            keyboardControl: !1,
            mousewheelControl: !1,
            mousewheelReleaseOnEdges: !1,
            mousewheelInvert: !1,
            mousewheelForceToAxis: !1,
            mousewheelSensitivity: 1,
            mousewheelEventsTarged: 'container',
            hashnav: !1,
            hashnavWatchState: !1,
            history: !1,
            replaceState: !1,
            breakpoints: undefined,
            spaceBetween: 0,
            slidesPerView: 1,
            slidesPerColumn: 1,
            slidesPerColumnFill: 'column',
            slidesPerGroup: 1,
            centeredSlides: !1,
            slidesOffsetBefore: 0,
            slidesOffsetAfter: 0,
            roundLengths: !1,
            touchRatio: 1,
            touchAngle: 45,
            simulateTouch: !0,
            shortSwipes: !0,
            longSwipes: !0,
            longSwipesRatio: 0.5,
            longSwipesMs: 300,
            followFinger: !0,
            onlyExternal: !1,
            threshold: 0,
            touchMoveStopPropagation: !0,
            touchReleaseOnEdges: !1,
            uniqueNavElements: !0,
            pagination: null,
            paginationElement: 'span',
            paginationClickable: !1,
            paginationHide: !1,
            paginationBulletRender: null,
            paginationProgressRender: null,
            paginationFractionRender: null,
            paginationCustomRender: null,
            paginationType: 'bullets',
            resistance: !0,
            resistanceRatio: 0.85,
            nextButton: null,
            prevButton: null,
            watchSlidesProgress: !1,
            watchSlidesVisibility: !1,
            grabCursor: !1,
            preventClicks: !0,
            preventClicksPropagation: !0,
            slideToClickedSlide: !1,
            lazyLoading: !1,
            lazyLoadingInPrevNext: !1,
            lazyLoadingInPrevNextAmount: 1,
            lazyLoadingOnTransitionStart: !1,
            preloadImages: !0,
            updateOnImagesReady: !0,
            loop: !1,
            loopAdditionalSlides: 0,
            loopedSlides: null,
            control: undefined,
            controlInverse: !1,
            controlBy: 'slide',
            normalizeSlideIndex: !0,
            allowSwipeToPrev: !0,
            allowSwipeToNext: !0,
            swipeHandler: null,
            noSwiping: !0,
            noSwipingClass: 'swiper-no-swiping',
            passiveListeners: !0,
            containerModifierClass: 'swiper-container-',
            slideClass: 'swiper-slide',
            slideActiveClass: 'swiper-slide-active',
            slideDuplicateActiveClass: 'swiper-slide-duplicate-active',
            slideVisibleClass: 'swiper-slide-visible',
            slideDuplicateClass: 'swiper-slide-duplicate',
            slideNextClass: 'swiper-slide-next',
            slideDuplicateNextClass: 'swiper-slide-duplicate-next',
            slidePrevClass: 'swiper-slide-prev',
            slideDuplicatePrevClass: 'swiper-slide-duplicate-prev',
            wrapperClass: 'swiper-wrapper',
            bulletClass: 'swiper-pagination-bullet',
            bulletActiveClass: 'swiper-pagination-bullet-active',
            buttonDisabledClass: 'swiper-button-disabled',
            paginationCurrentClass: 'swiper-pagination-current',
            paginationTotalClass: 'swiper-pagination-total',
            paginationHiddenClass: 'swiper-pagination-hidden',
            paginationProgressbarClass: 'swiper-pagination-progressbar',
            paginationClickableClass: 'swiper-pagination-clickable',
            paginationModifierClass: 'swiper-pagination-',
            lazyLoadingClass: 'swiper-lazy',
            lazyStatusLoadingClass: 'swiper-lazy-loading',
            lazyStatusLoadedClass: 'swiper-lazy-loaded',
            lazyPreloaderClass: 'swiper-lazy-preloader',
            notificationClass: 'swiper-notification',
            preloaderClass: 'preloader',
            zoomContainerClass: 'swiper-zoom-container',
            observer: !1,
            observeParents: !1,
            a11y: !1,
            prevSlideMessage: 'Previous slide',
            nextSlideMessage: 'Next slide',
            firstSlideMessage: 'This is the first slide',
            lastSlideMessage: 'This is the last slide',
            paginationBulletMessage: 'Go to slide {{index}}',
            runCallbacksOnInit: !0
        };
        var initialVirtualTranslate = params && params.virtualTranslate;
        params = params || {};
        var originalParams = {};
        for (var param in params) {
            if (typeof params[param] === 'object' && params[param] !== null && !(params[param].nodeType || params[param] === window || params[param] === document || (typeof Dom7 !== 'undefined' && params[param]instanceof Dom7) || (typeof jQuery !== 'undefined' && params[param]instanceof jQuery))) {
                originalParams[param] = {};
                for (var deepParam in params[param]) {
                    originalParams[param][deepParam] = params[param][deepParam]
                }
            } else {
                originalParams[param] = params[param]
            }
        }
        for (var def in defaults) {
            if (typeof params[def] === 'undefined') {
                params[def] = defaults[def]
            } else if (typeof params[def] === 'object') {
                for (var deepDef in defaults[def]) {
                    if (typeof params[def][deepDef] === 'undefined') {
                        params[def][deepDef] = defaults[def][deepDef]
                    }
                }
            }
        }
        var s = this;
        s.params = params;
        s.originalParams = originalParams;
        s.classNames = [];
        if (typeof $ !== 'undefined' && typeof Dom7 !== 'undefined') {
            $ = Dom7
        }
        if (typeof $ === 'undefined') {
            if (typeof Dom7 === 'undefined') {
                $ = window.Dom7 || window.Zepto || window.jQuery
            } else {
                $ = Dom7
            }
            if (!$)
                return
        }
        s.$ = $;
        s.currentBreakpoint = undefined;
        s.getActiveBreakpoint = function() {
            if (!s.params.breakpoints)
                return !1;
            var breakpoint = !1;
            var points = [], point;
            for (point in s.params.breakpoints) {
                if (s.params.breakpoints.hasOwnProperty(point)) {
                    points.push(point)
                }
            }
            points.sort(function(a, b) {
                return parseInt(a, 10) > parseInt(b, 10)
            });
            for (var i = 0; i < points.length; i++) {
                point = points[i];
                if (point >= window.innerWidth && !breakpoint) {
                    breakpoint = point
                }
            }
            return breakpoint || 'max'
        }
        ;
        s.setBreakpoint = function() {
            var breakpoint = s.getActiveBreakpoint();
            if (breakpoint && s.currentBreakpoint !== breakpoint) {
                var breakPointsParams = breakpoint in s.params.breakpoints ? s.params.breakpoints[breakpoint] : s.originalParams;
                var needsReLoop = s.params.loop && (breakPointsParams.slidesPerView !== s.params.slidesPerView);
                for (var param in breakPointsParams) {
                    s.params[param] = breakPointsParams[param]
                }
                s.currentBreakpoint = breakpoint;
                if (needsReLoop && s.destroyLoop) {
                    s.reLoop(!0)
                }
            }
        }
        ;
        if (s.params.breakpoints) {
            s.setBreakpoint()
        }
        s.container = $(container);
        if (s.container.length === 0)
            return;
        if (s.container.length > 1) {
            var swipers = [];
            s.container.each(function() {
                var container = this;
                swipers.push(new Swiper(this,params))
            });
            return swipers
        }
        s.container[0].swiper = s;
        s.container.data('swiper', s);
        s.classNames.push(s.params.containerModifierClass + s.params.direction);
        if (s.params.freeMode) {
            s.classNames.push(s.params.containerModifierClass + 'free-mode')
        }
        if (!s.support.flexbox) {
            s.classNames.push(s.params.containerModifierClass + 'no-flexbox');
            s.params.slidesPerColumn = 1
        }
        if (s.params.autoHeight) {
            s.classNames.push(s.params.containerModifierClass + 'autoheight')
        }
        if (s.params.parallax || s.params.watchSlidesVisibility) {
            s.params.watchSlidesProgress = !0
        }
        if (s.params.touchReleaseOnEdges) {
            s.params.resistanceRatio = 0
        }
        if (['cube', 'coverflow', 'flip'].indexOf(s.params.effect) >= 0) {
            if (s.support.transforms3d) {
                s.params.watchSlidesProgress = !0;
                s.classNames.push(s.params.containerModifierClass + '3d')
            } else {
                s.params.effect = 'slide'
            }
        }
        if (s.params.effect !== 'slide') {
            s.classNames.push(s.params.containerModifierClass + s.params.effect)
        }
        if (s.params.effect === 'cube') {
            s.params.resistanceRatio = 0;
            s.params.slidesPerView = 1;
            s.params.slidesPerColumn = 1;
            s.params.slidesPerGroup = 1;
            s.params.centeredSlides = !1;
            s.params.spaceBetween = 0;
            s.params.virtualTranslate = !0
        }
        if (s.params.effect === 'fade' || s.params.effect === 'flip') {
            s.params.slidesPerView = 1;
            s.params.slidesPerColumn = 1;
            s.params.slidesPerGroup = 1;
            s.params.watchSlidesProgress = !0;
            s.params.spaceBetween = 0;
            if (typeof initialVirtualTranslate === 'undefined') {
                s.params.virtualTranslate = !0
            }
        }
        if (s.params.grabCursor && s.support.touch) {
            s.params.grabCursor = !1
        }
        s.wrapper = s.container.children('.' + s.params.wrapperClass);
        if (s.params.pagination) {
            s.paginationContainer = $(s.params.pagination);
            if (s.params.uniqueNavElements && typeof s.params.pagination === 'string' && s.paginationContainer.length > 1 && s.container.find(s.params.pagination).length === 1) {
                s.paginationContainer = s.container.find(s.params.pagination)
            }
            if (s.params.paginationType === 'bullets' && s.params.paginationClickable) {
                s.paginationContainer.addClass(s.params.paginationModifierClass + 'clickable')
            } else {
                s.params.paginationClickable = !1
            }
            s.paginationContainer.addClass(s.params.paginationModifierClass + s.params.paginationType)
        }
        if (s.params.nextButton || s.params.prevButton) {
            if (s.params.nextButton) {
                s.nextButton = $(s.params.nextButton);
                if (s.params.uniqueNavElements && typeof s.params.nextButton === 'string' && s.nextButton.length > 1 && s.container.find(s.params.nextButton).length === 1) {
                    s.nextButton = s.container.find(s.params.nextButton)
                }
            }
            if (s.params.prevButton) {
                s.prevButton = $(s.params.prevButton);
                if (s.params.uniqueNavElements && typeof s.params.prevButton === 'string' && s.prevButton.length > 1 && s.container.find(s.params.prevButton).length === 1) {
                    s.prevButton = s.container.find(s.params.prevButton)
                }
            }
        }
        s.isHorizontal = function() {
            return s.params.direction === 'horizontal'
        }
        ;
        s.rtl = s.isHorizontal() && (s.container[0].dir.toLowerCase() === 'rtl' || s.container.css('direction') === 'rtl');
        if (s.rtl) {
            s.classNames.push(s.params.containerModifierClass + 'rtl')
        }
        if (s.rtl) {
            s.wrongRTL = s.wrapper.css('display') === '-webkit-box'
        }
        if (s.params.slidesPerColumn > 1) {
            s.classNames.push(s.params.containerModifierClass + 'multirow')
        }
        if (s.device.android) {
            s.classNames.push(s.params.containerModifierClass + 'android')
        }
        s.container.addClass(s.classNames.join(' '));
        s.translate = 0;
        s.progress = 0;
        s.velocity = 0;
        s.lockSwipeToNext = function() {
            s.params.allowSwipeToNext = !1;
            if (s.params.allowSwipeToPrev === !1 && s.params.grabCursor) {
                s.unsetGrabCursor()
            }
        }
        ;
        s.lockSwipeToPrev = function() {
            s.params.allowSwipeToPrev = !1;
            if (s.params.allowSwipeToNext === !1 && s.params.grabCursor) {
                s.unsetGrabCursor()
            }
        }
        ;
        s.lockSwipes = function() {
            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = !1;
            if (s.params.grabCursor)
                s.unsetGrabCursor()
        }
        ;
        s.unlockSwipeToNext = function() {
            s.params.allowSwipeToNext = !0;
            if (s.params.allowSwipeToPrev === !0 && s.params.grabCursor) {
                s.setGrabCursor()
            }
        }
        ;
        s.unlockSwipeToPrev = function() {
            s.params.allowSwipeToPrev = !0;
            if (s.params.allowSwipeToNext === !0 && s.params.grabCursor) {
                s.setGrabCursor()
            }
        }
        ;
        s.unlockSwipes = function() {
            s.params.allowSwipeToNext = s.params.allowSwipeToPrev = !0;
            if (s.params.grabCursor)
                s.setGrabCursor()
        }
        ;
        function round(a) {
            return Math.floor(a)
        }
        s.setGrabCursor = function(moving) {
            s.container[0].style.cursor = 'move';
            s.container[0].style.cursor = moving ? '-webkit-grabbing' : '-webkit-grab';
            s.container[0].style.cursor = moving ? '-moz-grabbin' : '-moz-grab';
            s.container[0].style.cursor = moving ? 'grabbing' : 'grab'
        }
        ;
        s.unsetGrabCursor = function() {
            s.container[0].style.cursor = ''
        }
        ;
        if (s.params.grabCursor) {
            s.setGrabCursor()
        }
        s.imagesToLoad = [];
        s.imagesLoaded = 0;
        s.loadImage = function(imgElement, src, srcset, sizes, checkForComplete, callback) {
            var image;
            function onReady() {
                if (callback)
                    callback()
            }
            if (!imgElement.complete || !checkForComplete) {
                if (src) {
                    image = new window.Image();
                    image.onload = onReady;
                    image.onerror = onReady;
                    if (sizes) {
                        image.sizes = sizes
                    }
                    if (srcset) {
                        image.srcset = srcset
                    }
                    if (src) {
                        image.src = src
                    }
                } else {
                    onReady()
                }
            } else {
                onReady()
            }
        }
        ;
        s.preloadImages = function() {
            s.imagesToLoad = s.container.find('img');
            function _onReady() {
                if (typeof s === 'undefined' || s === null || !s)
                    return;
                if (s.imagesLoaded !== undefined)
                    s.imagesLoaded++;
                if (s.imagesLoaded === s.imagesToLoad.length) {
                    if (s.params.updateOnImagesReady)
                        s.update();
                    s.emit('onImagesReady', s)
                }
            }
            for (var i = 0; i < s.imagesToLoad.length; i++) {
                s.loadImage(s.imagesToLoad[i], (s.imagesToLoad[i].currentSrc || s.imagesToLoad[i].getAttribute('src')), (s.imagesToLoad[i].srcset || s.imagesToLoad[i].getAttribute('srcset')), s.imagesToLoad[i].sizes || s.imagesToLoad[i].getAttribute('sizes'), !0, _onReady)
            }
        }
        ;
        s.autoplayTimeoutId = undefined;
        s.autoplaying = !1;
        s.autoplayPaused = !1;
        function autoplay() {
            var autoplayDelay = s.params.autoplay;
            var activeSlide = s.slides.eq(s.activeIndex);
            if (activeSlide.attr('data-swiper-autoplay')) {
                autoplayDelay = activeSlide.attr('data-swiper-autoplay') || s.params.autoplay
            }
            s.autoplayTimeoutId = setTimeout(function() {
                if (s.params.loop) {
                    s.fixLoop();
                    s._slideNext();
                    s.emit('onAutoplay', s)
                } else {
                    if (!s.isEnd) {
                        s._slideNext();
                        s.emit('onAutoplay', s)
                    } else {
                        if (!params.autoplayStopOnLast) {
                            s._slideTo(0);
                            s.emit('onAutoplay', s)
                        } else {
                            s.stopAutoplay()
                        }
                    }
                }
            }, autoplayDelay)
        }
        s.startAutoplay = function() {
            if (typeof s.autoplayTimeoutId !== 'undefined')
                return !1;
            if (!s.params.autoplay)
                return !1;
            if (s.autoplaying)
                return !1;
            s.autoplaying = !0;
            s.emit('onAutoplayStart', s);
            autoplay()
        }
        ;
        s.stopAutoplay = function(internal) {
            if (!s.autoplayTimeoutId)
                return;
            if (s.autoplayTimeoutId)
                clearTimeout(s.autoplayTimeoutId);
            s.autoplaying = !1;
            s.autoplayTimeoutId = undefined;
            s.emit('onAutoplayStop', s)
        }
        ;
        s.pauseAutoplay = function(speed) {
            if (s.autoplayPaused)
                return;
            if (s.autoplayTimeoutId)
                clearTimeout(s.autoplayTimeoutId);
            s.autoplayPaused = !0;
            if (speed === 0) {
                s.autoplayPaused = !1;
                autoplay()
            } else {
                s.wrapper.transitionEnd(function() {
                    if (!s)
                        return;
                    s.autoplayPaused = !1;
                    if (!s.autoplaying) {
                        s.stopAutoplay()
                    } else {
                        autoplay()
                    }
                })
            }
        }
        ;
        s.minTranslate = function() {
            return (-s.snapGrid[0])
        }
        ;
        s.maxTranslate = function() {
            return (-s.snapGrid[s.snapGrid.length - 1])
        }
        ;
        s.updateAutoHeight = function() {
            var activeSlides = [];
            var newHeight = 0;
            var i;
            if (s.params.slidesPerView !== 'auto' && s.params.slidesPerView > 1) {
                for (i = 0; i < Math.ceil(s.params.slidesPerView); i++) {
                    var index = s.activeIndex + i;
                    if (index > s.slides.length)
                        break;
                    activeSlides.push(s.slides.eq(index)[0])
                }
            } else {
                activeSlides.push(s.slides.eq(s.activeIndex)[0])
            }
            for (i = 0; i < activeSlides.length; i++) {
                if (typeof activeSlides[i] !== 'undefined') {
                    var height = activeSlides[i].offsetHeight;
                    newHeight = height > newHeight ? height : newHeight
                }
            }
            if (newHeight)
                s.wrapper.css('height', newHeight + 'px')
        }
        ;
        s.updateContainerSize = function() {
            var width, height;
            if (typeof s.params.width !== 'undefined') {
                width = s.params.width
            } else {
                width = s.container[0].clientWidth
            }
            if (typeof s.params.height !== 'undefined') {
                height = s.params.height
            } else {
                height = s.container[0].clientHeight
            }
            if (width === 0 && s.isHorizontal() || height === 0 && !s.isHorizontal()) {
                return
            }
            width = width - parseInt(s.container.css('padding-left'), 10) - parseInt(s.container.css('padding-right'), 10);
            height = height - parseInt(s.container.css('padding-top'), 10) - parseInt(s.container.css('padding-bottom'), 10);
            s.width = width;
            s.height = height;
            s.size = s.isHorizontal() ? s.width : s.height
        }
        ;
        s.updateSlidesSize = function() {
            s.slides = s.wrapper.children('.' + s.params.slideClass);
            s.snapGrid = [];
            s.slidesGrid = [];
            s.slidesSizesGrid = [];
            var spaceBetween = s.params.spaceBetween, slidePosition = -s.params.slidesOffsetBefore, i, prevSlideSize = 0, index = 0;
            if (typeof s.size === 'undefined')
                return;
            if (typeof spaceBetween === 'string' && spaceBetween.indexOf('%') >= 0) {
                spaceBetween = parseFloat(spaceBetween.replace('%', '')) / 100 * s.size
            }
            s.virtualSize = -spaceBetween;
            if (s.rtl)
                s.slides.css({
                    marginLeft: '',
                    marginTop: ''
                });
            else
                s.slides.css({
                    marginRight: '',
                    marginBottom: ''
                });
            var slidesNumberEvenToRows;
            if (s.params.slidesPerColumn > 1) {
                if (Math.floor(s.slides.length / s.params.slidesPerColumn) === s.slides.length / s.params.slidesPerColumn) {
                    slidesNumberEvenToRows = s.slides.length
                } else {
                    slidesNumberEvenToRows = Math.ceil(s.slides.length / s.params.slidesPerColumn) * s.params.slidesPerColumn
                }
                if (s.params.slidesPerView !== 'auto' && s.params.slidesPerColumnFill === 'row') {
                    slidesNumberEvenToRows = Math.max(slidesNumberEvenToRows, s.params.slidesPerView * s.params.slidesPerColumn)
                }
            }
            var slideSize;
            var slidesPerColumn = s.params.slidesPerColumn;
            var slidesPerRow = slidesNumberEvenToRows / slidesPerColumn;
            var numFullColumns = slidesPerRow - (s.params.slidesPerColumn * slidesPerRow - s.slides.length);
            for (i = 0; i < s.slides.length; i++) {
                slideSize = 0;
                var slide = s.slides.eq(i);
                if (s.params.slidesPerColumn > 1) {
                    var newSlideOrderIndex;
                    var column, row;
                    if (s.params.slidesPerColumnFill === 'column') {
                        column = Math.floor(i / slidesPerColumn);
                        row = i - column * slidesPerColumn;
                        if (column > numFullColumns || (column === numFullColumns && row === slidesPerColumn - 1)) {
                            if (++row >= slidesPerColumn) {
                                row = 0;
                                column++
                            }
                        }
                        newSlideOrderIndex = column + row * slidesNumberEvenToRows / slidesPerColumn;
                        slide.css({
                            '-webkit-box-ordinal-group': newSlideOrderIndex,
                            '-moz-box-ordinal-group': newSlideOrderIndex,
                            '-ms-flex-order': newSlideOrderIndex,
                            '-webkit-order': newSlideOrderIndex,
                            'order': newSlideOrderIndex
                        })
                    } else {
                        row = Math.floor(i / slidesPerRow);
                        column = i - row * slidesPerRow
                    }
                    slide.css('margin-' + (s.isHorizontal() ? 'top' : 'left'), (row !== 0 && s.params.spaceBetween) && (s.params.spaceBetween + 'px')).attr('data-swiper-column', column).attr('data-swiper-row', row)
                }
                if (slide.css('display') === 'none')
                    continue;
                if (s.params.slidesPerView === 'auto') {
                    slideSize = s.isHorizontal() ? slide.outerWidth(!0) : slide.outerHeight(!0);
                    if (s.params.roundLengths)
                        slideSize = round(slideSize)
                } else {
                    slideSize = (s.size - (s.params.slidesPerView - 1) * spaceBetween) / s.params.slidesPerView;
                    if (s.params.roundLengths)
                        slideSize = round(slideSize);
                    if (s.isHorizontal()) {
                        s.slides[i].style.width = slideSize + 'px'
                    } else {
                        s.slides[i].style.height = slideSize + 'px'
                    }
                }
                s.slides[i].swiperSlideSize = slideSize;
                s.slidesSizesGrid.push(slideSize);
                if (s.params.centeredSlides) {
                    slidePosition = slidePosition + slideSize / 2 + prevSlideSize / 2 + spaceBetween;
                    if (prevSlideSize === 0 && i !== 0)
                        slidePosition = slidePosition - s.size / 2 - spaceBetween;
                    if (i === 0)
                        slidePosition = slidePosition - s.size / 2 - spaceBetween;
                    if (Math.abs(slidePosition) < 1 / 1000)
                        slidePosition = 0;
                    if ((index) % s.params.slidesPerGroup === 0)
                        s.snapGrid.push(slidePosition);
                    s.slidesGrid.push(slidePosition)
                } else {
                    if ((index) % s.params.slidesPerGroup === 0)
                        s.snapGrid.push(slidePosition);
                    s.slidesGrid.push(slidePosition);
                    slidePosition = slidePosition + slideSize + spaceBetween
                }
                s.virtualSize += slideSize + spaceBetween;
                prevSlideSize = slideSize;
                index++
            }
            s.virtualSize = Math.max(s.virtualSize, s.size) + s.params.slidesOffsetAfter;
            var newSlidesGrid;
            if (s.rtl && s.wrongRTL && (s.params.effect === 'slide' || s.params.effect === 'coverflow')) {
                s.wrapper.css({
                    width: s.virtualSize + s.params.spaceBetween + 'px'
                })
            }
            if (!s.support.flexbox || s.params.setWrapperSize) {
                if (s.isHorizontal())
                    s.wrapper.css({
                        width: s.virtualSize + s.params.spaceBetween + 'px'
                    });
                else
                    s.wrapper.css({
                        height: s.virtualSize + s.params.spaceBetween + 'px'
                    })
            }
            if (s.params.slidesPerColumn > 1) {
                s.virtualSize = (slideSize + s.params.spaceBetween) * slidesNumberEvenToRows;
                s.virtualSize = Math.ceil(s.virtualSize / s.params.slidesPerColumn) - s.params.spaceBetween;
                if (s.isHorizontal())
                    s.wrapper.css({
                        width: s.virtualSize + s.params.spaceBetween + 'px'
                    });
                else
                    s.wrapper.css({
                        height: s.virtualSize + s.params.spaceBetween + 'px'
                    });
                if (s.params.centeredSlides) {
                    newSlidesGrid = [];
                    for (i = 0; i < s.snapGrid.length; i++) {
                        if (s.snapGrid[i] < s.virtualSize + s.snapGrid[0])
                            newSlidesGrid.push(s.snapGrid[i])
                    }
                    s.snapGrid = newSlidesGrid
                }
            }
            if (!s.params.centeredSlides) {
                newSlidesGrid = [];
                for (i = 0; i < s.snapGrid.length; i++) {
                    if (s.snapGrid[i] <= s.virtualSize - s.size) {
                        newSlidesGrid.push(s.snapGrid[i])
                    }
                }
                s.snapGrid = newSlidesGrid;
                if (s.params.freeMode) {
                    if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) > 1) {
                        s.snapGrid.push(s.virtualSize - s.size)
                    }
                } else {
                    if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) >= s.virtualSize / s.slides.length / 2) {
                        s.snapGrid.push(s.virtualSize - s.size);
                        for (i = 0; i < s.slidesGrid.length; i++) {
                            if ((s.virtualSize - s.size) <= s.slidesGrid[i] + s.virtualSize / s.slides.length / 2) {
                                s.slidesGrid[i] = s.virtualSize - s.size;
                                break
                            }
                        }
                    } else if (Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) <= s.virtualSize / s.slides.length / 2 && Math.floor(s.virtualSize - s.size) - Math.floor(s.snapGrid[s.snapGrid.length - 1]) !== 0) {
                        s.snapGrid[s.snapGrid.length - 1] = s.virtualSize - s.size
                    }
                }
            }
            if (s.snapGrid.length === 0)
                s.snapGrid = [0];
            if (s.params.spaceBetween !== 0) {
                if (s.isHorizontal()) {
                    if (s.rtl)
                        s.slides.css({
                            marginLeft: spaceBetween + 'px'
                        });
                    else
                        s.slides.css({
                            marginRight: spaceBetween + 'px'
                        })
                } else
                    s.slides.css({
                        marginBottom: spaceBetween + 'px'
                    })
            }
            if (s.params.watchSlidesProgress) {
                s.updateSlidesOffset()
            }
        }
        ;
        s.updateSlidesOffset = function() {
            for (var i = 0; i < s.slides.length; i++) {
                s.slides[i].swiperSlideOffset = s.isHorizontal() ? s.slides[i].offsetLeft : s.slides[i].offsetTop
            }
        }
        ;
        s.currentSlidesPerView = function() {
            var spv = 1, i, j;
            if (s.params.centeredSlides) {
                var size = s.slides[s.activeIndex].swiperSlideSize;
                var breakLoop;
                for (i = s.activeIndex + 1; i < s.slides.length; i++) {
                    if (s.slides[i] && !breakLoop) {
                        size += s.slides[i].swiperSlideSize;
                        spv++;
                        if (size > s.size)
                            breakLoop = !0
                    }
                }
                for (j = s.activeIndex - 1; j >= 0; j--) {
                    if (s.slides[j] && !breakLoop) {
                        size += s.slides[j].swiperSlideSize;
                        spv++;
                        if (size > s.size)
                            breakLoop = !0
                    }
                }
            } else {
                for (i = s.activeIndex + 1; i < s.slides.length; i++) {
                    if (s.slidesGrid[i] - s.slidesGrid[s.activeIndex] < s.size) {
                        spv++
                    }
                }
            }
            return spv
        }
        ;
        s.updateSlidesProgress = function(translate) {
            if (typeof translate === 'undefined') {
                translate = s.translate || 0
            }
            if (s.slides.length === 0)
                return;
            if (typeof s.slides[0].swiperSlideOffset === 'undefined')
                s.updateSlidesOffset();
            var offsetCenter = -translate;
            if (s.rtl)
                offsetCenter = translate;
            s.slides.removeClass(s.params.slideVisibleClass);
            for (var i = 0; i < s.slides.length; i++) {
                var slide = s.slides[i];
                var slideProgress = (offsetCenter + (s.params.centeredSlides ? s.minTranslate() : 0) - slide.swiperSlideOffset) / (slide.swiperSlideSize + s.params.spaceBetween);
                if (s.params.watchSlidesVisibility) {
                    var slideBefore = -(offsetCenter - slide.swiperSlideOffset);
                    var slideAfter = slideBefore + s.slidesSizesGrid[i];
                    var isVisible = (slideBefore >= 0 && slideBefore < s.size) || (slideAfter > 0 && slideAfter <= s.size) || (slideBefore <= 0 && slideAfter >= s.size);
                    if (isVisible) {
                        s.slides.eq(i).addClass(s.params.slideVisibleClass)
                    }
                }
                slide.progress = s.rtl ? -slideProgress : slideProgress
            }
        }
        ;
        s.updateProgress = function(translate) {
            if (typeof translate === 'undefined') {
                translate = s.translate || 0
            }
            var translatesDiff = s.maxTranslate() - s.minTranslate();
            var wasBeginning = s.isBeginning;
            var wasEnd = s.isEnd;
            if (translatesDiff === 0) {
                s.progress = 0;
                s.isBeginning = s.isEnd = !0
            } else {
                s.progress = (translate - s.minTranslate()) / (translatesDiff);
                s.isBeginning = s.progress <= 0;
                s.isEnd = s.progress >= 1
            }
            if (s.isBeginning && !wasBeginning)
                s.emit('onReachBeginning', s);
            if (s.isEnd && !wasEnd)
                s.emit('onReachEnd', s);
            if (s.params.watchSlidesProgress)
                s.updateSlidesProgress(translate);
            s.emit('onProgress', s, s.progress)
        }
        ;
        s.updateActiveIndex = function() {
            var translate = s.rtl ? s.translate : -s.translate;
            var newActiveIndex, i, snapIndex;
            for (i = 0; i < s.slidesGrid.length; i++) {
                if (typeof s.slidesGrid[i + 1] !== 'undefined') {
                    if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1] - (s.slidesGrid[i + 1] - s.slidesGrid[i]) / 2) {
                        newActiveIndex = i
                    } else if (translate >= s.slidesGrid[i] && translate < s.slidesGrid[i + 1]) {
                        newActiveIndex = i + 1
                    }
                } else {
                    if (translate >= s.slidesGrid[i]) {
                        newActiveIndex = i
                    }
                }
            }
            if (s.params.normalizeSlideIndex) {
                if (newActiveIndex < 0 || typeof newActiveIndex === 'undefined')
                    newActiveIndex = 0
            }
            snapIndex = Math.floor(newActiveIndex / s.params.slidesPerGroup);
            if (snapIndex >= s.snapGrid.length)
                snapIndex = s.snapGrid.length - 1;
            if (newActiveIndex === s.activeIndex) {
                return
            }
            s.snapIndex = snapIndex;
            s.previousIndex = s.activeIndex;
            s.activeIndex = newActiveIndex;
            s.updateClasses();
            s.updateRealIndex()
        }
        ;
        s.updateRealIndex = function() {
            s.realIndex = parseInt(s.slides.eq(s.activeIndex).attr('data-swiper-slide-index') || s.activeIndex, 10)
        }
        ;
        s.updateClasses = function() {
            s.slides.removeClass(s.params.slideActiveClass + ' ' + s.params.slideNextClass + ' ' + s.params.slidePrevClass + ' ' + s.params.slideDuplicateActiveClass + ' ' + s.params.slideDuplicateNextClass + ' ' + s.params.slideDuplicatePrevClass);
            var activeSlide = s.slides.eq(s.activeIndex);
            activeSlide.addClass(s.params.slideActiveClass);
            if (params.loop) {
                if (activeSlide.hasClass(s.params.slideDuplicateClass)) {
                    s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index="' + s.realIndex + '"]').addClass(s.params.slideDuplicateActiveClass)
                } else {
                    s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index="' + s.realIndex + '"]').addClass(s.params.slideDuplicateActiveClass)
                }
            }
            var nextSlide = activeSlide.next('.' + s.params.slideClass).addClass(s.params.slideNextClass);
            if (s.params.loop && nextSlide.length === 0) {
                nextSlide = s.slides.eq(0);
                nextSlide.addClass(s.params.slideNextClass)
            }
            var prevSlide = activeSlide.prev('.' + s.params.slideClass).addClass(s.params.slidePrevClass);
            if (s.params.loop && prevSlide.length === 0) {
                prevSlide = s.slides.eq(-1);
                prevSlide.addClass(s.params.slidePrevClass)
            }
            if (params.loop) {
                if (nextSlide.hasClass(s.params.slideDuplicateClass)) {
                    s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index="' + nextSlide.attr('data-swiper-slide-index') + '"]').addClass(s.params.slideDuplicateNextClass)
                } else {
                    s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index="' + nextSlide.attr('data-swiper-slide-index') + '"]').addClass(s.params.slideDuplicateNextClass)
                }
                if (prevSlide.hasClass(s.params.slideDuplicateClass)) {
                    s.wrapper.children('.' + s.params.slideClass + ':not(.' + s.params.slideDuplicateClass + ')[data-swiper-slide-index="' + prevSlide.attr('data-swiper-slide-index') + '"]').addClass(s.params.slideDuplicatePrevClass)
                } else {
                    s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass + '[data-swiper-slide-index="' + prevSlide.attr('data-swiper-slide-index') + '"]').addClass(s.params.slideDuplicatePrevClass)
                }
            }
            if (s.paginationContainer && s.paginationContainer.length > 0) {
                var current, total = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;
                if (s.params.loop) {
                    current = Math.ceil((s.activeIndex - s.loopedSlides) / s.params.slidesPerGroup);
                    if (current > s.slides.length - 1 - s.loopedSlides * 2) {
                        current = current - (s.slides.length - s.loopedSlides * 2)
                    }
                    if (current > total - 1)
                        current = current - total;
                    if (current < 0 && s.params.paginationType !== 'bullets')
                        current = total + current
                } else {
                    if (typeof s.snapIndex !== 'undefined') {
                        current = s.snapIndex
                    } else {
                        current = s.activeIndex || 0
                    }
                }
                if (s.params.paginationType === 'bullets' && s.bullets && s.bullets.length > 0) {
                    s.bullets.removeClass(s.params.bulletActiveClass);
                    if (s.paginationContainer.length > 1) {
                        s.bullets.each(function() {
                            if ($(this).index() === current)
                                $(this).addClass(s.params.bulletActiveClass)
                        })
                    } else {
                        s.bullets.eq(current).addClass(s.params.bulletActiveClass)
                    }
                }
                if (s.params.paginationType === 'fraction') {
                    s.paginationContainer.find('.' + s.params.paginationCurrentClass).text(current + 1);
                    s.paginationContainer.find('.' + s.params.paginationTotalClass).text(total)
                }
                if (s.params.paginationType === 'progress') {
                    var scale = (current + 1) / total
                      , scaleX = scale
                      , scaleY = 1;
                    if (!s.isHorizontal()) {
                        scaleY = scale;
                        scaleX = 1
                    }
                    s.paginationContainer.find('.' + s.params.paginationProgressbarClass).transform('translate3d(0,0,0) scaleX(' + scaleX + ') scaleY(' + scaleY + ')').transition(s.params.speed)
                }
                if (s.params.paginationType === 'custom' && s.params.paginationCustomRender) {
                    s.paginationContainer.html(s.params.paginationCustomRender(s, current + 1, total));
                    s.emit('onPaginationRendered', s, s.paginationContainer[0])
                }
            }
            if (!s.params.loop) {
                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {
                    if (s.isBeginning) {
                        s.prevButton.addClass(s.params.buttonDisabledClass);
                        if (s.params.a11y && s.a11y)
                            s.a11y.disable(s.prevButton)
                    } else {
                        s.prevButton.removeClass(s.params.buttonDisabledClass);
                        if (s.params.a11y && s.a11y)
                            s.a11y.enable(s.prevButton)
                    }
                }
                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {
                    if (s.isEnd) {
                        s.nextButton.addClass(s.params.buttonDisabledClass);
                        if (s.params.a11y && s.a11y)
                            s.a11y.disable(s.nextButton)
                    } else {
                        s.nextButton.removeClass(s.params.buttonDisabledClass);
                        if (s.params.a11y && s.a11y)
                            s.a11y.enable(s.nextButton)
                    }
                }
            }
        }
        ;
        s.updatePagination = function() {
            if (!s.params.pagination)
                return;
            if (s.paginationContainer && s.paginationContainer.length > 0) {
                var paginationHTML = '';
                if (s.params.paginationType === 'bullets') {
                    var numberOfBullets = s.params.loop ? Math.ceil((s.slides.length - s.loopedSlides * 2) / s.params.slidesPerGroup) : s.snapGrid.length;
                    for (var i = 0; i < numberOfBullets; i++) {
                        if (s.params.paginationBulletRender) {
                            paginationHTML += s.params.paginationBulletRender(s, i, s.params.bulletClass)
                        } else {
                            paginationHTML += '<' + s.params.paginationElement + ' class="' + s.params.bulletClass + '"></' + s.params.paginationElement + '>'
                        }
                    }
                    s.paginationContainer.html(paginationHTML);
                    s.bullets = s.paginationContainer.find('.' + s.params.bulletClass);
                    if (s.params.paginationClickable && s.params.a11y && s.a11y) {
                        s.a11y.initPagination()
                    }
                }
                if (s.params.paginationType === 'fraction') {
                    if (s.params.paginationFractionRender) {
                        paginationHTML = s.params.paginationFractionRender(s, s.params.paginationCurrentClass, s.params.paginationTotalClass)
                    } else {
                        paginationHTML = '<span class="' + s.params.paginationCurrentClass + '"></span>' + ' / ' + '<span class="' + s.params.paginationTotalClass + '"></span>'
                    }
                    s.paginationContainer.html(paginationHTML)
                }
                if (s.params.paginationType === 'progress') {
                    if (s.params.paginationProgressRender) {
                        paginationHTML = s.params.paginationProgressRender(s, s.params.paginationProgressbarClass)
                    } else {
                        paginationHTML = '<span class="' + s.params.paginationProgressbarClass + '"></span>'
                    }
                    s.paginationContainer.html(paginationHTML)
                }
                if (s.params.paginationType !== 'custom') {
                    s.emit('onPaginationRendered', s, s.paginationContainer[0])
                }
            }
        }
        ;
        s.update = function(updateTranslate) {
            if (!s)
                return;
            s.updateContainerSize();
            s.updateSlidesSize();
            s.updateProgress();
            s.updatePagination();
            s.updateClasses();
            if (s.params.scrollbar && s.scrollbar) {
                s.scrollbar.set()
            }
            var newTranslate;
            function forceSetTranslate() {
                var translate = s.rtl ? -s.translate : s.translate;
                newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());
                s.setWrapperTranslate(newTranslate);
                s.updateActiveIndex();
                s.updateClasses()
            }
            if (updateTranslate) {
                var translated;
                if (s.controller && s.controller.spline) {
                    s.controller.spline = undefined
                }
                if (s.params.freeMode) {
                    forceSetTranslate();
                    if (s.params.autoHeight) {
                        s.updateAutoHeight()
                    }
                } else {
                    if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {
                        translated = s.slideTo(s.slides.length - 1, 0, !1, !0)
                    } else {
                        translated = s.slideTo(s.activeIndex, 0, !1, !0)
                    }
                    if (!translated) {
                        forceSetTranslate()
                    }
                }
            } else if (s.params.autoHeight) {
                s.updateAutoHeight()
            }
        }
        ;
        s.onResize = function(forceUpdatePagination) {
            if (s.params.onBeforeResize)
                s.params.onBeforeResize(s);
            if (s.params.breakpoints) {
                s.setBreakpoint()
            }
            var allowSwipeToPrev = s.params.allowSwipeToPrev;
            var allowSwipeToNext = s.params.allowSwipeToNext;
            s.params.allowSwipeToPrev = s.params.allowSwipeToNext = !0;
            s.updateContainerSize();
            s.updateSlidesSize();
            if (s.params.slidesPerView === 'auto' || s.params.freeMode || forceUpdatePagination)
                s.updatePagination();
            if (s.params.scrollbar && s.scrollbar) {
                s.scrollbar.set()
            }
            if (s.controller && s.controller.spline) {
                s.controller.spline = undefined
            }
            var slideChangedBySlideTo = !1;
            if (s.params.freeMode) {
                var newTranslate = Math.min(Math.max(s.translate, s.maxTranslate()), s.minTranslate());
                s.setWrapperTranslate(newTranslate);
                s.updateActiveIndex();
                s.updateClasses();
                if (s.params.autoHeight) {
                    s.updateAutoHeight()
                }
            } else {
                s.updateClasses();
                if ((s.params.slidesPerView === 'auto' || s.params.slidesPerView > 1) && s.isEnd && !s.params.centeredSlides) {
                    slideChangedBySlideTo = s.slideTo(s.slides.length - 1, 0, !1, !0)
                } else {
                    slideChangedBySlideTo = s.slideTo(s.activeIndex, 0, !1, !0)
                }
            }
            if (s.params.lazyLoading && !slideChangedBySlideTo && s.lazy) {
                s.lazy.load()
            }
            s.params.allowSwipeToPrev = allowSwipeToPrev;
            s.params.allowSwipeToNext = allowSwipeToNext;
            if (s.params.onAfterResize)
                s.params.onAfterResize(s)
        }
        ;
        s.touchEventsDesktop = {
            start: 'mousedown',
            move: 'mousemove',
            end: 'mouseup'
        };
        if (window.navigator.pointerEnabled)
            s.touchEventsDesktop = {
                start: 'pointerdown',
                move: 'pointermove',
                end: 'pointerup'
            };
        else if (window.navigator.msPointerEnabled)
            s.touchEventsDesktop = {
                start: 'MSPointerDown',
                move: 'MSPointerMove',
                end: 'MSPointerUp'
            };
        s.touchEvents = {
            start: s.support.touch || !s.params.simulateTouch ? 'touchstart' : s.touchEventsDesktop.start,
            move: s.support.touch || !s.params.simulateTouch ? 'touchmove' : s.touchEventsDesktop.move,
            end: s.support.touch || !s.params.simulateTouch ? 'touchend' : s.touchEventsDesktop.end
        };
        if (window.navigator.pointerEnabled || window.navigator.msPointerEnabled) {
            (s.params.touchEventsTarget === 'container' ? s.container : s.wrapper).addClass('swiper-wp8-' + s.params.direction)
        }
        s.initEvents = function(detach) {
            var actionDom = detach ? 'off' : 'on';
            var action = detach ? 'removeEventListener' : 'addEventListener';
            var touchEventsTarget = s.params.touchEventsTarget === 'container' ? s.container[0] : s.wrapper[0];
            var target = s.support.touch ? touchEventsTarget : document;
            var moveCapture = s.params.nested ? !0 : !1;
            if (s.browser.ie) {
                touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, !1);
                target[action](s.touchEvents.move, s.onTouchMove, moveCapture);
                target[action](s.touchEvents.end, s.onTouchEnd, !1)
            } else {
                if (s.support.touch) {
                    var passiveListener = s.touchEvents.start === 'touchstart' && s.support.passiveListener && s.params.passiveListeners ? {
                        passive: !0,
                        capture: !1
                    } : !1;
                    touchEventsTarget[action](s.touchEvents.start, s.onTouchStart, passiveListener);
                    touchEventsTarget[action](s.touchEvents.move, s.onTouchMove, moveCapture);
                    touchEventsTarget[action](s.touchEvents.end, s.onTouchEnd, passiveListener)
                }
                if ((params.simulateTouch && !s.device.ios && !s.device.android) || (params.simulateTouch && !s.support.touch && s.device.ios)) {
                    touchEventsTarget[action]('mousedown', s.onTouchStart, !1);
                    document[action]('mousemove', s.onTouchMove, moveCapture);
                    document[action]('mouseup', s.onTouchEnd, !1)
                }
            }
            window[action]('resize', s.onResize);
            if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {
                s.nextButton[actionDom]('click', s.onClickNext);
                if (s.params.a11y && s.a11y)
                    s.nextButton[actionDom]('keydown', s.a11y.onEnterKey)
            }
            if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {
                s.prevButton[actionDom]('click', s.onClickPrev);
                if (s.params.a11y && s.a11y)
                    s.prevButton[actionDom]('keydown', s.a11y.onEnterKey)
            }
            if (s.params.pagination && s.params.paginationClickable) {
                s.paginationContainer[actionDom]('click', '.' + s.params.bulletClass, s.onClickIndex);
                if (s.params.a11y && s.a11y)
                    s.paginationContainer[actionDom]('keydown', '.' + s.params.bulletClass, s.a11y.onEnterKey)
            }
            if (s.params.preventClicks || s.params.preventClicksPropagation)
                touchEventsTarget[action]('click', s.preventClicks, !0)
        }
        ;
        s.attachEvents = function() {
            s.initEvents()
        }
        ;
        s.detachEvents = function() {
            s.initEvents(!0)
        }
        ;
        s.allowClick = !0;
        s.preventClicks = function(e) {
            if (!s.allowClick) {
                if (s.params.preventClicks)
                    e.preventDefault();
                if (s.params.preventClicksPropagation && s.animating) {
                    e.stopPropagation();
                    e.stopImmediatePropagation()
                }
            }
        }
        ;
        s.onClickNext = function(e) {
            e.preventDefault();
            if (s.isEnd && !s.params.loop)
                return;
            s.slideNext()
        }
        ;
        s.onClickPrev = function(e) {
            e.preventDefault();
            if (s.isBeginning && !s.params.loop)
                return;
            s.slidePrev()
        }
        ;
        s.onClickIndex = function(e) {
            e.preventDefault();
            var index = $(this).index() * s.params.slidesPerGroup;
            if (s.params.loop)
                index = index + s.loopedSlides;
            s.slideTo(index)
        }
        ;
        function findElementInEvent(e, selector) {
            var el = $(e.target);
            if (!el.is(selector)) {
                if (typeof selector === 'string') {
                    el = el.parents(selector)
                } else if (selector.nodeType) {
                    var found;
                    el.parents().each(function(index, _el) {
                        if (_el === selector)
                            found = selector
                    });
                    if (!found)
                        return undefined;
                    else
                        return selector
                }
            }
            if (el.length === 0) {
                return undefined
            }
            return el[0]
        }
        s.updateClickedSlide = function(e) {
            var slide = findElementInEvent(e, '.' + s.params.slideClass);
            var slideFound = !1;
            if (slide) {
                for (var i = 0; i < s.slides.length; i++) {
                    if (s.slides[i] === slide)
                        slideFound = !0
                }
            }
            if (slide && slideFound) {
                s.clickedSlide = slide;
                s.clickedIndex = $(slide).index()
            } else {
                s.clickedSlide = undefined;
                s.clickedIndex = undefined;
                return
            }
            if (s.params.slideToClickedSlide && s.clickedIndex !== undefined && s.clickedIndex !== s.activeIndex) {
                var slideToIndex = s.clickedIndex, realIndex, duplicatedSlides, slidesPerView = s.params.slidesPerView === 'auto' ? s.currentSlidesPerView() : s.params.slidesPerView;
                if (s.params.loop) {
                    if (s.animating)
                        return;
                    realIndex = parseInt($(s.clickedSlide).attr('data-swiper-slide-index'), 10);
                    if (s.params.centeredSlides) {
                        if ((slideToIndex < s.loopedSlides - slidesPerView / 2) || (slideToIndex > s.slides.length - s.loopedSlides + slidesPerView / 2)) {
                            s.fixLoop();
                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index="' + realIndex + '"]:not(.' + s.params.slideDuplicateClass + ')').eq(0).index();
                            setTimeout(function() {
                                s.slideTo(slideToIndex)
                            }, 0)
                        } else {
                            s.slideTo(slideToIndex)
                        }
                    } else {
                        if (slideToIndex > s.slides.length - slidesPerView) {
                            s.fixLoop();
                            slideToIndex = s.wrapper.children('.' + s.params.slideClass + '[data-swiper-slide-index="' + realIndex + '"]:not(.' + s.params.slideDuplicateClass + ')').eq(0).index();
                            setTimeout(function() {
                                s.slideTo(slideToIndex)
                            }, 0)
                        } else {
                            s.slideTo(slideToIndex)
                        }
                    }
                } else {
                    s.slideTo(slideToIndex)
                }
            }
        }
        ;
        var isTouched, isMoved, allowTouchCallbacks, touchStartTime, isScrolling, currentTranslate, startTranslate, allowThresholdMove, formElements = 'input, select, textarea, button, video', lastClickTime = Date.now(), clickTimeout, velocities = [], allowMomentumBounce;
        s.animating = !1;
        s.touches = {
            startX: 0,
            startY: 0,
            currentX: 0,
            currentY: 0,
            diff: 0
        };
        var isTouchEvent, startMoving;
        s.onTouchStart = function(e) {
            if (e.originalEvent)
                e = e.originalEvent;
            isTouchEvent = e.type === 'touchstart';
            if (!isTouchEvent && 'which'in e && e.which === 3)
                return;
            if (s.params.noSwiping && findElementInEvent(e, '.' + s.params.noSwipingClass)) {
                s.allowClick = !0;
                return
            }
            if (s.params.swipeHandler) {
                if (!findElementInEvent(e, s.params.swipeHandler))
                    return
            }
            var startX = s.touches.currentX = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
            var startY = s.touches.currentY = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY;
            if (s.device.ios && s.params.iOSEdgeSwipeDetection && startX <= s.params.iOSEdgeSwipeThreshold) {
                return
            }
            isTouched = !0;
            isMoved = !1;
            allowTouchCallbacks = !0;
            isScrolling = undefined;
            startMoving = undefined;
            s.touches.startX = startX;
            s.touches.startY = startY;
            touchStartTime = Date.now();
            s.allowClick = !0;
            s.updateContainerSize();
            s.swipeDirection = undefined;
            if (s.params.threshold > 0)
                allowThresholdMove = !1;
            if (e.type !== 'touchstart') {
                var preventDefault = !0;
                if ($(e.target).is(formElements))
                    preventDefault = !1;
                if (document.activeElement && $(document.activeElement).is(formElements)) {
                    document.activeElement.blur()
                }
                if (preventDefault) {
                    e.preventDefault()
                }
            }
            s.emit('onTouchStart', s, e)
        }
        ;
        s.onTouchMove = function(e) {
            if (e.originalEvent)
                e = e.originalEvent;
            if (isTouchEvent && e.type === 'mousemove')
                return;
            if (e.preventedByNestedSwiper) {
                s.touches.startX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
                s.touches.startY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
                return
            }
            if (s.params.onlyExternal) {
                s.allowClick = !1;
                if (isTouched) {
                    s.touches.startX = s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
                    s.touches.startY = s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
                    touchStartTime = Date.now()
                }
                return
            }
            if (isTouchEvent && s.params.touchReleaseOnEdges && !s.params.loop) {
                if (!s.isHorizontal()) {
                    if ((s.touches.currentY < s.touches.startY && s.translate <= s.maxTranslate()) || (s.touches.currentY > s.touches.startY && s.translate >= s.minTranslate())) {
                        return
                    }
                } else {
                    if ((s.touches.currentX < s.touches.startX && s.translate <= s.maxTranslate()) || (s.touches.currentX > s.touches.startX && s.translate >= s.minTranslate())) {
                        return
                    }
                }
            }
            if (isTouchEvent && document.activeElement) {
                if (e.target === document.activeElement && $(e.target).is(formElements)) {
                    isMoved = !0;
                    s.allowClick = !1;
                    return
                }
            }
            if (allowTouchCallbacks) {
                s.emit('onTouchMove', s, e)
            }
            if (e.targetTouches && e.targetTouches.length > 1)
                return;
            s.touches.currentX = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
            s.touches.currentY = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
            if (typeof isScrolling === 'undefined') {
                var touchAngle;
                if (s.isHorizontal() && s.touches.currentY === s.touches.startY || !s.isHorizontal() && s.touches.currentX === s.touches.startX) {
                    isScrolling = !1
                } else {
                    touchAngle = Math.atan2(Math.abs(s.touches.currentY - s.touches.startY), Math.abs(s.touches.currentX - s.touches.startX)) * 180 / Math.PI;
                    isScrolling = s.isHorizontal() ? touchAngle > s.params.touchAngle : (90 - touchAngle > s.params.touchAngle)
                }
            }
            if (isScrolling) {
                s.emit('onTouchMoveOpposite', s, e)
            }
            if (typeof startMoving === 'undefined') {
                if (s.touches.currentX !== s.touches.startX || s.touches.currentY !== s.touches.startY) {
                    startMoving = !0
                }
            }
            if (!isTouched)
                return;
            if (isScrolling) {
                isTouched = !1;
                return
            }
            if (!startMoving) {
                return
            }
            s.allowClick = !1;
            s.emit('onSliderMove', s, e);
            e.preventDefault();
            if (s.params.touchMoveStopPropagation && !s.params.nested) {
                e.stopPropagation()
            }
            if (!isMoved) {
                if (params.loop) {
                    s.fixLoop()
                }
                startTranslate = s.getWrapperTranslate();
                s.setWrapperTransition(0);
                if (s.animating) {
                    s.wrapper.trigger('webkitTransitionEnd transitionend oTransitionEnd MSTransitionEnd msTransitionEnd')
                }
                if (s.params.autoplay && s.autoplaying) {
                    if (s.params.autoplayDisableOnInteraction) {
                        s.stopAutoplay()
                    } else {
                        s.pauseAutoplay()
                    }
                }
                allowMomentumBounce = !1;
                if (s.params.grabCursor && (s.params.allowSwipeToNext === !0 || s.params.allowSwipeToPrev === !0)) {
                    s.setGrabCursor(!0)
                }
            }
            isMoved = !0;
            var diff = s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;
            diff = diff * s.params.touchRatio;
            if (s.rtl)
                diff = -diff;
            s.swipeDirection = diff > 0 ? 'prev' : 'next';
            currentTranslate = diff + startTranslate;
            var disableParentSwiper = !0;
            if ((diff > 0 && currentTranslate > s.minTranslate())) {
                disableParentSwiper = !1;
                if (s.params.resistance)
                    currentTranslate = s.minTranslate() - 1 + Math.pow(-s.minTranslate() + startTranslate + diff, s.params.resistanceRatio)
            } else if (diff < 0 && currentTranslate < s.maxTranslate()) {
                disableParentSwiper = !1;
                if (s.params.resistance)
                    currentTranslate = s.maxTranslate() + 1 - Math.pow(s.maxTranslate() - startTranslate - diff, s.params.resistanceRatio)
            }
            if (disableParentSwiper) {
                e.preventedByNestedSwiper = !0
            }
            if (!s.params.allowSwipeToNext && s.swipeDirection === 'next' && currentTranslate < startTranslate) {
                currentTranslate = startTranslate
            }
            if (!s.params.allowSwipeToPrev && s.swipeDirection === 'prev' && currentTranslate > startTranslate) {
                currentTranslate = startTranslate
            }
            if (s.params.threshold > 0) {
                if (Math.abs(diff) > s.params.threshold || allowThresholdMove) {
                    if (!allowThresholdMove) {
                        allowThresholdMove = !0;
                        s.touches.startX = s.touches.currentX;
                        s.touches.startY = s.touches.currentY;
                        currentTranslate = startTranslate;
                        s.touches.diff = s.isHorizontal() ? s.touches.currentX - s.touches.startX : s.touches.currentY - s.touches.startY;
                        return
                    }
                } else {
                    currentTranslate = startTranslate;
                    return
                }
            }
            if (!s.params.followFinger)
                return;
            if (s.params.freeMode || s.params.watchSlidesProgress) {
                s.updateActiveIndex()
            }
            if (s.params.freeMode) {
                if (velocities.length === 0) {
                    velocities.push({
                        position: s.touches[s.isHorizontal() ? 'startX' : 'startY'],
                        time: touchStartTime
                    })
                }
                velocities.push({
                    position: s.touches[s.isHorizontal() ? 'currentX' : 'currentY'],
                    time: (new window.Date()).getTime()
                })
            }
            s.updateProgress(currentTranslate);
            s.setWrapperTranslate(currentTranslate)
        }
        ;
        s.onTouchEnd = function(e) {
            if (e.originalEvent)
                e = e.originalEvent;
            if (allowTouchCallbacks) {
                s.emit('onTouchEnd', s, e)
            }
            allowTouchCallbacks = !1;
            if (!isTouched)
                return;
            if (s.params.grabCursor && isMoved && isTouched && (s.params.allowSwipeToNext === !0 || s.params.allowSwipeToPrev === !0)) {
                s.setGrabCursor(!1)
            }
            var touchEndTime = Date.now();
            var timeDiff = touchEndTime - touchStartTime;
            if (s.allowClick) {
                s.updateClickedSlide(e);
                s.emit('onTap', s, e);
                if (timeDiff < 300 && (touchEndTime - lastClickTime) > 300) {
                    if (clickTimeout)
                        clearTimeout(clickTimeout);
                    clickTimeout = setTimeout(function() {
                        if (!s)
                            return;
                        if (s.params.paginationHide && s.paginationContainer.length > 0 && !$(e.target).hasClass(s.params.bulletClass)) {
                            s.paginationContainer.toggleClass(s.params.paginationHiddenClass)
                        }
                        s.emit('onClick', s, e)
                    }, 300)
                }
                if (timeDiff < 300 && (touchEndTime - lastClickTime) < 300) {
                    if (clickTimeout)
                        clearTimeout(clickTimeout);
                    s.emit('onDoubleTap', s, e)
                }
            }
            lastClickTime = Date.now();
            setTimeout(function() {
                if (s)
                    s.allowClick = !0
            }, 0);
            if (!isTouched || !isMoved || !s.swipeDirection || s.touches.diff === 0 || currentTranslate === startTranslate) {
                isTouched = isMoved = !1;
                return
            }
            isTouched = isMoved = !1;
            var currentPos;
            if (s.params.followFinger) {
                currentPos = s.rtl ? s.translate : -s.translate
            } else {
                currentPos = -currentTranslate
            }
            if (s.params.freeMode) {
                if (currentPos < -s.minTranslate()) {
                    s.slideTo(s.activeIndex);
                    return
                } else if (currentPos > -s.maxTranslate()) {
                    if (s.slides.length < s.snapGrid.length) {
                        s.slideTo(s.snapGrid.length - 1)
                    } else {
                        s.slideTo(s.slides.length - 1)
                    }
                    return
                }
                if (s.params.freeModeMomentum) {
                    if (velocities.length > 1) {
                        var lastMoveEvent = velocities.pop()
                          , velocityEvent = velocities.pop();
                        var distance = lastMoveEvent.position - velocityEvent.position;
                        var time = lastMoveEvent.time - velocityEvent.time;
                        s.velocity = distance / time;
                        s.velocity = s.velocity / 2;
                        if (Math.abs(s.velocity) < s.params.freeModeMinimumVelocity) {
                            s.velocity = 0
                        }
                        if (time > 150 || (new window.Date().getTime() - lastMoveEvent.time) > 300) {
                            s.velocity = 0
                        }
                    } else {
                        s.velocity = 0
                    }
                    s.velocity = s.velocity * s.params.freeModeMomentumVelocityRatio;
                    velocities.length = 0;
                    var momentumDuration = 1000 * s.params.freeModeMomentumRatio;
                    var momentumDistance = s.velocity * momentumDuration;
                    var newPosition = s.translate + momentumDistance;
                    if (s.rtl)
                        newPosition = -newPosition;
                    var doBounce = !1;
                    var afterBouncePosition;
                    var bounceAmount = Math.abs(s.velocity) * 20 * s.params.freeModeMomentumBounceRatio;
                    if (newPosition < s.maxTranslate()) {
                        if (s.params.freeModeMomentumBounce) {
                            if (newPosition + s.maxTranslate() < -bounceAmount) {
                                newPosition = s.maxTranslate() - bounceAmount
                            }
                            afterBouncePosition = s.maxTranslate();
                            doBounce = !0;
                            allowMomentumBounce = !0
                        } else {
                            newPosition = s.maxTranslate()
                        }
                    } else if (newPosition > s.minTranslate()) {
                        if (s.params.freeModeMomentumBounce) {
                            if (newPosition - s.minTranslate() > bounceAmount) {
                                newPosition = s.minTranslate() + bounceAmount
                            }
                            afterBouncePosition = s.minTranslate();
                            doBounce = !0;
                            allowMomentumBounce = !0
                        } else {
                            newPosition = s.minTranslate()
                        }
                    } else if (s.params.freeModeSticky) {
                        var j = 0, nextSlide;
                        for (j = 0; j < s.snapGrid.length; j += 1) {
                            if (s.snapGrid[j] > -newPosition) {
                                nextSlide = j;
                                break
                            }
                        }
                        if (Math.abs(s.snapGrid[nextSlide] - newPosition) < Math.abs(s.snapGrid[nextSlide - 1] - newPosition) || s.swipeDirection === 'next') {
                            newPosition = s.snapGrid[nextSlide]
                        } else {
                            newPosition = s.snapGrid[nextSlide - 1]
                        }
                        if (!s.rtl)
                            newPosition = -newPosition
                    }
                    if (s.velocity !== 0) {
                        if (s.rtl) {
                            momentumDuration = Math.abs((-newPosition - s.translate) / s.velocity)
                        } else {
                            momentumDuration = Math.abs((newPosition - s.translate) / s.velocity)
                        }
                    } else if (s.params.freeModeSticky) {
                        s.slideReset();
                        return
                    }
                    if (s.params.freeModeMomentumBounce && doBounce) {
                        s.updateProgress(afterBouncePosition);
                        s.setWrapperTransition(momentumDuration);
                        s.setWrapperTranslate(newPosition);
                        s.onTransitionStart();
                        s.animating = !0;
                        s.wrapper.transitionEnd(function() {
                            if (!s || !allowMomentumBounce)
                                return;
                            s.emit('onMomentumBounce', s);
                            s.setWrapperTransition(s.params.speed);
                            s.setWrapperTranslate(afterBouncePosition);
                            s.wrapper.transitionEnd(function() {
                                if (!s)
                                    return;
                                s.onTransitionEnd()
                            })
                        })
                    } else if (s.velocity) {
                        s.updateProgress(newPosition);
                        s.setWrapperTransition(momentumDuration);
                        s.setWrapperTranslate(newPosition);
                        s.onTransitionStart();
                        if (!s.animating) {
                            s.animating = !0;
                            s.wrapper.transitionEnd(function() {
                                if (!s)
                                    return;
                                s.onTransitionEnd()
                            })
                        }
                    } else {
                        s.updateProgress(newPosition)
                    }
                    s.updateActiveIndex()
                }
                if (!s.params.freeModeMomentum || timeDiff >= s.params.longSwipesMs) {
                    s.updateProgress();
                    s.updateActiveIndex()
                }
                return
            }
            var i, stopIndex = 0, groupSize = s.slidesSizesGrid[0];
            for (i = 0; i < s.slidesGrid.length; i += s.params.slidesPerGroup) {
                if (typeof s.slidesGrid[i + s.params.slidesPerGroup] !== 'undefined') {
                    if (currentPos >= s.slidesGrid[i] && currentPos < s.slidesGrid[i + s.params.slidesPerGroup]) {
                        stopIndex = i;
                        groupSize = s.slidesGrid[i + s.params.slidesPerGroup] - s.slidesGrid[i]
                    }
                } else {
                    if (currentPos >= s.slidesGrid[i]) {
                        stopIndex = i;
                        groupSize = s.slidesGrid[s.slidesGrid.length - 1] - s.slidesGrid[s.slidesGrid.length - 2]
                    }
                }
            }
            var ratio = (currentPos - s.slidesGrid[stopIndex]) / groupSize;
            if (timeDiff > s.params.longSwipesMs) {
                if (!s.params.longSwipes) {
                    s.slideTo(s.activeIndex);
                    return
                }
                if (s.swipeDirection === 'next') {
                    if (ratio >= s.params.longSwipesRatio)
                        s.slideTo(stopIndex + s.params.slidesPerGroup);
                    else
                        s.slideTo(stopIndex)
                }
                if (s.swipeDirection === 'prev') {
                    if (ratio > (1 - s.params.longSwipesRatio))
                        s.slideTo(stopIndex + s.params.slidesPerGroup);
                    else
                        s.slideTo(stopIndex)
                }
            } else {
                if (!s.params.shortSwipes) {
                    s.slideTo(s.activeIndex);
                    return
                }
                if (s.swipeDirection === 'next') {
                    s.slideTo(stopIndex + s.params.slidesPerGroup)
                }
                if (s.swipeDirection === 'prev') {
                    s.slideTo(stopIndex)
                }
            }
        }
        ;
        s._slideTo = function(slideIndex, speed) {
            return s.slideTo(slideIndex, speed, !0, !0)
        }
        ;
        s.slideTo = function(slideIndex, speed, runCallbacks, internal) {
            if (typeof runCallbacks === 'undefined')
                runCallbacks = !0;
            if (typeof slideIndex === 'undefined')
                slideIndex = 0;
            if (slideIndex < 0)
                slideIndex = 0;
            s.snapIndex = Math.floor(slideIndex / s.params.slidesPerGroup);
            if (s.snapIndex >= s.snapGrid.length)
                s.snapIndex = s.snapGrid.length - 1;
            var translate = -s.snapGrid[s.snapIndex];
            if (s.params.autoplay && s.autoplaying) {
                if (internal || !s.params.autoplayDisableOnInteraction) {
                    s.pauseAutoplay(speed)
                } else {
                    s.stopAutoplay()
                }
            }
            s.updateProgress(translate);
            if (s.params.normalizeSlideIndex) {
                for (var i = 0; i < s.slidesGrid.length; i++) {
                    if (-Math.floor(translate * 100) >= Math.floor(s.slidesGrid[i] * 100)) {
                        slideIndex = i
                    }
                }
            }
            if (!s.params.allowSwipeToNext && translate < s.translate && translate < s.minTranslate()) {
                return !1
            }
            if (!s.params.allowSwipeToPrev && translate > s.translate && translate > s.maxTranslate()) {
                if ((s.activeIndex || 0) !== slideIndex)
                    return !1
            }
            if (typeof speed === 'undefined')
                speed = s.params.speed;
            s.previousIndex = s.activeIndex || 0;
            s.activeIndex = slideIndex;
            s.updateRealIndex();
            if ((s.rtl && -translate === s.translate) || (!s.rtl && translate === s.translate)) {
                if (s.params.autoHeight) {
                    s.updateAutoHeight()
                }
                s.updateClasses();
                if (s.params.effect !== 'slide') {
                    s.setWrapperTranslate(translate)
                }
                return !1
            }
            s.updateClasses();
            s.onTransitionStart(runCallbacks);
            if (speed === 0 || s.browser.lteIE9) {
                s.setWrapperTranslate(translate);
                s.setWrapperTransition(0);
                s.onTransitionEnd(runCallbacks)
            } else {
                s.setWrapperTranslate(translate);
                s.setWrapperTransition(speed);
                if (!s.animating) {
                    s.animating = !0;
                    s.wrapper.transitionEnd(function() {
                        if (!s)
                            return;
                        s.onTransitionEnd(runCallbacks)
                    })
                }
            }
            return !0
        }
        ;
        s.onTransitionStart = function(runCallbacks) {
            if (typeof runCallbacks === 'undefined')
                runCallbacks = !0;
            if (s.params.autoHeight) {
                s.updateAutoHeight()
            }
            if (s.lazy)
                s.lazy.onTransitionStart();
            if (runCallbacks) {
                s.emit('onTransitionStart', s);
                if (s.activeIndex !== s.previousIndex) {
                    s.emit('onSlideChangeStart', s);
                    if (s.activeIndex > s.previousIndex) {
                        s.emit('onSlideNextStart', s)
                    } else {
                        s.emit('onSlidePrevStart', s)
                    }
                }
            }
        }
        ;
        s.onTransitionEnd = function(runCallbacks) {
            s.animating = !1;
            s.setWrapperTransition(0);
            if (typeof runCallbacks === 'undefined')
                runCallbacks = !0;
            if (s.lazy)
                s.lazy.onTransitionEnd();
            if (runCallbacks) {
                s.emit('onTransitionEnd', s);
                if (s.activeIndex !== s.previousIndex) {
                    s.emit('onSlideChangeEnd', s);
                    if (s.activeIndex > s.previousIndex) {
                        s.emit('onSlideNextEnd', s)
                    } else {
                        s.emit('onSlidePrevEnd', s)
                    }
                }
            }
            if (s.params.history && s.history) {
                s.history.setHistory(s.params.history, s.activeIndex)
            }
            if (s.params.hashnav && s.hashnav) {
                s.hashnav.setHash()
            }
        }
        ;
        s.slideNext = function(runCallbacks, speed, internal) {
            if (s.params.loop) {
                if (s.animating)
                    return !1;
                s.fixLoop();
                var clientLeft = s.container[0].clientLeft;
                return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal)
            } else
                return s.slideTo(s.activeIndex + s.params.slidesPerGroup, speed, runCallbacks, internal)
        }
        ;
        s._slideNext = function(speed) {
            return s.slideNext(!0, speed, !0)
        }
        ;
        s.slidePrev = function(runCallbacks, speed, internal) {
            if (s.params.loop) {
                if (s.animating)
                    return !1;
                s.fixLoop();
                var clientLeft = s.container[0].clientLeft;
                return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal)
            } else
                return s.slideTo(s.activeIndex - 1, speed, runCallbacks, internal)
        }
        ;
        s._slidePrev = function(speed) {
            return s.slidePrev(!0, speed, !0)
        }
        ;
        s.slideReset = function(runCallbacks, speed, internal) {
            return s.slideTo(s.activeIndex, speed, runCallbacks)
        }
        ;
        s.disableTouchControl = function() {
            s.params.onlyExternal = !0;
            return !0
        }
        ;
        s.enableTouchControl = function() {
            s.params.onlyExternal = !1;
            return !0
        }
        ;
        s.setWrapperTransition = function(duration, byController) {
            s.wrapper.transition(duration);
            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {
                s.effects[s.params.effect].setTransition(duration)
            }
            if (s.params.parallax && s.parallax) {
                s.parallax.setTransition(duration)
            }
            if (s.params.scrollbar && s.scrollbar) {
                s.scrollbar.setTransition(duration)
            }
            if (s.params.control && s.controller) {
                s.controller.setTransition(duration, byController)
            }
            s.emit('onSetTransition', s, duration)
        }
        ;
        s.setWrapperTranslate = function(translate, updateActiveIndex, byController) {
            var x = 0
              , y = 0
              , z = 0;
            if (s.isHorizontal()) {
                x = s.rtl ? -translate : translate
            } else {
                y = translate
            }
            if (s.params.roundLengths) {
                x = round(x);
                y = round(y)
            }
            if (!s.params.virtualTranslate) {
                if (s.support.transforms3d)
                    s.wrapper.transform('translate3d(' + x + 'px, ' + y + 'px, ' + z + 'px)');
                else
                    s.wrapper.transform('translate(' + x + 'px, ' + y + 'px)')
            }
            s.translate = s.isHorizontal() ? x : y;
            var progress;
            var translatesDiff = s.maxTranslate() - s.minTranslate();
            if (translatesDiff === 0) {
                progress = 0
            } else {
                progress = (translate - s.minTranslate()) / (translatesDiff)
            }
            if (progress !== s.progress) {
                s.updateProgress(translate)
            }
            if (updateActiveIndex)
                s.updateActiveIndex();
            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {
                s.effects[s.params.effect].setTranslate(s.translate)
            }
            if (s.params.parallax && s.parallax) {
                s.parallax.setTranslate(s.translate)
            }
            if (s.params.scrollbar && s.scrollbar) {
                s.scrollbar.setTranslate(s.translate)
            }
            if (s.params.control && s.controller) {
                s.controller.setTranslate(s.translate, byController)
            }
            s.emit('onSetTranslate', s, s.translate)
        }
        ;
        s.getTranslate = function(el, axis) {
            var matrix, curTransform, curStyle, transformMatrix;
            if (typeof axis === 'undefined') {
                axis = 'x'
            }
            if (s.params.virtualTranslate) {
                return s.rtl ? -s.translate : s.translate
            }
            curStyle = window.getComputedStyle(el, null);
            if (window.WebKitCSSMatrix) {
                curTransform = curStyle.transform || curStyle.webkitTransform;
                if (curTransform.split(',').length > 6) {
                    curTransform = curTransform.split(', ').map(function(a) {
                        return a.replace(',', '.')
                    }).join(', ')
                }
                transformMatrix = new window.WebKitCSSMatrix(curTransform === 'none' ? '' : curTransform)
            } else {
                transformMatrix = curStyle.MozTransform || curStyle.OTransform || curStyle.MsTransform || curStyle.msTransform || curStyle.transform || curStyle.getPropertyValue('transform').replace('translate(', 'matrix(1, 0, 0, 1,');
                matrix = transformMatrix.toString().split(',')
            }
            if (axis === 'x') {
                if (window.WebKitCSSMatrix)
                    curTransform = transformMatrix.m41;
                else if (matrix.length === 16)
                    curTransform = parseFloat(matrix[12]);
                else
                    curTransform = parseFloat(matrix[4])
            }
            if (axis === 'y') {
                if (window.WebKitCSSMatrix)
                    curTransform = transformMatrix.m42;
                else if (matrix.length === 16)
                    curTransform = parseFloat(matrix[13]);
                else
                    curTransform = parseFloat(matrix[5])
            }
            if (s.rtl && curTransform)
                curTransform = -curTransform;
            return curTransform || 0
        }
        ;
        s.getWrapperTranslate = function(axis) {
            if (typeof axis === 'undefined') {
                axis = s.isHorizontal() ? 'x' : 'y'
            }
            return s.getTranslate(s.wrapper[0], axis)
        }
        ;
        s.observers = [];
        function initObserver(target, options) {
            options = options || {};
            var ObserverFunc = window.MutationObserver || window.WebkitMutationObserver;
            var observer = new ObserverFunc(function(mutations) {
                mutations.forEach(function(mutation) {
                    s.onResize(!0);
                    s.emit('onObserverUpdate', s, mutation)
                })
            }
            );
            observer.observe(target, {
                attributes: typeof options.attributes === 'undefined' ? !0 : options.attributes,
                childList: typeof options.childList === 'undefined' ? !0 : options.childList,
                characterData: typeof options.characterData === 'undefined' ? !0 : options.characterData
            });
            s.observers.push(observer)
        }
        s.initObservers = function() {
            if (s.params.observeParents) {
                var containerParents = s.container.parents();
                for (var i = 0; i < containerParents.length; i++) {
                    initObserver(containerParents[i])
                }
            }
            initObserver(s.container[0], {
                childList: !1
            });
            initObserver(s.wrapper[0], {
                attributes: !1
            })
        }
        ;
        s.disconnectObservers = function() {
            for (var i = 0; i < s.observers.length; i++) {
                s.observers[i].disconnect()
            }
            s.observers = []
        }
        ;
        s.createLoop = function() {
            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();
            var slides = s.wrapper.children('.' + s.params.slideClass);
            if (s.params.slidesPerView === 'auto' && !s.params.loopedSlides)
                s.params.loopedSlides = slides.length;
            s.loopedSlides = parseInt(s.params.loopedSlides || s.params.slidesPerView, 10);
            s.loopedSlides = s.loopedSlides + s.params.loopAdditionalSlides;
            if (s.loopedSlides > slides.length) {
                s.loopedSlides = slides.length
            }
            var prependSlides = [], appendSlides = [], i;
            slides.each(function(index, el) {
                var slide = $(this);
                if (index < s.loopedSlides)
                    appendSlides.push(el);
                if (index < slides.length && index >= slides.length - s.loopedSlides)
                    prependSlides.push(el);
                slide.attr('data-swiper-slide-index', index)
            });
            for (i = 0; i < appendSlides.length; i++) {
                s.wrapper.append($(appendSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))
            }
            for (i = prependSlides.length - 1; i >= 0; i--) {
                s.wrapper.prepend($(prependSlides[i].cloneNode(!0)).addClass(s.params.slideDuplicateClass))
            }
        }
        ;
        s.destroyLoop = function() {
            s.wrapper.children('.' + s.params.slideClass + '.' + s.params.slideDuplicateClass).remove();
            s.slides.removeAttr('data-swiper-slide-index')
        }
        ;
        s.reLoop = function(updatePosition) {
            var oldIndex = s.activeIndex - s.loopedSlides;
            s.destroyLoop();
            s.createLoop();
            s.updateSlidesSize();
            if (updatePosition) {
                s.slideTo(oldIndex + s.loopedSlides, 0, !1)
            }
        }
        ;
        s.fixLoop = function() {
            var newIndex;
            if (s.activeIndex < s.loopedSlides) {
                newIndex = s.slides.length - s.loopedSlides * 3 + s.activeIndex;
                newIndex = newIndex + s.loopedSlides;
                s.slideTo(newIndex, 0, !1, !0)
            } else if ((s.params.slidesPerView === 'auto' && s.activeIndex >= s.loopedSlides * 2) || (s.activeIndex > s.slides.length - s.params.slidesPerView * 2)) {
                newIndex = -s.slides.length + s.activeIndex + s.loopedSlides;
                newIndex = newIndex + s.loopedSlides;
                s.slideTo(newIndex, 0, !1, !0)
            }
        }
        ;
        s.appendSlide = function(slides) {
            if (s.params.loop) {
                s.destroyLoop()
            }
            if (typeof slides === 'object' && slides.length) {
                for (var i = 0; i < slides.length; i++) {
                    if (slides[i])
                        s.wrapper.append(slides[i])
                }
            } else {
                s.wrapper.append(slides)
            }
            if (s.params.loop) {
                s.createLoop()
            }
            if (!(s.params.observer && s.support.observer)) {
                s.update(!0)
            }
        }
        ;
        s.prependSlide = function(slides) {
            if (s.params.loop) {
                s.destroyLoop()
            }
            var newActiveIndex = s.activeIndex + 1;
            if (typeof slides === 'object' && slides.length) {
                for (var i = 0; i < slides.length; i++) {
                    if (slides[i])
                        s.wrapper.prepend(slides[i])
                }
                newActiveIndex = s.activeIndex + slides.length
            } else {
                s.wrapper.prepend(slides)
            }
            if (s.params.loop) {
                s.createLoop()
            }
            if (!(s.params.observer && s.support.observer)) {
                s.update(!0)
            }
            s.slideTo(newActiveIndex, 0, !1)
        }
        ;
        s.removeSlide = function(slidesIndexes) {
            if (s.params.loop) {
                s.destroyLoop();
                s.slides = s.wrapper.children('.' + s.params.slideClass)
            }
            var newActiveIndex = s.activeIndex, indexToRemove;
            if (typeof slidesIndexes === 'object' && slidesIndexes.length) {
                for (var i = 0; i < slidesIndexes.length; i++) {
                    indexToRemove = slidesIndexes[i];
                    if (s.slides[indexToRemove])
                        s.slides.eq(indexToRemove).remove();
                    if (indexToRemove < newActiveIndex)
                        newActiveIndex--
                }
                newActiveIndex = Math.max(newActiveIndex, 0)
            } else {
                indexToRemove = slidesIndexes;
                if (s.slides[indexToRemove])
                    s.slides.eq(indexToRemove).remove();
                if (indexToRemove < newActiveIndex)
                    newActiveIndex--;
                newActiveIndex = Math.max(newActiveIndex, 0)
            }
            if (s.params.loop) {
                s.createLoop()
            }
            if (!(s.params.observer && s.support.observer)) {
                s.update(!0)
            }
            if (s.params.loop) {
                s.slideTo(newActiveIndex + s.loopedSlides, 0, !1)
            } else {
                s.slideTo(newActiveIndex, 0, !1)
            }
        }
        ;
        s.removeAllSlides = function() {
            var slidesIndexes = [];
            for (var i = 0; i < s.slides.length; i++) {
                slidesIndexes.push(i)
            }
            s.removeSlide(slidesIndexes)
        }
        ;
        s.effects = {
            fade: {
                setTranslate: function() {
                    for (var i = 0; i < s.slides.length; i++) {
                        var slide = s.slides.eq(i);
                        var offset = slide[0].swiperSlideOffset;
                        var tx = -offset;
                        if (!s.params.virtualTranslate)
                            tx = tx - s.translate;
                        var ty = 0;
                        if (!s.isHorizontal()) {
                            ty = tx;
                            tx = 0
                        }
                        var slideOpacity = s.params.fade.crossFade ? Math.max(1 - Math.abs(slide[0].progress), 0) : 1 + Math.min(Math.max(slide[0].progress, -1), 0);
                        if (s.params.slidesPerView === 1) {
                            slideOpacity = (i === s.activeIndex) ? 1 : 0
                        }
                        slide.css({
                            opacity: slideOpacity
                        }).transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px)')
                    }
                },
                setTransition: function(duration) {
                    s.slides.transition(duration);
                    if (s.params.virtualTranslate && duration !== 0) {
                        var eventTriggered = !1;
                        s.slides.transitionEnd(function() {
                            if (eventTriggered)
                                return;
                            if (!s)
                                return;
                            eventTriggered = !0;
                            s.animating = !1;
                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];
                            for (var i = 0; i < triggerEvents.length; i++) {
                                s.wrapper.trigger(triggerEvents[i])
                            }
                        })
                    }
                }
            },
            flip: {
                setTranslate: function() {
                    for (var i = 0; i < s.slides.length; i++) {
                        var slide = s.slides.eq(i);
                        var progress = slide[0].progress;
                        if (s.params.flip.limitRotation) {
                            progress = Math.max(Math.min(slide[0].progress, 1), -1)
                        }
                        var offset = slide[0].swiperSlideOffset;
                        var rotate = -180 * progress
                          , rotateY = rotate
                          , rotateX = 0
                          , tx = -offset
                          , ty = 0;
                        if (!s.isHorizontal()) {
                            ty = tx;
                            tx = 0;
                            rotateX = -rotateY;
                            rotateY = 0
                        } else if (s.rtl) {
                            rotateY = -rotateY
                        }
                        slide[0].style.zIndex = -Math.abs(Math.round(progress)) + s.slides.length;
                        if (s.params.flip.slideShadows) {
                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');
                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');
                            if (shadowBefore.length === 0) {
                                shadowBefore = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '"></div>');
                                slide.append(shadowBefore)
                            }
                            if (shadowAfter.length === 0) {
                                shadowAfter = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '"></div>');
                                slide.append(shadowAfter)
                            }
                            if (shadowBefore.length)
                                shadowBefore[0].style.opacity = Math.max(-progress, 0);
                            if (shadowAfter.length)
                                shadowAfter[0].style.opacity = Math.max(progress, 0)
                        }
                        slide.transform('translate3d(' + tx + 'px, ' + ty + 'px, 0px) rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)')
                    }
                },
                setTransition: function(duration) {
                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
                    if (s.params.virtualTranslate && duration !== 0) {
                        var eventTriggered = !1;
                        s.slides.eq(s.activeIndex).transitionEnd(function() {
                            if (eventTriggered)
                                return;
                            if (!s)
                                return;
                            if (!$(this).hasClass(s.params.slideActiveClass))
                                return;
                            eventTriggered = !0;
                            s.animating = !1;
                            var triggerEvents = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'];
                            for (var i = 0; i < triggerEvents.length; i++) {
                                s.wrapper.trigger(triggerEvents[i])
                            }
                        })
                    }
                }
            },
            cube: {
                setTranslate: function() {
                    var wrapperRotate = 0, cubeShadow;
                    if (s.params.cube.shadow) {
                        if (s.isHorizontal()) {
                            cubeShadow = s.wrapper.find('.swiper-cube-shadow');
                            if (cubeShadow.length === 0) {
                                cubeShadow = $('<div class="swiper-cube-shadow"></div>');
                                s.wrapper.append(cubeShadow)
                            }
                            cubeShadow.css({
                                height: s.width + 'px'
                            })
                        } else {
                            cubeShadow = s.container.find('.swiper-cube-shadow');
                            if (cubeShadow.length === 0) {
                                cubeShadow = $('<div class="swiper-cube-shadow"></div>');
                                s.container.append(cubeShadow)
                            }
                        }
                    }
                    for (var i = 0; i < s.slides.length; i++) {
                        var slide = s.slides.eq(i);
                        var slideAngle = i * 90;
                        var round = Math.floor(slideAngle / 360);
                        if (s.rtl) {
                            slideAngle = -slideAngle;
                            round = Math.floor(-slideAngle / 360)
                        }
                        var progress = Math.max(Math.min(slide[0].progress, 1), -1);
                        var tx = 0
                          , ty = 0
                          , tz = 0;
                        if (i % 4 === 0) {
                            tx = -round * 4 * s.size;
                            tz = 0
                        } else if ((i - 1) % 4 === 0) {
                            tx = 0;
                            tz = -round * 4 * s.size
                        } else if ((i - 2) % 4 === 0) {
                            tx = s.size + round * 4 * s.size;
                            tz = s.size
                        } else if ((i - 3) % 4 === 0) {
                            tx = -s.size;
                            tz = 3 * s.size + s.size * 4 * round
                        }
                        if (s.rtl) {
                            tx = -tx
                        }
                        if (!s.isHorizontal()) {
                            ty = tx;
                            tx = 0
                        }
                        var transform = 'rotateX(' + (s.isHorizontal() ? 0 : -slideAngle) + 'deg) rotateY(' + (s.isHorizontal() ? slideAngle : 0) + 'deg) translate3d(' + tx + 'px, ' + ty + 'px, ' + tz + 'px)';
                        if (progress <= 1 && progress > -1) {
                            wrapperRotate = i * 90 + progress * 90;
                            if (s.rtl)
                                wrapperRotate = -i * 90 - progress * 90
                        }
                        slide.transform(transform);
                        if (s.params.cube.slideShadows) {
                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');
                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');
                            if (shadowBefore.length === 0) {
                                shadowBefore = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '"></div>');
                                slide.append(shadowBefore)
                            }
                            if (shadowAfter.length === 0) {
                                shadowAfter = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '"></div>');
                                slide.append(shadowAfter)
                            }
                            if (shadowBefore.length)
                                shadowBefore[0].style.opacity = Math.max(-progress, 0);
                            if (shadowAfter.length)
                                shadowAfter[0].style.opacity = Math.max(progress, 0)
                        }
                    }
                    s.wrapper.css({
                        '-webkit-transform-origin': '50% 50% -' + (s.size / 2) + 'px',
                        '-moz-transform-origin': '50% 50% -' + (s.size / 2) + 'px',
                        '-ms-transform-origin': '50% 50% -' + (s.size / 2) + 'px',
                        'transform-origin': '50% 50% -' + (s.size / 2) + 'px'
                    });
                    if (s.params.cube.shadow) {
                        if (s.isHorizontal()) {
                            cubeShadow.transform('translate3d(0px, ' + (s.width / 2 + s.params.cube.shadowOffset) + 'px, ' + (-s.width / 2) + 'px) rotateX(90deg) rotateZ(0deg) scale(' + (s.params.cube.shadowScale) + ')')
                        } else {
                            var shadowAngle = Math.abs(wrapperRotate) - Math.floor(Math.abs(wrapperRotate) / 90) * 90;
                            var multiplier = 1.5 - (Math.sin(shadowAngle * 2 * Math.PI / 360) / 2 + Math.cos(shadowAngle * 2 * Math.PI / 360) / 2);
                            var scale1 = s.params.cube.shadowScale
                              , scale2 = s.params.cube.shadowScale / multiplier
                              , offset = s.params.cube.shadowOffset;
                            cubeShadow.transform('scale3d(' + scale1 + ', 1, ' + scale2 + ') translate3d(0px, ' + (s.height / 2 + offset) + 'px, ' + (-s.height / 2 / scale2) + 'px) rotateX(-90deg)')
                        }
                    }
                    var zFactor = (s.isSafari || s.isUiWebView) ? (-s.size / 2) : 0;
                    s.wrapper.transform('translate3d(0px,0,' + zFactor + 'px) rotateX(' + (s.isHorizontal() ? 0 : wrapperRotate) + 'deg) rotateY(' + (s.isHorizontal() ? -wrapperRotate : 0) + 'deg)')
                },
                setTransition: function(duration) {
                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration);
                    if (s.params.cube.shadow && !s.isHorizontal()) {
                        s.container.find('.swiper-cube-shadow').transition(duration)
                    }
                }
            },
            coverflow: {
                setTranslate: function() {
                    var transform = s.translate;
                    var center = s.isHorizontal() ? -transform + s.width / 2 : -transform + s.height / 2;
                    var rotate = s.isHorizontal() ? s.params.coverflow.rotate : -s.params.coverflow.rotate;
                    var translate = s.params.coverflow.depth;
                    for (var i = 0, length = s.slides.length; i < length; i++) {
                        var slide = s.slides.eq(i);
                        var slideSize = s.slidesSizesGrid[i];
                        var slideOffset = slide[0].swiperSlideOffset;
                        var offsetMultiplier = (center - slideOffset - slideSize / 2) / slideSize * s.params.coverflow.modifier;
                        var rotateY = s.isHorizontal() ? rotate * offsetMultiplier : 0;
                        var rotateX = s.isHorizontal() ? 0 : rotate * offsetMultiplier;
                        var translateZ = -translate * Math.abs(offsetMultiplier);
                        var translateY = s.isHorizontal() ? 0 : s.params.coverflow.stretch * (offsetMultiplier);
                        var translateX = s.isHorizontal() ? s.params.coverflow.stretch * (offsetMultiplier) : 0;
                        if (Math.abs(translateX) < 0.001)
                            translateX = 0;
                        if (Math.abs(translateY) < 0.001)
                            translateY = 0;
                        if (Math.abs(translateZ) < 0.001)
                            translateZ = 0;
                        if (Math.abs(rotateY) < 0.001)
                            rotateY = 0;
                        if (Math.abs(rotateX) < 0.001)
                            rotateX = 0;
                        var slideTransform = 'translate3d(' + translateX + 'px,' + translateY + 'px,' + translateZ + 'px)  rotateX(' + rotateX + 'deg) rotateY(' + rotateY + 'deg)';
                        slide.transform(slideTransform);
                        slide[0].style.zIndex = -Math.abs(Math.round(offsetMultiplier)) + 1;
                        if (s.params.coverflow.slideShadows) {
                            var shadowBefore = s.isHorizontal() ? slide.find('.swiper-slide-shadow-left') : slide.find('.swiper-slide-shadow-top');
                            var shadowAfter = s.isHorizontal() ? slide.find('.swiper-slide-shadow-right') : slide.find('.swiper-slide-shadow-bottom');
                            if (shadowBefore.length === 0) {
                                shadowBefore = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'left' : 'top') + '"></div>');
                                slide.append(shadowBefore)
                            }
                            if (shadowAfter.length === 0) {
                                shadowAfter = $('<div class="swiper-slide-shadow-' + (s.isHorizontal() ? 'right' : 'bottom') + '"></div>');
                                slide.append(shadowAfter)
                            }
                            if (shadowBefore.length)
                                shadowBefore[0].style.opacity = offsetMultiplier > 0 ? offsetMultiplier : 0;
                            if (shadowAfter.length)
                                shadowAfter[0].style.opacity = (-offsetMultiplier) > 0 ? -offsetMultiplier : 0
                        }
                    }
                    if (s.browser.ie) {
                        var ws = s.wrapper[0].style;
                        ws.perspectiveOrigin = center + 'px 50%'
                    }
                },
                setTransition: function(duration) {
                    s.slides.transition(duration).find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left').transition(duration)
                }
            }
        };
        s.lazy = {
            initialImageLoaded: !1,
            loadImageInSlide: function(index, loadInDuplicate) {
                if (typeof index === 'undefined')
                    return;
                if (typeof loadInDuplicate === 'undefined')
                    loadInDuplicate = !0;
                if (s.slides.length === 0)
                    return;
                var slide = s.slides.eq(index);
                var img = slide.find('.' + s.params.lazyLoadingClass + ':not(.' + s.params.lazyStatusLoadedClass + '):not(.' + s.params.lazyStatusLoadingClass + ')');
                if (slide.hasClass(s.params.lazyLoadingClass) && !slide.hasClass(s.params.lazyStatusLoadedClass) && !slide.hasClass(s.params.lazyStatusLoadingClass)) {
                    img = img.add(slide[0])
                }
                if (img.length === 0)
                    return;
                img.each(function() {
                    var _img = $(this);
                    _img.addClass(s.params.lazyStatusLoadingClass);
                    var background = _img.attr('data-background');
                    var src = _img.attr('data-src')
                      , srcset = _img.attr('data-srcset')
                      , sizes = _img.attr('data-sizes');
                    s.loadImage(_img[0], (src || background), srcset, sizes, !1, function() {
                        if (typeof s === 'undefined' || s === null || !s)
                            return;
                        if (background) {
                            _img.css('background-image', 'url("' + background + '")');
                            _img.removeAttr('data-background')
                        } else {
                            if (srcset) {
                                _img.attr('srcset', srcset);
                                _img.removeAttr('data-srcset')
                            }
                            if (sizes) {
                                _img.attr('sizes', sizes);
                                _img.removeAttr('data-sizes')
                            }
                            if (src) {
                                _img.attr('src', src);
                                _img.removeAttr('data-src')
                            }
                        }
                        _img.addClass(s.params.lazyStatusLoadedClass).removeClass(s.params.lazyStatusLoadingClass);
                        slide.find('.' + s.params.lazyPreloaderClass + ', .' + s.params.preloaderClass).remove();
                        if (s.params.loop && loadInDuplicate) {
                            var slideOriginalIndex = slide.attr('data-swiper-slide-index');
                            if (slide.hasClass(s.params.slideDuplicateClass)) {
                                var originalSlide = s.wrapper.children('[data-swiper-slide-index="' + slideOriginalIndex + '"]:not(.' + s.params.slideDuplicateClass + ')');
                                s.lazy.loadImageInSlide(originalSlide.index(), !1)
                            } else {
                                var duplicatedSlide = s.wrapper.children('.' + s.params.slideDuplicateClass + '[data-swiper-slide-index="' + slideOriginalIndex + '"]');
                                s.lazy.loadImageInSlide(duplicatedSlide.index(), !1)
                            }
                        }
                        s.emit('onLazyImageReady', s, slide[0], _img[0])
                    });
                    s.emit('onLazyImageLoad', s, slide[0], _img[0])
                })
            },
            load: function() {
                var i;
                var slidesPerView = s.params.slidesPerView;
                if (slidesPerView === 'auto') {
                    slidesPerView = 0
                }
                if (!s.lazy.initialImageLoaded)
                    s.lazy.initialImageLoaded = !0;
                if (s.params.watchSlidesVisibility) {
                    s.wrapper.children('.' + s.params.slideVisibleClass).each(function() {
                        s.lazy.loadImageInSlide($(this).index())
                    })
                } else {
                    if (slidesPerView > 1) {
                        for (i = s.activeIndex; i < s.activeIndex + slidesPerView; i++) {
                            if (s.slides[i])
                                s.lazy.loadImageInSlide(i)
                        }
                    } else {
                        s.lazy.loadImageInSlide(s.activeIndex)
                    }
                }
                if (s.params.lazyLoadingInPrevNext) {
                    if (slidesPerView > 1 || (s.params.lazyLoadingInPrevNextAmount && s.params.lazyLoadingInPrevNextAmount > 1)) {
                        var amount = s.params.lazyLoadingInPrevNextAmount;
                        var spv = slidesPerView;
                        var maxIndex = Math.min(s.activeIndex + spv + Math.max(amount, spv), s.slides.length);
                        var minIndex = Math.max(s.activeIndex - Math.max(spv, amount), 0);
                        for (i = s.activeIndex + slidesPerView; i < maxIndex; i++) {
                            if (s.slides[i])
                                s.lazy.loadImageInSlide(i)
                        }
                        for (i = minIndex; i < s.activeIndex; i++) {
                            if (s.slides[i])
                                s.lazy.loadImageInSlide(i)
                        }
                    } else {
                        var nextSlide = s.wrapper.children('.' + s.params.slideNextClass);
                        if (nextSlide.length > 0)
                            s.lazy.loadImageInSlide(nextSlide.index());
                        var prevSlide = s.wrapper.children('.' + s.params.slidePrevClass);
                        if (prevSlide.length > 0)
                            s.lazy.loadImageInSlide(prevSlide.index())
                    }
                }
            },
            onTransitionStart: function() {
                if (s.params.lazyLoading) {
                    if (s.params.lazyLoadingOnTransitionStart || (!s.params.lazyLoadingOnTransitionStart && !s.lazy.initialImageLoaded)) {
                        s.lazy.load()
                    }
                }
            },
            onTransitionEnd: function() {
                if (s.params.lazyLoading && !s.params.lazyLoadingOnTransitionStart) {
                    s.lazy.load()
                }
            }
        };
        s.scrollbar = {
            isTouched: !1,
            setDragPosition: function(e) {
                var sb = s.scrollbar;
                var x = 0
                  , y = 0;
                var translate;
                var pointerPosition = s.isHorizontal() ? ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageX : e.pageX || e.clientX) : ((e.type === 'touchstart' || e.type === 'touchmove') ? e.targetTouches[0].pageY : e.pageY || e.clientY);
                var position = (pointerPosition) - sb.track.offset()[s.isHorizontal() ? 'left' : 'top'] - sb.dragSize / 2;
                var positionMin = -s.minTranslate() * sb.moveDivider;
                var positionMax = -s.maxTranslate() * sb.moveDivider;
                if (position < positionMin) {
                    position = positionMin
                } else if (position > positionMax) {
                    position = positionMax
                }
                position = -position / sb.moveDivider;
                s.updateProgress(position);
                s.setWrapperTranslate(position, !0)
            },
            dragStart: function(e) {
                var sb = s.scrollbar;
                sb.isTouched = !0;
                e.preventDefault();
                e.stopPropagation();
                sb.setDragPosition(e);
                clearTimeout(sb.dragTimeout);
                sb.track.transition(0);
                if (s.params.scrollbarHide) {
                    sb.track.css('opacity', 1)
                }
                s.wrapper.transition(100);
                sb.drag.transition(100);
                s.emit('onScrollbarDragStart', s)
            },
            dragMove: function(e) {
                var sb = s.scrollbar;
                if (!sb.isTouched)
                    return;
                if (e.preventDefault)
                    e.preventDefault();
                else
                    e.returnValue = !1;
                sb.setDragPosition(e);
                s.wrapper.transition(0);
                sb.track.transition(0);
                sb.drag.transition(0);
                s.emit('onScrollbarDragMove', s)
            },
            dragEnd: function(e) {
                var sb = s.scrollbar;
                if (!sb.isTouched)
                    return;
                sb.isTouched = !1;
                if (s.params.scrollbarHide) {
                    clearTimeout(sb.dragTimeout);
                    sb.dragTimeout = setTimeout(function() {
                        sb.track.css('opacity', 0);
                        sb.track.transition(400)
                    }, 1000)
                }
                s.emit('onScrollbarDragEnd', s);
                if (s.params.scrollbarSnapOnRelease) {
                    s.slideReset()
                }
            },
            draggableEvents: (function() {
                if ((s.params.simulateTouch === !1 && !s.support.touch))
                    return s.touchEventsDesktop;
                else
                    return s.touchEvents
            }
            )(),
            enableDraggable: function() {
                var sb = s.scrollbar;
                var target = s.support.touch ? sb.track : document;
                $(sb.track).on(sb.draggableEvents.start, sb.dragStart);
                $(target).on(sb.draggableEvents.move, sb.dragMove);
                $(target).on(sb.draggableEvents.end, sb.dragEnd)
            },
            disableDraggable: function() {
                var sb = s.scrollbar;
                var target = s.support.touch ? sb.track : document;
                $(sb.track).off(sb.draggableEvents.start, sb.dragStart);
                $(target).off(sb.draggableEvents.move, sb.dragMove);
                $(target).off(sb.draggableEvents.end, sb.dragEnd)
            },
            set: function() {
                if (!s.params.scrollbar)
                    return;
                var sb = s.scrollbar;
                sb.track = $(s.params.scrollbar);
                if (s.params.uniqueNavElements && typeof s.params.scrollbar === 'string' && sb.track.length > 1 && s.container.find(s.params.scrollbar).length === 1) {
                    sb.track = s.container.find(s.params.scrollbar)
                }
                sb.drag = sb.track.find('.swiper-scrollbar-drag');
                if (sb.drag.length === 0) {
                    sb.drag = $('<div class="swiper-scrollbar-drag"></div>');
                    sb.track.append(sb.drag)
                }
                sb.drag[0].style.width = '';
                sb.drag[0].style.height = '';
                sb.trackSize = s.isHorizontal() ? sb.track[0].offsetWidth : sb.track[0].offsetHeight;
                sb.divider = s.size / s.virtualSize;
                sb.moveDivider = sb.divider * (sb.trackSize / s.size);
                sb.dragSize = sb.trackSize * sb.divider;
                if (s.isHorizontal()) {
                    sb.drag[0].style.width = sb.dragSize + 'px'
                } else {
                    sb.drag[0].style.height = sb.dragSize + 'px'
                }
                if (sb.divider >= 1) {
                    sb.track[0].style.display = 'none'
                } else {
                    sb.track[0].style.display = ''
                }
                if (s.params.scrollbarHide) {
                    sb.track[0].style.opacity = 0
                }
            },
            setTranslate: function() {
                if (!s.params.scrollbar)
                    return;
                var diff;
                var sb = s.scrollbar;
                var translate = s.translate || 0;
                var newPos;
                var newSize = sb.dragSize;
                newPos = (sb.trackSize - sb.dragSize) * s.progress;
                if (s.rtl && s.isHorizontal()) {
                    newPos = -newPos;
                    if (newPos > 0) {
                        newSize = sb.dragSize - newPos;
                        newPos = 0
                    } else if (-newPos + sb.dragSize > sb.trackSize) {
                        newSize = sb.trackSize + newPos
                    }
                } else {
                    if (newPos < 0) {
                        newSize = sb.dragSize + newPos;
                        newPos = 0
                    } else if (newPos + sb.dragSize > sb.trackSize) {
                        newSize = sb.trackSize - newPos
                    }
                }
                if (s.isHorizontal()) {
                    if (s.support.transforms3d) {
                        sb.drag.transform('translate3d(' + (newPos) + 'px, 0, 0)')
                    } else {
                        sb.drag.transform('translateX(' + (newPos) + 'px)')
                    }
                    sb.drag[0].style.width = newSize + 'px'
                } else {
                    if (s.support.transforms3d) {
                        sb.drag.transform('translate3d(0px, ' + (newPos) + 'px, 0)')
                    } else {
                        sb.drag.transform('translateY(' + (newPos) + 'px)')
                    }
                    sb.drag[0].style.height = newSize + 'px'
                }
                if (s.params.scrollbarHide) {
                    clearTimeout(sb.timeout);
                    sb.track[0].style.opacity = 1;
                    sb.timeout = setTimeout(function() {
                        sb.track[0].style.opacity = 0;
                        sb.track.transition(400)
                    }, 1000)
                }
            },
            setTransition: function(duration) {
                if (!s.params.scrollbar)
                    return;
                s.scrollbar.drag.transition(duration)
            }
        };
        s.controller = {
            LinearSpline: function(x, y) {
                var binarySearch = (function() {
                    var maxIndex, minIndex, guess;
                    return function(array, val) {
                        minIndex = -1;
                        maxIndex = array.length;
                        while (maxIndex - minIndex > 1)
                            if (array[guess = maxIndex + minIndex >> 1] <= val) {
                                minIndex = guess
                            } else {
                                maxIndex = guess
                            }
                        return maxIndex
                    }
                }
                )();
                this.x = x;
                this.y = y;
                this.lastIndex = x.length - 1;
                var i1, i3;
                var l = this.x.length;
                this.interpolate = function(x2) {
                    if (!x2)
                        return 0;
                    i3 = binarySearch(this.x, x2);
                    i1 = i3 - 1;
                    return ((x2 - this.x[i1]) * (this.y[i3] - this.y[i1])) / (this.x[i3] - this.x[i1]) + this.y[i1]
                }
            },
            getInterpolateFunction: function(c) {
                if (!s.controller.spline)
                    s.controller.spline = s.params.loop ? new s.controller.LinearSpline(s.slidesGrid,c.slidesGrid) : new s.controller.LinearSpline(s.snapGrid,c.snapGrid)
            },
            setTranslate: function(translate, byController) {
                var controlled = s.params.control;
                var multiplier, controlledTranslate;
                function setControlledTranslate(c) {
                    translate = c.rtl && c.params.direction === 'horizontal' ? -s.translate : s.translate;
                    if (s.params.controlBy === 'slide') {
                        s.controller.getInterpolateFunction(c);
                        controlledTranslate = -s.controller.spline.interpolate(-translate)
                    }
                    if (!controlledTranslate || s.params.controlBy === 'container') {
                        multiplier = (c.maxTranslate() - c.minTranslate()) / (s.maxTranslate() - s.minTranslate());
                        controlledTranslate = (translate - s.minTranslate()) * multiplier + c.minTranslate()
                    }
                    if (s.params.controlInverse) {
                        controlledTranslate = c.maxTranslate() - controlledTranslate
                    }
                    c.updateProgress(controlledTranslate);
                    c.setWrapperTranslate(controlledTranslate, !1, s);
                    c.updateActiveIndex()
                }
                if (Array.isArray(controlled)) {
                    for (var i = 0; i < controlled.length; i++) {
                        if (controlled[i] !== byController && controlled[i]instanceof Swiper) {
                            setControlledTranslate(controlled[i])
                        }
                    }
                } else if (controlled instanceof Swiper && byController !== controlled) {
                    setControlledTranslate(controlled)
                }
            },
            setTransition: function(duration, byController) {
                var controlled = s.params.control;
                var i;
                function setControlledTransition(c) {
                    c.setWrapperTransition(duration, s);
                    if (duration !== 0) {
                        c.onTransitionStart();
                        c.wrapper.transitionEnd(function() {
                            if (!controlled)
                                return;
                            if (c.params.loop && s.params.controlBy === 'slide') {
                                c.fixLoop()
                            }
                            c.onTransitionEnd()
                        })
                    }
                }
                if (Array.isArray(controlled)) {
                    for (i = 0; i < controlled.length; i++) {
                        if (controlled[i] !== byController && controlled[i]instanceof Swiper) {
                            setControlledTransition(controlled[i])
                        }
                    }
                } else if (controlled instanceof Swiper && byController !== controlled) {
                    setControlledTransition(controlled)
                }
            }
        };
        s.hashnav = {
            onHashCange: function(e, a) {
                var newHash = document.location.hash.replace('#', '');
                var activeSlideHash = s.slides.eq(s.activeIndex).attr('data-hash');
                if (newHash !== activeSlideHash) {
                    s.slideTo(s.wrapper.children('.' + s.params.slideClass + '[data-hash="' + (newHash) + '"]').index())
                }
            },
            attachEvents: function(detach) {
                var action = detach ? 'off' : 'on';
                $(window)[action]('hashchange', s.hashnav.onHashCange)
            },
            setHash: function() {
                if (!s.hashnav.initialized || !s.params.hashnav)
                    return;
                if (s.params.replaceState && window.history && window.history.replaceState) {
                    window.history.replaceState(null, null, ('#' + s.slides.eq(s.activeIndex).attr('data-hash') || ''))
                } else {
                    var slide = s.slides.eq(s.activeIndex);
                    var hash = slide.attr('data-hash') || slide.attr('data-history');
                    document.location.hash = hash || ''
                }
            },
            init: function() {
                if (!s.params.hashnav || s.params.history)
                    return;
                s.hashnav.initialized = !0;
                var hash = document.location.hash.replace('#', '');
                if (hash) {
                    var speed = 0;
                    for (var i = 0, length = s.slides.length; i < length; i++) {
                        var slide = s.slides.eq(i);
                        var slideHash = slide.attr('data-hash') || slide.attr('data-history');
                        if (slideHash === hash && !slide.hasClass(s.params.slideDuplicateClass)) {
                            var index = slide.index();
                            s.slideTo(index, speed, s.params.runCallbacksOnInit, !0)
                        }
                    }
                }
                if (s.params.hashnavWatchState)
                    s.hashnav.attachEvents()
            },
            destroy: function() {
                if (s.params.hashnavWatchState)
                    s.hashnav.attachEvents(!0)
            }
        };
        s.history = {
            init: function() {
                if (!s.params.history)
                    return;
                if (!window.history || !window.history.pushState) {
                    s.params.history = !1;
                    s.params.hashnav = !0;
                    return
                }
                s.history.initialized = !0;
                this.paths = this.getPathValues();
                if (!this.paths.key && !this.paths.value)
                    return;
                this.scrollToSlide(0, this.paths.value, s.params.runCallbacksOnInit);
                if (!s.params.replaceState) {
                    window.addEventListener('popstate', this.setHistoryPopState)
                }
            },
            setHistoryPopState: function() {
                s.history.paths = s.history.getPathValues();
                s.history.scrollToSlide(s.params.speed, s.history.paths.value, !1)
            },
            getPathValues: function() {
                var pathArray = window.location.pathname.slice(1).split('/');
                var total = pathArray.length;
                var key = pathArray[total - 2];
                var value = pathArray[total - 1];
                return {
                    key: key,
                    value: value
                }
            },
            setHistory: function(key, index) {
                if (!s.history.initialized || !s.params.history)
                    return;
                var slide = s.slides.eq(index);
                var value = this.slugify(slide.attr('data-history'));
                if (!window.location.pathname.includes(key)) {
                    value = key + '/' + value
                }
                if (s.params.replaceState) {
                    window.history.replaceState(null, null, value)
                } else {
                    window.history.pushState(null, null, value)
                }
            },
            slugify: function(text) {
                return text.toString().toLowerCase().replace(/\s+/g, '-').replace(/[^\w\-]+/g, '').replace(/\-\-+/g, '-').replace(/^-+/, '').replace(/-+$/, '')
            },
            scrollToSlide: function(speed, value, runCallbacks) {
                if (value) {
                    for (var i = 0, length = s.slides.length; i < length; i++) {
                        var slide = s.slides.eq(i);
                        var slideHistory = this.slugify(slide.attr('data-history'));
                        if (slideHistory === value && !slide.hasClass(s.params.slideDuplicateClass)) {
                            var index = slide.index();
                            s.slideTo(index, speed, runCallbacks)
                        }
                    }
                } else {
                    s.slideTo(0, speed, runCallbacks)
                }
            }
        };
        function handleKeyboard(e) {
            if (e.originalEvent)
                e = e.originalEvent;
            var kc = e.keyCode || e.charCode;
            if (!s.params.allowSwipeToNext && (s.isHorizontal() && kc === 39 || !s.isHorizontal() && kc === 40)) {
                return !1
            }
            if (!s.params.allowSwipeToPrev && (s.isHorizontal() && kc === 37 || !s.isHorizontal() && kc === 38)) {
                return !1
            }
            if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {
                return
            }
            if (document.activeElement && document.activeElement.nodeName && (document.activeElement.nodeName.toLowerCase() === 'input' || document.activeElement.nodeName.toLowerCase() === 'textarea')) {
                return
            }
            if (kc === 37 || kc === 39 || kc === 38 || kc === 40) {
                var inView = !1;
                if (s.container.parents('.' + s.params.slideClass).length > 0 && s.container.parents('.' + s.params.slideActiveClass).length === 0) {
                    return
                }
                var windowScroll = {
                    left: window.pageXOffset,
                    top: window.pageYOffset
                };
                var windowWidth = window.innerWidth;
                var windowHeight = window.innerHeight;
                var swiperOffset = s.container.offset();
                if (s.rtl)
                    swiperOffset.left = swiperOffset.left - s.container[0].scrollLeft;
                var swiperCoord = [[swiperOffset.left, swiperOffset.top], [swiperOffset.left + s.width, swiperOffset.top], [swiperOffset.left, swiperOffset.top + s.height], [swiperOffset.left + s.width, swiperOffset.top + s.height]];
                for (var i = 0; i < swiperCoord.length; i++) {
                    var point = swiperCoord[i];
                    if (point[0] >= windowScroll.left && point[0] <= windowScroll.left + windowWidth && point[1] >= windowScroll.top && point[1] <= windowScroll.top + windowHeight) {
                        inView = !0
                    }
                }
                if (!inView)
                    return
            }
            if (s.isHorizontal()) {
                if (kc === 37 || kc === 39) {
                    if (e.preventDefault)
                        e.preventDefault();
                    else
                        e.returnValue = !1
                }
                if ((kc === 39 && !s.rtl) || (kc === 37 && s.rtl))
                    s.slideNext();
                if ((kc === 37 && !s.rtl) || (kc === 39 && s.rtl))
                    s.slidePrev()
            } else {
                if (kc === 38 || kc === 40) {
                    if (e.preventDefault)
                        e.preventDefault();
                    else
                        e.returnValue = !1
                }
                if (kc === 40)
                    s.slideNext();
                if (kc === 38)
                    s.slidePrev()
            }
            s.emit('onKeyPress', s, kc)
        }
        s.disableKeyboardControl = function() {
            s.params.keyboardControl = !1;
            $(document).off('keydown', handleKeyboard)
        }
        ;
        s.enableKeyboardControl = function() {
            s.params.keyboardControl = !0;
            $(document).on('keydown', handleKeyboard)
        }
        ;
        s.mousewheel = {
            event: !1,
            lastScrollTime: (new window.Date()).getTime()
        };
        function isEventSupported() {
            var eventName = 'onwheel';
            var isSupported = eventName in document;
            if (!isSupported) {
                var element = document.createElement('div');
                element.setAttribute(eventName, 'return;');
                isSupported = typeof element[eventName] === 'function'
            }
            if (!isSupported && document.implementation && document.implementation.hasFeature && document.implementation.hasFeature('', '') !== !0) {
                isSupported = document.implementation.hasFeature('Events.wheel', '3.0')
            }
            return isSupported
        }
        function normalizeWheel(event) {
            var PIXEL_STEP = 10;
            var LINE_HEIGHT = 40;
            var PAGE_HEIGHT = 800;
            var sX = 0
              , sY = 0
              , pX = 0
              , pY = 0;
            if ('detail'in event) {
                sY = event.detail
            }
            if ('wheelDelta'in event) {
                sY = -event.wheelDelta / 120
            }
            if ('wheelDeltaY'in event) {
                sY = -event.wheelDeltaY / 120
            }
            if ('wheelDeltaX'in event) {
                sX = -event.wheelDeltaX / 120
            }
            if ('axis'in event && event.axis === event.HORIZONTAL_AXIS) {
                sX = sY;
                sY = 0
            }
            pX = sX * PIXEL_STEP;
            pY = sY * PIXEL_STEP;
            if ('deltaY'in event) {
                pY = event.deltaY
            }
            if ('deltaX'in event) {
                pX = event.deltaX
            }
            if ((pX || pY) && event.deltaMode) {
                if (event.deltaMode === 1) {
                    pX *= LINE_HEIGHT;
                    pY *= LINE_HEIGHT
                } else {
                    pX *= PAGE_HEIGHT;
                    pY *= PAGE_HEIGHT
                }
            }
            if (pX && !sX) {
                sX = (pX < 1) ? -1 : 1
            }
            if (pY && !sY) {
                sY = (pY < 1) ? -1 : 1
            }
            return {
                spinX: sX,
                spinY: sY,
                pixelX: pX,
                pixelY: pY
            }
        }
        if (s.params.mousewheelControl) {
            s.mousewheel.event = (navigator.userAgent.indexOf('firefox') > -1) ? 'DOMMouseScroll' : isEventSupported() ? 'wheel' : 'mousewheel'
        }
        function handleMousewheel(e) {
            if (e.originalEvent)
                e = e.originalEvent;
            var delta = 0;
            var rtlFactor = s.rtl ? -1 : 1;
            var data = normalizeWheel(e);
            if (s.params.mousewheelForceToAxis) {
                if (s.isHorizontal()) {
                    if (Math.abs(data.pixelX) > Math.abs(data.pixelY))
                        delta = data.pixelX * rtlFactor;
                    else
                        return
                } else {
                    if (Math.abs(data.pixelY) > Math.abs(data.pixelX))
                        delta = data.pixelY;
                    else
                        return
                }
            } else {
                delta = Math.abs(data.pixelX) > Math.abs(data.pixelY) ? -data.pixelX * rtlFactor : -data.pixelY
            }
            if (delta === 0)
                return;
            if (s.params.mousewheelInvert)
                delta = -delta;
            if (!s.params.freeMode) {
                if ((new window.Date()).getTime() - s.mousewheel.lastScrollTime > 60) {
                    if (delta < 0) {
                        if ((!s.isEnd || s.params.loop) && !s.animating) {
                            s.slideNext();
                            s.emit('onScroll', s, e)
                        } else if (s.params.mousewheelReleaseOnEdges)
                            return !0
                    } else {
                        if ((!s.isBeginning || s.params.loop) && !s.animating) {
                            s.slidePrev();
                            s.emit('onScroll', s, e)
                        } else if (s.params.mousewheelReleaseOnEdges)
                            return !0
                    }
                }
                s.mousewheel.lastScrollTime = (new window.Date()).getTime()
            } else {
                var position = s.getWrapperTranslate() + delta * s.params.mousewheelSensitivity;
                var wasBeginning = s.isBeginning
                  , wasEnd = s.isEnd;
                if (position >= s.minTranslate())
                    position = s.minTranslate();
                if (position <= s.maxTranslate())
                    position = s.maxTranslate();
                s.setWrapperTransition(0);
                s.setWrapperTranslate(position);
                s.updateProgress();
                s.updateActiveIndex();
                if (!wasBeginning && s.isBeginning || !wasEnd && s.isEnd) {
                    s.updateClasses()
                }
                if (s.params.freeModeSticky) {
                    clearTimeout(s.mousewheel.timeout);
                    s.mousewheel.timeout = setTimeout(function() {
                        s.slideReset()
                    }, 300)
                } else {
                    if (s.params.lazyLoading && s.lazy) {
                        s.lazy.load()
                    }
                }
                s.emit('onScroll', s, e);
                if (s.params.autoplay && s.params.autoplayDisableOnInteraction)
                    s.stopAutoplay();
                if (position === 0 || position === s.maxTranslate())
                    return
            }
            if (e.preventDefault)
                e.preventDefault();
            else
                e.returnValue = !1;
            return !1
        }
        s.disableMousewheelControl = function() {
            if (!s.mousewheel.event)
                return !1;
            var target = s.container;
            if (s.params.mousewheelEventsTarged !== 'container') {
                target = $(s.params.mousewheelEventsTarged)
            }
            target.off(s.mousewheel.event, handleMousewheel);
            s.params.mousewheelControl = !1;
            return !0
        }
        ;
        s.enableMousewheelControl = function() {
            if (!s.mousewheel.event)
                return !1;
            var target = s.container;
            if (s.params.mousewheelEventsTarged !== 'container') {
                target = $(s.params.mousewheelEventsTarged)
            }
            target.on(s.mousewheel.event, handleMousewheel);
            s.params.mousewheelControl = !0;
            return !0
        }
        ;
        function setParallaxTransform(el, progress) {
            el = $(el);
            var p, pX, pY;
            var rtlFactor = s.rtl ? -1 : 1;
            p = el.attr('data-swiper-parallax') || '0';
            pX = el.attr('data-swiper-parallax-x');
            pY = el.attr('data-swiper-parallax-y');
            if (pX || pY) {
                pX = pX || '0';
                pY = pY || '0'
            } else {
                if (s.isHorizontal()) {
                    pX = p;
                    pY = '0'
                } else {
                    pY = p;
                    pX = '0'
                }
            }
            if ((pX).indexOf('%') >= 0) {
                pX = parseInt(pX, 10) * progress * rtlFactor + '%'
            } else {
                pX = pX * progress * rtlFactor + 'px'
            }
            if ((pY).indexOf('%') >= 0) {
                pY = parseInt(pY, 10) * progress + '%'
            } else {
                pY = pY * progress + 'px'
            }
            el.transform('translate3d(' + pX + ', ' + pY + ',0px)')
        }
        s.parallax = {
            setTranslate: function() {
                s.container.children('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function() {
                    setParallaxTransform(this, s.progress)
                });
                s.slides.each(function() {
                    var slide = $(this);
                    slide.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function() {
                        var progress = Math.min(Math.max(slide[0].progress, -1), 1);
                        setParallaxTransform(this, progress)
                    })
                })
            },
            setTransition: function(duration) {
                if (typeof duration === 'undefined')
                    duration = s.params.speed;
                s.container.find('[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]').each(function() {
                    var el = $(this);
                    var parallaxDuration = parseInt(el.attr('data-swiper-parallax-duration'), 10) || duration;
                    if (duration === 0)
                        parallaxDuration = 0;
                    el.transition(parallaxDuration)
                })
            }
        };
        s.zoom = {
            scale: 1,
            currentScale: 1,
            isScaling: !1,
            gesture: {
                slide: undefined,
                slideWidth: undefined,
                slideHeight: undefined,
                image: undefined,
                imageWrap: undefined,
                zoomMax: s.params.zoomMax
            },
            image: {
                isTouched: undefined,
                isMoved: undefined,
                currentX: undefined,
                currentY: undefined,
                minX: undefined,
                minY: undefined,
                maxX: undefined,
                maxY: undefined,
                width: undefined,
                height: undefined,
                startX: undefined,
                startY: undefined,
                touchesStart: {},
                touchesCurrent: {}
            },
            velocity: {
                x: undefined,
                y: undefined,
                prevPositionX: undefined,
                prevPositionY: undefined,
                prevTime: undefined
            },
            getDistanceBetweenTouches: function(e) {
                if (e.targetTouches.length < 2)
                    return 1;
                var x1 = e.targetTouches[0].pageX
                  , y1 = e.targetTouches[0].pageY
                  , x2 = e.targetTouches[1].pageX
                  , y2 = e.targetTouches[1].pageY;
                var distance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));
                return distance
            },
            onGestureStart: function(e) {
                var z = s.zoom;
                if (!s.support.gestures) {
                    if (e.type !== 'touchstart' || e.type === 'touchstart' && e.targetTouches.length < 2) {
                        return
                    }
                    z.gesture.scaleStart = z.getDistanceBetweenTouches(e)
                }
                if (!z.gesture.slide || !z.gesture.slide.length) {
                    z.gesture.slide = $(this);
                    if (z.gesture.slide.length === 0)
                        z.gesture.slide = s.slides.eq(s.activeIndex);
                    z.gesture.image = z.gesture.slide.find('img, svg, canvas');
                    z.gesture.imageWrap = z.gesture.image.parent('.' + s.params.zoomContainerClass);
                    z.gesture.zoomMax = z.gesture.imageWrap.attr('data-swiper-zoom') || s.params.zoomMax;
                    if (z.gesture.imageWrap.length === 0) {
                        z.gesture.image = undefined;
                        return
                    }
                }
                z.gesture.image.transition(0);
                z.isScaling = !0
            },
            onGestureChange: function(e) {
                var z = s.zoom;
                if (!s.support.gestures) {
                    if (e.type !== 'touchmove' || e.type === 'touchmove' && e.targetTouches.length < 2) {
                        return
                    }
                    z.gesture.scaleMove = z.getDistanceBetweenTouches(e)
                }
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                if (s.support.gestures) {
                    z.scale = e.scale * z.currentScale
                } else {
                    z.scale = (z.gesture.scaleMove / z.gesture.scaleStart) * z.currentScale
                }
                if (z.scale > z.gesture.zoomMax) {
                    z.scale = z.gesture.zoomMax - 1 + Math.pow((z.scale - z.gesture.zoomMax + 1), 0.5)
                }
                if (z.scale < s.params.zoomMin) {
                    z.scale = s.params.zoomMin + 1 - Math.pow((s.params.zoomMin - z.scale + 1), 0.5)
                }
                z.gesture.image.transform('translate3d(0,0,0) scale(' + z.scale + ')')
            },
            onGestureEnd: function(e) {
                var z = s.zoom;
                if (!s.support.gestures) {
                    if (e.type !== 'touchend' || e.type === 'touchend' && e.changedTouches.length < 2) {
                        return
                    }
                }
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                z.scale = Math.max(Math.min(z.scale, z.gesture.zoomMax), s.params.zoomMin);
                z.gesture.image.transition(s.params.speed).transform('translate3d(0,0,0) scale(' + z.scale + ')');
                z.currentScale = z.scale;
                z.isScaling = !1;
                if (z.scale === 1)
                    z.gesture.slide = undefined
            },
            onTouchStart: function(s, e) {
                var z = s.zoom;
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                if (z.image.isTouched)
                    return;
                if (s.device.os === 'android')
                    e.preventDefault();
                z.image.isTouched = !0;
                z.image.touchesStart.x = e.type === 'touchstart' ? e.targetTouches[0].pageX : e.pageX;
                z.image.touchesStart.y = e.type === 'touchstart' ? e.targetTouches[0].pageY : e.pageY
            },
            onTouchMove: function(e) {
                var z = s.zoom;
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                s.allowClick = !1;
                if (!z.image.isTouched || !z.gesture.slide)
                    return;
                if (!z.image.isMoved) {
                    z.image.width = z.gesture.image[0].offsetWidth;
                    z.image.height = z.gesture.image[0].offsetHeight;
                    z.image.startX = s.getTranslate(z.gesture.imageWrap[0], 'x') || 0;
                    z.image.startY = s.getTranslate(z.gesture.imageWrap[0], 'y') || 0;
                    z.gesture.slideWidth = z.gesture.slide[0].offsetWidth;
                    z.gesture.slideHeight = z.gesture.slide[0].offsetHeight;
                    z.gesture.imageWrap.transition(0);
                    if (s.rtl)
                        z.image.startX = -z.image.startX;
                    if (s.rtl)
                        z.image.startY = -z.image.startY
                }
                var scaledWidth = z.image.width * z.scale;
                var scaledHeight = z.image.height * z.scale;
                if (scaledWidth < z.gesture.slideWidth && scaledHeight < z.gesture.slideHeight)
                    return;
                z.image.minX = Math.min((z.gesture.slideWidth / 2 - scaledWidth / 2), 0);
                z.image.maxX = -z.image.minX;
                z.image.minY = Math.min((z.gesture.slideHeight / 2 - scaledHeight / 2), 0);
                z.image.maxY = -z.image.minY;
                z.image.touchesCurrent.x = e.type === 'touchmove' ? e.targetTouches[0].pageX : e.pageX;
                z.image.touchesCurrent.y = e.type === 'touchmove' ? e.targetTouches[0].pageY : e.pageY;
                if (!z.image.isMoved && !z.isScaling) {
                    if (s.isHorizontal() && (Math.floor(z.image.minX) === Math.floor(z.image.startX) && z.image.touchesCurrent.x < z.image.touchesStart.x) || (Math.floor(z.image.maxX) === Math.floor(z.image.startX) && z.image.touchesCurrent.x > z.image.touchesStart.x)) {
                        z.image.isTouched = !1;
                        return
                    } else if (!s.isHorizontal() && (Math.floor(z.image.minY) === Math.floor(z.image.startY) && z.image.touchesCurrent.y < z.image.touchesStart.y) || (Math.floor(z.image.maxY) === Math.floor(z.image.startY) && z.image.touchesCurrent.y > z.image.touchesStart.y)) {
                        z.image.isTouched = !1;
                        return
                    }
                }
                e.preventDefault();
                e.stopPropagation();
                z.image.isMoved = !0;
                z.image.currentX = z.image.touchesCurrent.x - z.image.touchesStart.x + z.image.startX;
                z.image.currentY = z.image.touchesCurrent.y - z.image.touchesStart.y + z.image.startY;
                if (z.image.currentX < z.image.minX) {
                    z.image.currentX = z.image.minX + 1 - Math.pow((z.image.minX - z.image.currentX + 1), 0.8)
                }
                if (z.image.currentX > z.image.maxX) {
                    z.image.currentX = z.image.maxX - 1 + Math.pow((z.image.currentX - z.image.maxX + 1), 0.8)
                }
                if (z.image.currentY < z.image.minY) {
                    z.image.currentY = z.image.minY + 1 - Math.pow((z.image.minY - z.image.currentY + 1), 0.8)
                }
                if (z.image.currentY > z.image.maxY) {
                    z.image.currentY = z.image.maxY - 1 + Math.pow((z.image.currentY - z.image.maxY + 1), 0.8)
                }
                if (!z.velocity.prevPositionX)
                    z.velocity.prevPositionX = z.image.touchesCurrent.x;
                if (!z.velocity.prevPositionY)
                    z.velocity.prevPositionY = z.image.touchesCurrent.y;
                if (!z.velocity.prevTime)
                    z.velocity.prevTime = Date.now();
                z.velocity.x = (z.image.touchesCurrent.x - z.velocity.prevPositionX) / (Date.now() - z.velocity.prevTime) / 2;
                z.velocity.y = (z.image.touchesCurrent.y - z.velocity.prevPositionY) / (Date.now() - z.velocity.prevTime) / 2;
                if (Math.abs(z.image.touchesCurrent.x - z.velocity.prevPositionX) < 2)
                    z.velocity.x = 0;
                if (Math.abs(z.image.touchesCurrent.y - z.velocity.prevPositionY) < 2)
                    z.velocity.y = 0;
                z.velocity.prevPositionX = z.image.touchesCurrent.x;
                z.velocity.prevPositionY = z.image.touchesCurrent.y;
                z.velocity.prevTime = Date.now();
                z.gesture.imageWrap.transform('translate3d(' + z.image.currentX + 'px, ' + z.image.currentY + 'px,0)')
            },
            onTouchEnd: function(s, e) {
                var z = s.zoom;
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                if (!z.image.isTouched || !z.image.isMoved) {
                    z.image.isTouched = !1;
                    z.image.isMoved = !1;
                    return
                }
                z.image.isTouched = !1;
                z.image.isMoved = !1;
                var momentumDurationX = 300;
                var momentumDurationY = 300;
                var momentumDistanceX = z.velocity.x * momentumDurationX;
                var newPositionX = z.image.currentX + momentumDistanceX;
                var momentumDistanceY = z.velocity.y * momentumDurationY;
                var newPositionY = z.image.currentY + momentumDistanceY;
                if (z.velocity.x !== 0)
                    momentumDurationX = Math.abs((newPositionX - z.image.currentX) / z.velocity.x);
                if (z.velocity.y !== 0)
                    momentumDurationY = Math.abs((newPositionY - z.image.currentY) / z.velocity.y);
                var momentumDuration = Math.max(momentumDurationX, momentumDurationY);
                z.image.currentX = newPositionX;
                z.image.currentY = newPositionY;
                var scaledWidth = z.image.width * z.scale;
                var scaledHeight = z.image.height * z.scale;
                z.image.minX = Math.min((z.gesture.slideWidth / 2 - scaledWidth / 2), 0);
                z.image.maxX = -z.image.minX;
                z.image.minY = Math.min((z.gesture.slideHeight / 2 - scaledHeight / 2), 0);
                z.image.maxY = -z.image.minY;
                z.image.currentX = Math.max(Math.min(z.image.currentX, z.image.maxX), z.image.minX);
                z.image.currentY = Math.max(Math.min(z.image.currentY, z.image.maxY), z.image.minY);
                z.gesture.imageWrap.transition(momentumDuration).transform('translate3d(' + z.image.currentX + 'px, ' + z.image.currentY + 'px,0)')
            },
            onTransitionEnd: function(s) {
                var z = s.zoom;
                if (z.gesture.slide && s.previousIndex !== s.activeIndex) {
                    z.gesture.image.transform('translate3d(0,0,0) scale(1)');
                    z.gesture.imageWrap.transform('translate3d(0,0,0)');
                    z.gesture.slide = z.gesture.image = z.gesture.imageWrap = undefined;
                    z.scale = z.currentScale = 1
                }
            },
            toggleZoom: function(s, e) {
                var z = s.zoom;
                if (!z.gesture.slide) {
                    z.gesture.slide = s.clickedSlide ? $(s.clickedSlide) : s.slides.eq(s.activeIndex);
                    z.gesture.image = z.gesture.slide.find('img, svg, canvas');
                    z.gesture.imageWrap = z.gesture.image.parent('.' + s.params.zoomContainerClass)
                }
                if (!z.gesture.image || z.gesture.image.length === 0)
                    return;
                var touchX, touchY, offsetX, offsetY, diffX, diffY, translateX, translateY, imageWidth, imageHeight, scaledWidth, scaledHeight, translateMinX, translateMinY, translateMaxX, translateMaxY, slideWidth, slideHeight;
                if (typeof z.image.touchesStart.x === 'undefined' && e) {
                    touchX = e.type === 'touchend' ? e.changedTouches[0].pageX : e.pageX;
                    touchY = e.type === 'touchend' ? e.changedTouches[0].pageY : e.pageY
                } else {
                    touchX = z.image.touchesStart.x;
                    touchY = z.image.touchesStart.y
                }
                if (z.scale && z.scale !== 1) {
                    z.scale = z.currentScale = 1;
                    z.gesture.imageWrap.transition(300).transform('translate3d(0,0,0)');
                    z.gesture.image.transition(300).transform('translate3d(0,0,0) scale(1)');
                    z.gesture.slide = undefined
                } else {
                    z.scale = z.currentScale = z.gesture.imageWrap.attr('data-swiper-zoom') || s.params.zoomMax;
                    if (e) {
                        slideWidth = z.gesture.slide[0].offsetWidth;
                        slideHeight = z.gesture.slide[0].offsetHeight;
                        offsetX = z.gesture.slide.offset().left;
                        offsetY = z.gesture.slide.offset().top;
                        diffX = offsetX + slideWidth / 2 - touchX;
                        diffY = offsetY + slideHeight / 2 - touchY;
                        imageWidth = z.gesture.image[0].offsetWidth;
                        imageHeight = z.gesture.image[0].offsetHeight;
                        scaledWidth = imageWidth * z.scale;
                        scaledHeight = imageHeight * z.scale;
                        translateMinX = Math.min((slideWidth / 2 - scaledWidth / 2), 0);
                        translateMinY = Math.min((slideHeight / 2 - scaledHeight / 2), 0);
                        translateMaxX = -translateMinX;
                        translateMaxY = -translateMinY;
                        translateX = diffX * z.scale;
                        translateY = diffY * z.scale;
                        if (translateX < translateMinX) {
                            translateX = translateMinX
                        }
                        if (translateX > translateMaxX) {
                            translateX = translateMaxX
                        }
                        if (translateY < translateMinY) {
                            translateY = translateMinY
                        }
                        if (translateY > translateMaxY) {
                            translateY = translateMaxY
                        }
                    } else {
                        translateX = 0;
                        translateY = 0
                    }
                    z.gesture.imageWrap.transition(300).transform('translate3d(' + translateX + 'px, ' + translateY + 'px,0)');
                    z.gesture.image.transition(300).transform('translate3d(0,0,0) scale(' + z.scale + ')')
                }
            },
            attachEvents: function(detach) {
                var action = detach ? 'off' : 'on';
                if (s.params.zoom) {
                    var target = s.slides;
                    var passiveListener = s.touchEvents.start === 'touchstart' && s.support.passiveListener && s.params.passiveListeners ? {
                        passive: !0,
                        capture: !1
                    } : !1;
                    if (s.support.gestures) {
                        s.slides[action]('gesturestart', s.zoom.onGestureStart, passiveListener);
                        s.slides[action]('gesturechange', s.zoom.onGestureChange, passiveListener);
                        s.slides[action]('gestureend', s.zoom.onGestureEnd, passiveListener)
                    } else if (s.touchEvents.start === 'touchstart') {
                        s.slides[action](s.touchEvents.start, s.zoom.onGestureStart, passiveListener);
                        s.slides[action](s.touchEvents.move, s.zoom.onGestureChange, passiveListener);
                        s.slides[action](s.touchEvents.end, s.zoom.onGestureEnd, passiveListener)
                    }
                    s[action]('touchStart', s.zoom.onTouchStart);
                    s.slides.each(function(index, slide) {
                        if ($(slide).find('.' + s.params.zoomContainerClass).length > 0) {
                            $(slide)[action](s.touchEvents.move, s.zoom.onTouchMove)
                        }
                    });
                    s[action]('touchEnd', s.zoom.onTouchEnd);
                    s[action]('transitionEnd', s.zoom.onTransitionEnd);
                    if (s.params.zoomToggle) {
                        s.on('doubleTap', s.zoom.toggleZoom)
                    }
                }
            },
            init: function() {
                s.zoom.attachEvents()
            },
            destroy: function() {
                s.zoom.attachEvents(!0)
            }
        };
        s._plugins = [];
        for (var plugin in s.plugins) {
            var p = s.plugins[plugin](s, s.params[plugin]);
            if (p)
                s._plugins.push(p)
        }
        s.callPlugins = function(eventName) {
            for (var i = 0; i < s._plugins.length; i++) {
                if (eventName in s._plugins[i]) {
                    s._plugins[i][eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                }
            }
        }
        ;
        function normalizeEventName(eventName) {
            if (eventName.indexOf('on') !== 0) {
                if (eventName[0] !== eventName[0].toUpperCase()) {
                    eventName = 'on' + eventName[0].toUpperCase() + eventName.substring(1)
                } else {
                    eventName = 'on' + eventName
                }
            }
            return eventName
        }
        s.emitterEventListeners = {};
        s.emit = function(eventName) {
            if (s.params[eventName]) {
                s.params[eventName](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
            }
            var i;
            if (s.emitterEventListeners[eventName]) {
                for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {
                    s.emitterEventListeners[eventName][i](arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
                }
            }
            if (s.callPlugins)
                s.callPlugins(eventName, arguments[1], arguments[2], arguments[3], arguments[4], arguments[5])
        }
        ;
        s.on = function(eventName, handler) {
            eventName = normalizeEventName(eventName);
            if (!s.emitterEventListeners[eventName])
                s.emitterEventListeners[eventName] = [];
            s.emitterEventListeners[eventName].push(handler);
            return s
        }
        ;
        s.off = function(eventName, handler) {
            var i;
            eventName = normalizeEventName(eventName);
            if (typeof handler === 'undefined') {
                s.emitterEventListeners[eventName] = [];
                return s
            }
            if (!s.emitterEventListeners[eventName] || s.emitterEventListeners[eventName].length === 0)
                return;
            for (i = 0; i < s.emitterEventListeners[eventName].length; i++) {
                if (s.emitterEventListeners[eventName][i] === handler)
                    s.emitterEventListeners[eventName].splice(i, 1)
            }
            return s
        }
        ;
        s.once = function(eventName, handler) {
            eventName = normalizeEventName(eventName);
            var _handler = function() {
                handler(arguments[0], arguments[1], arguments[2], arguments[3], arguments[4]);
                s.off(eventName, _handler)
            };
            s.on(eventName, _handler);
            return s
        }
        ;
        s.a11y = {
            makeFocusable: function($el) {
                $el.attr('tabIndex', '0');
                return $el
            },
            addRole: function($el, role) {
                $el.attr('role', role);
                return $el
            },
            addLabel: function($el, label) {
                $el.attr('aria-label', label);
                return $el
            },
            disable: function($el) {
                $el.attr('aria-disabled', !0);
                return $el
            },
            enable: function($el) {
                $el.attr('aria-disabled', !1);
                return $el
            },
            onEnterKey: function(event) {
                if (event.keyCode !== 13)
                    return;
                if ($(event.target).is(s.params.nextButton)) {
                    s.onClickNext(event);
                    if (s.isEnd) {
                        s.a11y.notify(s.params.lastSlideMessage)
                    } else {
                        s.a11y.notify(s.params.nextSlideMessage)
                    }
                } else if ($(event.target).is(s.params.prevButton)) {
                    s.onClickPrev(event);
                    if (s.isBeginning) {
                        s.a11y.notify(s.params.firstSlideMessage)
                    } else {
                        s.a11y.notify(s.params.prevSlideMessage)
                    }
                }
                if ($(event.target).is('.' + s.params.bulletClass)) {
                    $(event.target)[0].click()
                }
            },
            liveRegion: $('<span class="' + s.params.notificationClass + '" aria-live="assertive" aria-atomic="true"></span>'),
            notify: function(message) {
                var notification = s.a11y.liveRegion;
                if (notification.length === 0)
                    return;
                notification.html('');
                notification.html(message)
            },
            init: function() {
                if (s.params.nextButton && s.nextButton && s.nextButton.length > 0) {
                    s.a11y.makeFocusable(s.nextButton);
                    s.a11y.addRole(s.nextButton, 'button');
                    s.a11y.addLabel(s.nextButton, s.params.nextSlideMessage)
                }
                if (s.params.prevButton && s.prevButton && s.prevButton.length > 0) {
                    s.a11y.makeFocusable(s.prevButton);
                    s.a11y.addRole(s.prevButton, 'button');
                    s.a11y.addLabel(s.prevButton, s.params.prevSlideMessage)
                }
                $(s.container).append(s.a11y.liveRegion)
            },
            initPagination: function() {
                if (s.params.pagination && s.params.paginationClickable && s.bullets && s.bullets.length) {
                    s.bullets.each(function() {
                        var bullet = $(this);
                        s.a11y.makeFocusable(bullet);
                        s.a11y.addRole(bullet, 'button');
                        s.a11y.addLabel(bullet, s.params.paginationBulletMessage.replace(/{{index}}/, bullet.index() + 1))
                    })
                }
            },
            destroy: function() {
                if (s.a11y.liveRegion && s.a11y.liveRegion.length > 0)
                    s.a11y.liveRegion.remove()
            }
        };
        s.init = function() {
            if (s.params.loop)
                s.createLoop();
            s.updateContainerSize();
            s.updateSlidesSize();
            s.updatePagination();
            if (s.params.scrollbar && s.scrollbar) {
                s.scrollbar.set();
                if (s.params.scrollbarDraggable) {
                    s.scrollbar.enableDraggable()
                }
            }
            if (s.params.effect !== 'slide' && s.effects[s.params.effect]) {
                if (!s.params.loop)
                    s.updateProgress();
                s.effects[s.params.effect].setTranslate()
            }
            if (s.params.loop) {
                s.slideTo(s.params.initialSlide + s.loopedSlides, 0, s.params.runCallbacksOnInit)
            } else {
                s.slideTo(s.params.initialSlide, 0, s.params.runCallbacksOnInit);
                if (s.params.initialSlide === 0) {
                    if (s.parallax && s.params.parallax)
                        s.parallax.setTranslate();
                    if (s.lazy && s.params.lazyLoading) {
                        s.lazy.load();
                        s.lazy.initialImageLoaded = !0
                    }
                }
            }
            s.attachEvents();
            if (s.params.observer && s.support.observer) {
                s.initObservers()
            }
            if (s.params.preloadImages && !s.params.lazyLoading) {
                s.preloadImages()
            }
            if (s.params.zoom && s.zoom) {
                s.zoom.init()
            }
            if (s.params.autoplay) {
                s.startAutoplay()
            }
            if (s.params.keyboardControl) {
                if (s.enableKeyboardControl)
                    s.enableKeyboardControl()
            }
            if (s.params.mousewheelControl) {
                if (s.enableMousewheelControl)
                    s.enableMousewheelControl()
            }
            if (s.params.hashnavReplaceState) {
                s.params.replaceState = s.params.hashnavReplaceState
            }
            if (s.params.history) {
                if (s.history)
                    s.history.init()
            }
            if (s.params.hashnav) {
                if (s.hashnav)
                    s.hashnav.init()
            }
            if (s.params.a11y && s.a11y)
                s.a11y.init();
            s.emit('onInit', s)
        }
        ;
        s.cleanupStyles = function() {
            s.container.removeClass(s.classNames.join(' ')).removeAttr('style');
            s.wrapper.removeAttr('style');
            if (s.slides && s.slides.length) {
                s.slides.removeClass([s.params.slideVisibleClass, s.params.slideActiveClass, s.params.slideNextClass, s.params.slidePrevClass].join(' ')).removeAttr('style').removeAttr('data-swiper-column').removeAttr('data-swiper-row')
            }
            if (s.paginationContainer && s.paginationContainer.length) {
                s.paginationContainer.removeClass(s.params.paginationHiddenClass)
            }
            if (s.bullets && s.bullets.length) {
                s.bullets.removeClass(s.params.bulletActiveClass)
            }
            if (s.params.prevButton)
                $(s.params.prevButton).removeClass(s.params.buttonDisabledClass);
            if (s.params.nextButton)
                $(s.params.nextButton).removeClass(s.params.buttonDisabledClass);
            if (s.params.scrollbar && s.scrollbar) {
                if (s.scrollbar.track && s.scrollbar.track.length)
                    s.scrollbar.track.removeAttr('style');
                if (s.scrollbar.drag && s.scrollbar.drag.length)
                    s.scrollbar.drag.removeAttr('style')
            }
        }
        ;
        s.destroy = function(deleteInstance, cleanupStyles) {
            s.detachEvents();
            s.stopAutoplay();
            if (s.params.scrollbar && s.scrollbar) {
                if (s.params.scrollbarDraggable) {
                    s.scrollbar.disableDraggable()
                }
            }
            if (s.params.loop) {
                s.destroyLoop()
            }
            if (cleanupStyles) {
                s.cleanupStyles()
            }
            s.disconnectObservers();
            if (s.params.zoom && s.zoom) {
                s.zoom.destroy()
            }
            if (s.params.keyboardControl) {
                if (s.disableKeyboardControl)
                    s.disableKeyboardControl()
            }
            if (s.params.mousewheelControl) {
                if (s.disableMousewheelControl)
                    s.disableMousewheelControl()
            }
            if (s.params.a11y && s.a11y)
                s.a11y.destroy();
            if (s.params.history && !s.params.replaceState) {
                window.removeEventListener('popstate', s.history.setHistoryPopState)
            }
            if (s.params.hashnav && s.hashnav) {
                s.hashnav.destroy()
            }
            s.emit('onDestroy');
            if (deleteInstance !== !1)
                s = null
        }
        ;
        s.init();
        return s
    };
    Swiper.prototype = {
        isSafari: (function() {
            var ua = window.navigator.userAgent.toLowerCase();
            return (ua.indexOf('safari') >= 0 && ua.indexOf('chrome') < 0 && ua.indexOf('android') < 0)
        }
        )(),
        isUiWebView: /(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(window.navigator.userAgent),
        isArray: function(arr) {
            return Object.prototype.toString.apply(arr) === '[object Array]'
        },
        browser: {
            ie: window.navigator.pointerEnabled || window.navigator.msPointerEnabled,
            ieTouch: (window.navigator.msPointerEnabled && window.navigator.msMaxTouchPoints > 1) || (window.navigator.pointerEnabled && window.navigator.maxTouchPoints > 1),
            lteIE9: (function() {
                var div = document.createElement('div');
                div.innerHTML = '<!--[if lte IE 9]><i></i><![endif]-->';
                return div.getElementsByTagName('i').length === 1
            }
            )()
        },
        device: (function() {
            var ua = window.navigator.userAgent;
            var android = ua.match(/(Android);?[\s\/]+([\d.]+)?/);
            var ipad = ua.match(/(iPad).*OS\s([\d_]+)/);
            var ipod = ua.match(/(iPod)(.*OS\s([\d_]+))?/);
            var iphone = !ipad && ua.match(/(iPhone\sOS|iOS)\s([\d_]+)/);
            return {
                ios: ipad || iphone || ipod,
                android: android
            }
        }
        )(),
        support: {
            touch: (window.Modernizr && Modernizr.touch === !0) || (function() {
                return !!(('ontouchstart'in window) || window.DocumentTouch && document instanceof DocumentTouch)
            }
            )(),
            transforms3d: (window.Modernizr && Modernizr.csstransforms3d === !0) || (function() {
                var div = document.createElement('div').style;
                return ('webkitPerspective'in div || 'MozPerspective'in div || 'OPerspective'in div || 'MsPerspective'in div || 'perspective'in div)
            }
            )(),
            flexbox: (function() {
                var div = document.createElement('div').style;
                var styles = ('alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient').split(' ');
                for (var i = 0; i < styles.length; i++) {
                    if (styles[i]in div)
                        return !0
                }
            }
            )(),
            observer: (function() {
                return ('MutationObserver'in window || 'WebkitMutationObserver'in window)
            }
            )(),
            passiveListener: (function() {
                var supportsPassive = !1;
                try {
                    var opts = Object.defineProperty({}, 'passive', {
                        get: function() {
                            supportsPassive = !0
                        }
                    });
                    window.addEventListener('testPassiveListener', null, opts)
                } catch (e) {}
                return supportsPassive
            }
            )(),
            gestures: (function() {
                return 'ongesturestart'in window
            }
            )()
        },
        plugins: {}
    };
    var swiperDomPlugins = ['jQuery', 'Zepto', 'Dom7'];
    for (var i = 0; i < swiperDomPlugins.length; i++) {
        if (window[swiperDomPlugins[i]]) {
            addLibraryPlugin(window[swiperDomPlugins[i]])
        }
    }
    var domLib;
    if (typeof Dom7 === 'undefined') {
        domLib = window.Dom7 || window.Zepto || window.jQuery
    } else {
        domLib = Dom7
    }
    function addLibraryPlugin(lib) {
        lib.fn.swiper = function(params) {
            var firstInstance;
            lib(this).each(function() {
                var s = new Swiper(this,params);
                if (!firstInstance)
                    firstInstance = s
            });
            return firstInstance
        }
    }
    if (domLib) {
        if (!('transitionEnd'in domLib.fn)) {
            domLib.fn.transitionEnd = function(callback) {
                var events = ['webkitTransitionEnd', 'transitionend', 'oTransitionEnd', 'MSTransitionEnd', 'msTransitionEnd'], i, j, dom = this;
                function fireCallBack(e) {
                    if (e.target !== this)
                        return;
                    callback.call(this, e);
                    for (i = 0; i < events.length; i++) {
                        dom.off(events[i], fireCallBack)
                    }
                }
                if (callback) {
                    for (i = 0; i < events.length; i++) {
                        dom.on(events[i], fireCallBack)
                    }
                }
                return this
            }
        }
        if (!('transform'in domLib.fn)) {
            domLib.fn.transform = function(transform) {
                for (var i = 0; i < this.length; i++) {
                    var elStyle = this[i].style;
                    elStyle.webkitTransform = elStyle.MsTransform = elStyle.msTransform = elStyle.MozTransform = elStyle.OTransform = elStyle.transform = transform
                }
                return this
            }
        }
        if (!('transition'in domLib.fn)) {
            domLib.fn.transition = function(duration) {
                if (typeof duration !== 'string') {
                    duration = duration + 'ms'
                }
                for (var i = 0; i < this.length; i++) {
                    var elStyle = this[i].style;
                    elStyle.webkitTransitionDuration = elStyle.MsTransitionDuration = elStyle.msTransitionDuration = elStyle.MozTransitionDuration = elStyle.OTransitionDuration = elStyle.transitionDuration = duration
                }
                return this
            }
        }
        if (!('outerWidth'in domLib.fn)) {
            domLib.fn.outerWidth = function(includeMargins) {
                if (this.length > 0) {
                    if (includeMargins)
                        return this[0].offsetWidth + parseFloat(this.css('margin-right')) + parseFloat(this.css('margin-left'));
                    else
                        return this[0].offsetWidth
                } else
                    return null
            }
        }
    }
    window.Swiper = Swiper
}
)();
if (typeof (module) !== 'undefined') {
    module.exports = window.Swiper
} else if (typeof define === 'function' && define.amd) {
    define([], function() {
        'use strict';
        return window.Swiper
    })
}
;/* /vendor/tm/tm.zoom.js */
(function($, undefined) {
    var ops = {
        init: function(settings) {
            return this.each(function() {
                var me = $(this)
                  , img = me.find("img:first");
                var s = $.extend(!0, {
                    cursor: {
                        "in": "zoom-in",
                        "out": "zoom-out",
                        "default": "default"
                    },
                    padding: {
                        top: 0,
                        right: 0,
                        bottom: 0,
                        left: 0
                    },
                    relativeDivergence: 10,
                    onBeforeZoomChanged: null,
                    onAfterZoomChanged: null
                }, settings);
                s.active = !1;
                s.allow = !1;
                s.cursor.active = s.cursor.in;
                s.clone = null;
                var divergence = s.relativeDivergence / 100;
                me.data("TMZoom", s).off('mouseenter mouseleave click').hover(function() {
                    var image = new Image();
                    image.onload = function() {
                        var currentWidth = me.parent().width()
                          , currentHeight = me.parent().height();
                        if (divergence > 0) {
                            currentWidth += currentWidth * divergence;
                            currentHeight += currentHeight * divergence
                        }
                        s.allow = !(this.width <= currentWidth && this.height <= currentHeight);
                        s.cursor.active = s.allow ? s.cursor.in : s.cursor.default;
                        me.css("cursor", s.cursor.active)
                    }
                    ;
                    image.src = img.attr("src")
                }, function() {
                    me.css("cursor", s.cursor.default)
                }).click(function() {
                    s.allow && ops.click.apply($(this), arguments);
                    return !1
                });
                $(window).on("resize.TMZoom", function() {
                    ops.disableZoom.apply(me)
                })
            })
        },
        click: function(event) {
            return this.each(function() {
                var me = $(this)
                  , s = me.data("TMZoom");
                if (ops.trigger.apply(me, ["onBeforeZoomChanged", s.active]) === !1) {
                    return
                }
                if (!s.active) {
                    if (!ops.enableZoom.apply(this, [event])) {
                        return
                    }
                } else {
                    ops.disableZoom.apply(this, [])
                }
                ops.trigger.apply(me, ["onAfterZoomChanged", s.active])
            })
        },
        enable: function(event) {
            var me = $(this)
              , img = me.find("img:first")
              , s = me.data("TMZoom");
            s.active = !0;
            s.clone = me.clone();
            me.css({
                left: 0,
                right: 0,
                bottom: 0,
                top: 0,
                overflow: "visible",
                margin: 0
            });
            img.css({
                minWidth: "0",
                maxWidth: "100000px",
                minHeight: "0",
                maxHeight: "100000px",
                position: "absolute",
                top: 0,
                left: 0,
                right: "auto",
                bottom: "auto",
                marginTop: s.padding.top,
                marginLeft: s.padding.left,
                marginRight: s.padding.right,
                marginBottom: s.padding.bottom
            });
            me.css("cursor", s.cursor.active = s.cursor.out);
            var offset = me.offset();
            var pos = ops.calcMousePosition.call(this, event.pageX - offset.left, event.pageY - offset.top);
            img.css({
                top: pos.top,
                left: pos.left
            });
            me.off('mousemove').on('mousemove', function(event) {
                var offset = me.offset();
                var pos = ops.calcMousePosition.call(this, event.pageX - offset.left, event.pageY - offset.top);
                img.css({
                    top: pos.top,
                    left: pos.left
                })
            });
            return !0
        },
        enableZoom: function(event) {
            return ops.enable.call(this, event)
        },
        disable: function() {
            var me = $(this)
              , img = me.find("img:first")
              , s = me.data("TMZoom");
            if (!s || !s.active) {
                return
            }
            me.css("cursor", s.cursor.active = s.cursor.in);
            s.active = !1;
            var me_clone = s.clone
              , img_clone = me_clone.find("img:first");
            img.css({
                minWidth: img_clone.css("minWidth"),
                maxWidth: img_clone.css("maxWidth"),
                minHeight: img_clone.css("minHeight"),
                maxHeight: img_clone.css("maxHeight"),
                position: img_clone.css("position"),
                top: img_clone.css("top"),
                left: img_clone.css("left"),
                right: img_clone.css("right"),
                bottom: img_clone.css("bottom"),
                margin: img_clone.css("margin")
            });
            me.css({
                left: me_clone.css("left"),
                right: me_clone.css("right"),
                bottom: me_clone.css("bottom"),
                top: me_clone.css("top"),
                overflow: me_clone.css("overflow"),
                margin: me_clone.css("margin")
            }).off("mousemove")
        },
        disableZoom: function() {
            return ops.disable.call(this)
        },
        trigger: function(eventName) {
            var s = this.data("TMZoom");
            if (s[eventName] && typeof s[eventName] === "function") {
                return s[eventName].apply(this, Array.prototype.slice.call(arguments, 1))
            }
            return null
        },
        destroy: function() {
            $(window).off("resize.TMZoom");
            return this.each(function() {
                $(this).TMZoom('disable')
            })
        },
        calcMousePosition: function(x, y) {
            var me = $(this)
              , s = me.data("TMZoom")
              , viewport_width = me.width()
              , viewport_height = me.height()
              , img = me.find("img:first")
              , img_width = img.width()
              , img_height = img.height()
              , scale_x = viewport_width / img_width
              , scale_y = viewport_height / img_height
              , bounds_width = viewport_width * scale_x
              , bounds_height = viewport_height * scale_y;
            var pos = {
                y: y,
                x: x
            };
            pos.y -= bounds_height / 2;
            pos.x -= bounds_width / 2;
            (pos.y < 0 && (pos.y = 0)) || ((pos.y + bounds_height) > viewport_height && (pos.y = viewport_height - bounds_height));
            (pos.x < 0 && (pos.x = 0)) || ((pos.x + bounds_width) > viewport_width && (pos.x = viewport_width - bounds_width));
            pos.y /= -scale_y;
            pos.x /= -scale_x;
            img_width <= viewport_width && (pos.x = (viewport_width - img_width) / 2);
            img_height <= viewport_height && (pos.y = (viewport_height - img_height) / 2);
            return {
                top: pos.y,
                left: pos.x
            }
        }
    };
    $.fn.TMZoom = function(opt) {
        if (ops[opt] && typeof ops[opt] === "function") {
            return ops[opt].apply(this, Array.prototype.slice.call(arguments, 1))
        } else if (typeof opt === "object" || !opt) {
            return ops.init.apply(this, arguments)
        } else {
            $.error("Method " + opt + " is not allowed in TMZoom")
        }
    }
}
)(jQuery);
/* /vendor/tm/tm.gallery.3.0.js */
(function($, w) {
    var instances = 0;
    var _callPrivate = function(object, method) {
        var args = Array.prototype.slice.call(arguments, 2);
        return privateMethods[method].apply(object, args)
    };
    var privateMethods = {
        buildHtml: function() {
            if (this.overlay) {
                this.overlay.find('.tmGallery-container').empty()
            } else {
                var container = '<section class="tmGallery" style="display: none;" id="' + this.id + '">' + '<div class="tmGallery-container"></div>' + '</div>';
                this.overlay = $(container).appendTo(document.body)
            }
            this.container = this.overlay.find('.tmGallery-container');
            var html = '<div class="tmGallery-top">' + '<div class="tmGallery-header">' + '<div class="tmGallery-title"></div>' + '</div>' + '<div class="tmGallery-close"><i class="icon-tmGallery-close"></i></div>' + '</div>';
            this.top = $(html).appendTo(this.container);
            this.title = this.top.find('.tmGallery-title');
            this.title.html(this.settings.title);
            var self = this;
            this.top.find('.tmGallery-close').on('click', function() {
                self.close();
                return !1
            });
            this.title = this.top.find('.tmGallery-title');
            var className = this.settings.content.length <= 1 ? 'tmGallery-main __noZoom' : 'tmGallery-main'
              , buttonsSubClass = this.settings.content.length <= 1 ? ' __hidden' : '';
            html = '<div class="' + className + '">' + '<div class="tmGallery-container">' + '<div class="tmGallery-prev' + buttonsSubClass + '"><div class="tmGallery-btn"><i class="icon-tmGallery-arrLeft"></i></div></div>' + '<div class="tmGallery-next' + buttonsSubClass + '"><div class="tmGallery-btn"><i class="icon-tmGallery-arrRight"></i></div></div>' + '<div class="tmGallery-frame">' + '<div class="tmGallery-frame-wrap" style="white-space: nowrap"></div>' + '</div>' + '</div>' + '</div>';
            this.main = $(html).appendTo(this.container);
            this.frame = this.main.find('.tmGallery-frame');
            this.frameWrap = this.main.find('.tmGallery-frame-wrap');
            this.mainButtons = {
                prev: this.main.find('.tmGallery-prev'),
                next: this.main.find('.tmGallery-next')
            };
            if (this.settings.content.length <= 1) {
                html = '<div class="tmGallery-bottom" style="height: 0; visibility: hidden;"></div>'
            } else {
                html = '<div class="tmGallery-bottom">' + '<div class="tmGallery-thumbs">' + '<ul class="tmGallery-thumbs-wrap"></ul>' + '</div>' + '</div>'
            }
            this.bottom = $(html).appendTo(this.container);
            this.thumbs = this.bottom.find('.tmGallery-thumbs');
            this.thumbsWrap = this.bottom.find('.tmGallery-thumbs-wrap')
        },
        initSwiper: function() {
            var self = this;
            var onSwipe = function(swiper) {
                if (swiper.activeIndex != self.contentIndex) {
                    self.loadContent(swiper.snapIndex, !0)
                }
            };
            this.tmMainSwiper = new Swiper(this.frame,{
                slideClass: 'tmGallery-item',
                slideActiveClass: '__active',
                observeParents: !0,
                slidesPerView: 1,
                wrapperClass: 'tmGallery-frame-wrap',
                prevButton: this.main.find('.tmGallery-prev'),
                nextButton: this.main.find('.tmGallery-next'),
                speed: this.settings.animationSpeed,
                freeModeMomentumRatio: 0.25,
                buttonDisabledClass: '',
                observer: !0,
                keyboardControl: !0,
                onTransitionStart: onSwipe,
                onSlideChangeEnd: onSwipe,
                onTransitionEnd: onSwipe,
                onSliderMove: onSwipe
            });
            if (this.thumbs.length > 0) {
                this.tmThumbsSwiper = new Swiper(this.thumbs,{
                    slideClass: 'tmGallery-thumb',
                    wrapperClass: 'tmGallery-thumbs-wrap',
                    slidesPerView: 'auto',
                    speed: this.settings.animationSpeed,
                    freeMode: !0,
                    freeModeMomentumRatio: 0.25,
                    observer: !0,
                    observeParents: !0,
                    slideToClickedSlide: !0
                })
            } else {
                this.tmThumbsSwiper = null
            }
        },
        initContent: function() {
            this.content = [];
            for (var i = 0, l = this.settings.content.length; i < l; ++i) {
                _callPrivate(this, 'appendContent', this.settings.content[i])
            }
            var self = this;
            this.frameWrap.find('img').on('load', function() {
                _callPrivate(self, 'fitContent')
            })
        },
        appendContent: function(data) {
            var settings = $.extend({
                src: null,
                thumb: null,
                html: null,
                video: this.content.video,
                className: 'tmGallery-image',
                thumbClassName: ''
            }, data);
            var current = {
                isHtml: !1,
                mainObj: null,
                thumbObj: null,
                index: this.content.length,
                highlight: function() {
                    this.thumbObj.siblings().removeClass('__active');
                    this.thumbObj.addClass('__active')
                }
            };
            var videoClass = settings.video ? '__video' : '';
            var mainHtml = '';
            if (settings.html) {
                current.isHtml = !0;
                mainHtml = '<div class="tmGallery-item"><div class="' + settings.className + '">' + settings.html + '</div></div>'
            } else {
                mainHtml = '<div class="tmGallery-item">' + '<div class="' + settings.className + '"><img src="' + settings.src + '"></div>' + '</div>'
            }
            var thumbHtml = '<li class="tmGallery-thumb ' + settings.thumbClassName + '">' + '<div class="tmGallery-thumb-container">' + '<a href="javascript:void(0);" class="tmGallery-thumb-a ' + videoClass + '">' + '<img class="tmGallery-thumb-img" src="' + settings.thumb + '">' + '</a>' + '</div>' + '</li>';
            current.mainObj = $(mainHtml).appendTo(this.frameWrap);
            current.thumbObj = $(thumbHtml).appendTo(this.thumbsWrap);
            var self = this;
            current.thumbObj.find('.tmGallery-thumb-a').off('click').on('click', function() {
                console.log(current)
                self.loadContent(current.index);
                return !1
            });
            this.content.push(current)
        },
        initExternalEvents: function() {
            var suffix = this.id
              , self = this;
            $(window).off('resize.' + suffix).on('resize.' + suffix, function() {
                _callPrivate(self, 'fitContent')
            });
            $(document.body).off('keydown.' + suffix).on('keydown.' + suffix, function(e) {
                if (self.opened && e.keyCode == 27) {
                    self.close();
                    return !1
                }
                return !0
            });
            this.fireEventHandler('onOpen');
            this.attachEventHandler('onOpen', function() {
                _callPrivate(this, 'fitContent')
            })
        },
        initZoom: function() {
            if (this.settings.zoom) {
                var self = this;
                var allPadding = this.overlay.height() - this.main.height();
                var padding = {
                    top: this.main.position().top,
                    bottom: allPadding - this.main.position().top
                };
                for (var i = this.content.length; --i >= 0; ) {
                    var current = this.content[i];
                    current.mainObj.TMZoom('destroy');
                    current.mainObj.TMZoom({
                        padding: padding,
                        onBeforeZoomChanged: function(enabled) {
                            if (!enabled) {
                                self.main.addClass('__zoom')
                            } else {
                                self.main.removeClass('__zoom')
                            }
                            return !0
                        },
                        onAfterZoomChanged: function(enabled) {
                            if (!enabled) {
                                _callPrivate(self, 'fitContent')
                            }
                        }
                    })
                }
            }
        },
        fitContent: function() {
            var mainHeight = this.main.height()
              , mainWidth = this.main.width();
            this.frameWrap.width(mainWidth).height(mainHeight);
            this.frameWrap.find('.tmGallery-item').width(mainWidth).height(mainHeight);
            for (var i = this.content.length; --i >= 0; ) {
                _callPrivate(this, 'fitContentItem', i)
            }
        },
        fitContentItem: function(index) {
            var self = this;
            var mainHeight = self.main.height()
              , mainWidth = self.main.width();
            var offsetTop = mainHeight / 2
              , offsetLeft = mainWidth / 2;
            var content = self.content[index]
              , obj = content.mainObj;
            self.settings.zoom && obj.TMZoom('disable');
            if (content.isHtml) {
                obj.find('.tmGallery-image *').width(mainWidth).height(mainHeight).attr('width', mainWidth).attr('height', mainHeight)
            } else {
                obj.find('img').css({
                    maxWidth: mainWidth,
                    maxHeight: mainHeight
                })
            }
            var child = obj.children()
              , oLeft = child.width() / 2
              , oTop = child.height() / 2
              , top = Math.floor(Math.abs(offsetTop - oTop))
              , left = Math.floor(Math.abs(offsetLeft - oLeft));
            child.stop().css({
                marginTop: top,
                marginLeft: left
            })
        }
    };
    var TMGallery = function(options, events) {
        this.settings = $.extend({
            slider: !0,
            animationSpeed: 300,
            title: null,
            content: [],
            zoom: !0
        }, options);
        this.attachEventHandlers(events);
        this.instance = instances++;
        this.opened = !1;
        this.timers = {};
        this.init()
    };
    TMGallery.prototype = {
        init: function() {
            if (this.trigger('beforeInit') === !1) {
                return
            }
            this.id = 'TMGallery-instance-' + this.instance;
            _callPrivate(this, 'buildHtml');
            _callPrivate(this, 'initContent');
            _callPrivate(this, 'initSwiper');
            _callPrivate(this, 'initExternalEvents');
            this.contentIndex = 0;
            this.loadContent(0);
            this.trigger('afterInit')
        },
        open: function() {
            Modal && Modal.close();
            var body = $(document.body);
            var old_width = body.innerWidth();
            $("html").addClass('layout_fixed');
            var new_width = body.innerWidth();
            if (new_width != old_width) {
                body.css('padding-right', -(old_width - new_width))
            }
            var self = this;
            this.overlay.stop().fadeIn(this.settings.animationSpeed);
            this.opened = !0;
            setTimeout(function() {
                _callPrivate(self, 'initZoom');
                self.trigger('onOpen')
            }, 0)
        },
        close: function() {
            $(document.body).css('padding-right', 0);
            $("html").removeClass('layout_fixed');
            this.overlay.stop().fadeOut(this.settings.animationSpeed);
            this.main.removeClass('__zoom');
            this.opened = !1;
            this.reloadIFrame()
        },
        destroy: function() {
            this.overlay.remove()
        },
        reloadIFrame: function() {
            var me = this.content[this.contentIndex].mainObj.find('iframe');
            if (me.length > 0) {
                var src = me.attr('src');
                me.attr('src', '');
                me.attr('src', src)
            }
        },
        loadContent: function(index, prevent) {
            if (index < 0 || index >= this.content.length) {
                return
            }
            if (this.trigger('beforeLoadContent', index) === !1) {
                return
            }
            var oldIndex = this.contentIndex;
            this.reloadIFrame();
            this.main.removeClass('__zoom');
            if (prevent !== !0) {
                this.tmMainSwiper.activeIndex != index && this.tmMainSwiper.slideTo(index, 0);
                this.tmThumbsSwiper && this.tmThumbsSwiper.activeIndex != index && this.tmThumbsSwiper.slideTo(index, 0)
            }
            this.content[index].highlight();
            this.settings.zoom && this.content[oldIndex].mainObj.TMZoom('disable');
            this.contentIndex = index;
            if (index == 0) {
                this.mainButtons.prev.addClass('__disabled')
            } else {
                this.mainButtons.prev.removeClass('__disabled')
            }
            if (index == this.content.length - 1) {
                this.mainButtons.next.addClass('__disabled')
            } else {
                this.mainButtons.next.removeClass('__disabled')
            }
            this.trigger('afterLoadContent', index)
        },
        loadContentToModal: function(index) {
            if (!this.opened) {
                this.open();
                var self = this;
                setTimeout(function() {
                    self.loadContent(index)
                }, 10)
            } else {
                this.loadContent(index)
            }
        }
    };
    var lastInstance = null;
    TMGallery.init = function(options, events) {
        return lastInstance = new TMGallery(options,events)
    }
    ;
    TMGallery.getInstance = function() {
        return lastInstance
    }
    ;
    $.extend(TMGallery.prototype, TMEvents);
    w.TMGallery = TMGallery
}
)(jQuery, window);
/* /vendor/tm/tm.tabs.js */
(function($, undefined) {
    var _map = {};
    var _trigger_map = function(target, link) {
        if (_map[link]) {
            for (var i = 0, l = _map[link].length; i < l; ++i) {
                if (!_map[link][i].is(target)) {
                    _map[link][i].trigger('click')
                }
            }
        }
    };
    $.fn.TMTabs = function(options) {
        if (this.length === 0) {
            return this
        }
        var s = {
            onChange: function(a, rel) {},
            beforeChange: function(a) {
                return !0
            },
            afterChange: function(a, rel) {},
            triggerMap: !1,
            activeClass: '__active',
            watchHash: !1
        };
        $.extend(s, options);
        this.data('siblings', this);
        var attr = this.is('a') ? 'href' : 'rel';
        var containers = $($.map(this, function(object) {
            var link = $(object).attr(attr);
            if (_map[link] == undefined) {
                _map[link] = []
            }
            _map[link].push($(object));
            return link
        }).join(','));
        this.data('TMTabs-containers', containers.hide());
        var self = this;
        var _click = function() {
            if (s.beforeChange.call(self, $(this)) !== !1) {
                var me = $(this)
                  , link = me.attr(attr)
                  , rel = $(link);
                s.triggerMap && _trigger_map(me, link);
                containers.hide();
                rel.show();
                self.removeClass(s.activeClass);
                me.addClass(s.activeClass);
                s.onChange.call(self, $(this), rel);
                s.afterChange.call(self, $(this), rel)
            }
            return !1
        };
        var _checkHash = function() {
            var id = window.location.hash
              , item = self.filter(function() {
                return $(this).attr(attr) == id
            });
            _click.call(item.length ? item : self.filter(':first'), !1)
        };
        this.off('click.TMTabs').on('click.TMTabs', _click);
        if (s.watchHash) {
            _checkHash();
            $(window).on('hashchange', _checkHash)
        } else {
            _click.call(this.filter(':first'), !1)
        }
        return this
    }
}
)(jQuery);
/* /vendor/tm/tm.tooltip.js */
(function($, undefined) {
    var _show = function(object, speed) {
        object.fadeIn(speed)
    };
    var _hide = function(object, speed) {
        object.stop().fadeOut(speed)
    };
    var _instances = 0;
    $.fn.TMTooltip = function(text, options) {
        var s = $.extend({
            hover: !0,
            showAfterInit: !1,
            speed: 150,
            closeAfter: 1500
        }, options);
        switch (text) {
        case 'destroy':
            return this.each(function() {
                var me = $(this)
                  , tooltip = me.data('tooltip');
                if (tooltip != undefined && tooltip != null) {
                    tooltip.remove();
                    me.off('.tooltip');
                    var instance = me.data('tooltipInstance');
                    $(document.body).off('.tooltip' + instance)
                }
            });
            break;
        case 'show':
            return this.each(function() {
                var me = $(this)
                  , tooltip = me.data('tooltip');
                if (tooltip) {
                    _show(tooltip)
                }
            });
            break;
        case 'hide':
            return this.each(function() {
                var me = $(this)
                  , tooltip = me.data('tooltip');
                if (tooltip) {
                    _hide(tooltip)
                }
            });
            break;
            break;
        default:
            return this.each(function() {
                var me = $(this)
                  , tooltip = me.data('tooltip')
                  , timer = null;
                if (!(tooltip instanceof jQuery)) {
                    tooltip = $('<div class="tooltip tooltip--nowrap" />').insertBefore(me)
                }
                tooltip.css({
                    bottom: '100%',
                    left: 0
                }).addClass('tooltip--tm').html(text);
                me.data('tooltip', tooltip);
                var instance = _instances++;
                me.data('tooltipInstance', instance);
                if (s.showAfterInit) {
                    _show(tooltip)
                }
                me.off('.tooltip').on('click.tooltip', function() {
                    _show(tooltip)
                });
                tooltip.off('.tooltip').on('mouseenter.tooltip', function() {
                    clearTimeout(timer);
                    _show(tooltip)
                }).on('mouseleave.tooltip', function() {
                    clearTimeout(timer);
                    timer = setTimeout(function() {
                        _hide(tooltip)
                    }, s.closeAfter)
                });
                $(document.body).off('.tooltip' + instance).on('click.tooltip' + instance, function(e) {
                    var target = $(e.target);
                    if (!target.is(tooltip.find('a')) || target.is(me) || target.is(tooltip) || target.is(tooltip.find('*:not(a)'))) {
                        _hide(tooltip)
                    }
                })
            });
            break
        }
    }
}
)(jQuery);
/* /vendor/tm/tm.OAuth.js */
(function($, w) {
    var OAuthScenario = function(events) {
        this.attachEventHandlers(events)
    };
    $.extend(OAuthScenario.prototype, w.TMEvents);
    var scenario = 'default'
      , scenarios = {
        'default': new OAuthScenario()
    };
    var OAuth = {
        addScenario: function(name, Scenario) {
            if (Scenario instanceof OAuthScenario) {
                scenarios[name] = Scenario
            }
        },
        setScenario: function(name) {
            if (name in scenarios) {
                scenario = name
            }
        },
        getScenario: function(name) {
            var scenarioName = name || scenario;
            return scenarioName in scenarios ? scenarios[scenarioName] : new OAuthScenario()
        },
        onError: function() {
            var scenario = this.getScenario();
            if (scenario.trigger('beforeOAuthError') !== !1) {
                scenario.trigger('OAuthError');
                scenario.trigger('afterOAuthError');
                this.trigger('OAuthError')
            }
            scenario.trigger('afterScenario')
        },
        onSuccess: function(userData) {
            var scenario = this.getScenario();
            if (scenario.trigger('beforeOAuthSuccess', userData) !== !1) {
                scenario.trigger('OAuthSuccess', userData);
                scenario.trigger('afterOAuthSuccess', userData);
                this.trigger('OAuthSuccess', userData)
            }
            scenario.trigger('afterScenario')
        }
    };
    $.extend(OAuth, w.TMEvents);
    w.OAuthScenario = OAuthScenario;
    w.OAuth = OAuth
}
)(jQuery, window);
/* /vendor/widgets/search.js */
(function(w) {
    var Search = {
        $input: null,
        $container: null,
        $submit: null,
        $loader: null,
        $results: null,
        action: null,
        timeoutId: null,
        ajaxSearchProcess: null,
        currentQuery: '',
        initialQuery: '',
        maxQueryLength: 100,
        options: {
            hideQuery: !1
        },
        searchTimerId: null,
        init: function(selector, options) {
            this.$input = $(selector);
            this.$container = this.$input.parents('.j-search');
            this.$submit = this.$input.siblings('button[type="submit"]');
            this.$loader = $('<div class="form-loader" style="display: none" />').insertAfter(this.$input);
            this.$results = $('<div class="search-results" style="display: none" />').insertAfter(this.$input);
            this.action = this.$input.parents('form:first').attr('action');
            this.initialQuery = this.$input.val();
            this.options = $.extend(this.options, options);
            this.bindEvents()
        },
        bindEvents: function() {
            var self = this;
            this.$input.on('input', function() {
                if (Number.isInteger(this.searchTimerId)) {
                    clearTimeout(this.searchTimerId)
                }
                if (Search.$input.val().length > Search.maxQueryLength) {
                    Search.$input.val(Search.$input.val().substring(0, Search.maxQueryLength))
                }
                this.searchTimerId = setTimeout($.proxy(Search.search, Search), 300)
            }).on('focus', function(e) {
                if (self.options.hideQuery) {
                    self.showQuery(e)
                }
            });
            $(document.body).on('mousedown', function(e) {
                if (self.options.hideQuery) {
                    self.hideQuery(e)
                }
                self.hideResults(e)
            })
        },
        search: function() {
            this.checkResults();
            this.updateSubmitButton()
        },
        checkResults: function() {
            clearTimeout(this.timeoutId);
            if (this.$input.val() === '') {
                if (this.ajaxSearchProcess) {
                    this.ajaxSearchProcess.abort()
                }
                this.$results.hide();
                return
            }
            if (this.currentQuery === this.$input.val()) {
                return
            }
            this.currentQuery = this.$input.val();
            this.timeoutId = setTimeout(this.load.bind(this), 550)
        },
        updateSubmitButton: function() {
            if (this.$input.val() !== '') {
                this.$submit.removeProp('disabled')
            } else {
                this.$submit.prop('disabled', !0)
            }
        },
        load: function() {
            this.$loader.fadeIn(150);
            if (this.ajaxSearchProcess) {
                this.ajaxSearchProcess.abort()
            }
            this.ajaxSearchProcess = w.sendAjax(this.action, {
                q: this.currentQuery,
                quick_search: 1
            }, this.loadCallback.bind(this))
        },
        loadCallback: function(status, response) {
            if (status === 'OK') {
                this.$loader.fadeOut(150);
                this.$results.html(response.html).show()
            } else if (status !== 'CANCELED') {
                this.$loader.fadeOut(150);
                this.$results.hide()
            }
            this.ajaxSearchProcess = null;
            w.triggerMarketingEvent('quick_search', {
                'term': this.currentQuery
            })
        },
        hideResults: function(e) {
            var target = $(e.target);
            if (!target.is(this.$input) && !target.is(this.$results) && !target.is(this.$results.find('*'))) {
                this.$results.hide();
                clearTimeout(this.timeoutId)
            }
        },
        showQuery: function(e) {
            if ($(e.currentTarget).closest('input').length && !$(e.target).is(this.$submit)) {
                this.$container.addClass('is-focused');
                if (this.currentQuery !== '') {
                    this.$input.val(this.currentQuery);
                    this.updateSubmitButton()
                }
            }
        },
        hideQuery: function(e) {
            var $target = $(e.target);
            if (this.$container.find($target).length === 0) {
                this.$container.removeClass('is-focused');
                if (this.initialQuery === '') {
                    this.$input.val('');
                    this.updateSubmitButton()
                }
            }
        }
    };
    w.Search = Search
}
)(window);
/* /vendor/widgets/ajax_cart_4.0.js */
var AjaxCart = function(selector, skin, events) {
    var me = this;
    this.skin = skin || 'default';
    var currentEvents = {
        onChange: function() {
            me.update()
        },
        onProductRemove: function(id, hash) {
            var container = me.container.find('#product_' + hash);
            if (!container.is('.j-remove-container')) {
                container = container.parents('.j-remove-container:first')
            }
            if (me.products.length > 1) {
                container.hide()
            }
            me.reloadHtml();
            me.update();
            me.trigger('onProductRemoved')
        },
        onCouponChange: function(status, response) {
            if (status !== this.STATUS_COUPON_REJECTED) {
                me.reloadHtml();
                me.update()
            } else {
                me.coupon_code.errorBox(response.message)
            }
        },
        onReload: function() {
            me.reloadHtml()
        },
        onBeforeProductAdd: function(id, type) {
            if (me.Cart.getProductById(id, type) === null) {
                me.loader.show()
            }
        },
        onProductAdd: function() {
            me.initialized = !1;
            me.reloadHtml()
        },
        onInit: function() {
            me.init()
        },
        onError: function(errors) {
            for (var i = 0, l = errors.length; i < l; ++i) {
                var error = errors[i]
            }
        },
        onQuantityChange: function() {
            me.trigger('onQuantityChanged')
        }
    };
    Cart.AJAX_LINK = GLOBAL.URI_PREFIX + Cart.AJAX_LINK.substr(1);
    this.Cart = new Cart(AjaxCart.useSession,currentEvents,GLOBAL.currency.id,AjaxCart.id,AjaxCart.initData);
    this.Cart.attachEventHandlers(events);
    this.container = $(selector);
    this.initialized = !1;
    this.interval = null;
    this.products = [];
    this.openCartOnAdd = !1;
    this.init()
};
AjaxCart.selector = "#cart";
AjaxCart.skin = "default";
AjaxCart.quantity_mask = "{quantity} {products} {on}";
AjaxCart.total_sum_wrapper = "";
AjaxCart.product_sum_wrapper = "";
AjaxCart.remove_product_on_zero = !1;
AjaxCart.events = {};
AjaxCart.instance = null;
AjaxCart.useSession = !0;
AjaxCart.id = undefined;
AjaxCart.getInstance = function() {
    if (this.instance === null) {
        this.instance = new AjaxCart(this.selector,this.skin,this.events)
    }
    return this.instance
}
;
AjaxCart.prototype = {
    init: function() {
        var me = this;
        me.loader = me.container.find('.j-cart-loader').hide();
        me.total_quantity = me.container.find('.j-total-quantity');
        me.total_p_sum = me.container.find('.j-total-p-sum');
        me.discount_percent = me.container.find('.j-discount-percent');
        me.discount_value = me.container.find('.j-discount-value');
        me.total_sum = me.container.find('.j-total-sum');
        me.coupon_code = me.container.find(".j-coupon-input");
        me.coupon_link = me.container.find('.j-coupon-add');
        me.coupon_none = me.container.find('.j-coupon-add-container');
        me.coupon_field = me.container.find('.j-coupon-add-form');
        me.coupon_remove = me.container.find('.j-coupon-remove');
        me.coupon_submit = me.container.find('.j-coupon-submit');
        me.coupon_cancel = me.container.find('.j-coupon-cancel');
        me.coupon_discount_value = me.container.find('.j-coupon-discount-value');
        me.coupon_discount_tooltip = me.container.find('.j-coupon-discount-tooltip');
        me.initialized = !0;
        me.initProducts();
        me.coupon_link.off('click').on('click', function() {
            me.coupon_none.hide();
            me.coupon_field.show();
            me.coupon_code.focus();
            return !1
        });
        me.coupon_remove.off('click').on('click', function() {
            if (confirm(" ?")) {
                me.setCouponCode("", me.skin);
                me.coupon_none.show();
                me.coupon_field.hide()
            }
            return !1
        });
        me.coupon_cancel.off('click').on('click', function() {
            me.coupon_field.val('');
            me.coupon_none.show();
            me.coupon_field.hide();
            return !1
        });
        var coupon_code_change = function() {
            me.coupon_code.errorBox();
            if ($.trim(me.coupon_code.val()) !== "") {
                me.setCouponCode(me.coupon_code.val(), me.skin)
            }
            return !1
        };
        me.coupon_code.off('change, keydown').on('keydown', function(e) {
            if (e.which == 13) {
                coupon_code_change();
                return !1
            }
            return !0
        });
        me.coupon_submit.off('click').on('click', coupon_code_change);
        me.initialized = !0;
        me.initManagerMarkup();
        me.initCustomDeliveryPrice();
        me.initProducts()
    },
    initCustomDeliveryPrice: function() {
        var me = this;
        this.delivery_price = this.container.find('.j-delivery-price');
        this.custom_delivery_price_edit = this.container.find('.j-custom-delivery-price-edit');
        this.custom_delivery_price_container = this.container.find('.j-custom-delivery-price-container');
        this.custom_delivery_price_input = this.custom_delivery_price_container.find('.j-custom-delivery-price-input');
        this.custom_delivery_price_cancel = this.custom_delivery_price_container.find('.j-custom-delivery-price-cancel');
        this.custom_delivery_price_edit.off('click').on('click', function() {
            me.Cart.setCustomDeliveryPrice(me.custom_delivery_price_input.val());
            me.delivery_price.hide();
            me.custom_delivery_price_edit.hide();
            me.custom_delivery_price_container.show();
            me.custom_delivery_price_input.focus();
            return !1
        });
        this.custom_delivery_price_input.off('change').on('change', function() {
            me.Cart.setCustomDeliveryPrice($(this).val())
        });
        this.custom_delivery_price_cancel.off('click').on('click', function() {
            me.Cart.setCustomDeliveryPrice(-1);
            me.delivery_price.show();
            me.custom_delivery_price_edit.show();
            me.custom_delivery_price_container.hide()
        })
    },
    initManagerMarkup: function() {
        var me = this;
        this.markup_add = this.container.find('.j-markup-add');
        this.markup_name = this.container.find('.j-markup-name');
        this.markup_price = this.container.find('.j-markup-price');
        this.markup_price_container = this.container.find('.j-markup-price-container');
        this.markup_name.off('change').on('change', function() {
            me.updateMarkup()
        });
        this.markup_price.numberMask({
            type: 'float',
            allowNegative: !0
        }).off('change').on('change', function() {
            me.updateMarkup()
        });
        this.markup_add.off('click').on('click', function() {
            me.markup_add.hide();
            me.markup_name.show().focus();
            me.markup_price_container.show();
            return !1
        })
    },
    updateMarkup: function() {
        var me = this;
        this.Cart.setMarkup(this.markup_name.val(), this.markup_price.val(), function() {
            me.markup_name.val(me.Cart.manager_markup.markup_name);
            me.markup_price.val(me.Cart.manager_markup.markup_price)
        })
    },
    updateObject: function(object) {
        var product = this.getProductByHash(object.hash);
        if (product) {
            if (object.quantity.is(':input')) {
                object.quantity.val(product.quantity)
            } else {
                object.quantity.html(product.quantity)
            }
            object.sum.html(this.priceFormat(product.price * product.quantity, AjaxCart.product_sum_wrapper));
            object.sum_old.html(this.priceFormat(product.cprice.initial_price * product.quantity, AjaxCart.product_sum_wrapper));
            if (product.quantity == 1 && !AjaxCart.remove_product_on_zero) {
                object.decrease.addClass('__disabled')
            } else {
                object.decrease.removeClass('__disabled')
            }
            if (product.quantity == product.max_quantity) {
                object.increase.addClass('__disabled')
            } else {
                object.increase.removeClass('__disabled')
            }
        }
    },
    reloadHtml: function() {
        if (this.container.length !== 0) {
            var me = this;
            this.Cart.ajax('render/' + this.skin, {}, function(status, response) {
                me.loader.hide();
                if (status === 'OK') {
                    me.container.empty().append($(response.html).html());
                    me.init();
                    me.Cart.trigger('onReloadHtml')
                }
            })
        }
    },
    attachEventHandlers: function(events) {
        this.Cart.attachEventHandlers(events)
    },
    attachEventHandler: function(eventName, callback) {
        this.Cart.attachEventHandler(eventName, callback)
    },
    trigger: function(fName) {
        return this.Cart.trigger.apply(this.Cart, arguments)
    },
    initProducts: function() {
        var me = this;
        this.products = [];
        this.container.find('.j-cart-product').each(function() {
            var obj = $(this)
              , hash = obj.attr('id').substr("product_".length)
              , remove = obj.find('.j-remove-p')
              , sum = obj.find('.j-sum-p')
              , sum_old = obj.find('.j-sum-old-p')
              , decrease = obj.find('.j-decrease-p')
              , increase = obj.find('.j-increase-p')
              , input = obj.find('.j-quantity-p')
              , step = Number(input.attr('data-step'))
              , min = Number(input.attr('data-min'))
              , quantity_reached = obj.find('.j-quantity-reached-message');
            var product_object = {
                hash: hash,
                container: obj,
                sum: sum,
                sum_old: sum_old,
                remove: remove,
                decrease: decrease,
                increase: increase,
                quantity: input
            };
            me.products.push(product_object);
            remove.off('click.AjaxCart').on('click.AjaxCart', function() {
                if (me.trigger('onBeforeProductRemove', product_object) !== !1) {
                    me.removeProductByHash(hash);
                    me.trigger('onProductChange', hash)
                }
                return !1
            });
            decrease.off('click.AjaxCart').on('click.AjaxCart', function() {
                quantity_reached.hide().stop();
                var c_quantity = input.val() * 1;
                c_quantity = c_quantity - step;
                if (c_quantity < min) {
                    c_quantity = min
                }
                if (c_quantity > 0) {
                    me.Cart.setProductQuantityByHash(hash, c_quantity);
                    me.update();
                    me.trigger('onProductChange', hash, c_quantity)
                } else if (AjaxCart.remove_product_on_zero && me.trigger('onBeforeProductRemove', product_object) !== !1) {
                    me.removeProductByHash(hash);
                    me.trigger('onProductChange', hash)
                }
                return !1
            });
            increase.off('click.AjaxCart').on('click.AjaxCart', function() {
                quantity_reached.hide().stop();
                var c_quantity = Number(input.val())
                  , product = me.getProductByHash(hash);
                if (product) {
                    c_quantity = c_quantity + step;
                    if (c_quantity <= product.max_quantity) {
                        me.Cart.setProductQuantityByHash(hash, c_quantity);
                        me.update();
                        me.trigger('onProductChange', hash, c_quantity)
                    } else {
                        quantity_reached.stop().show().delay(3000).fadeOut('fast')
                    }
                }
                return !1
            });
            input.numberMask({
                type: 'int'
            }).off('change.AjaxCart').on('change.AjaxCart', function() {
                quantity_reached.hide().stop();
                var quantity = $(this).val() * 1
                  , product = me.getProductByHash(hash);
                if ($(this).val() === 'more') {
                    var input = $(this).parents('.select').hide().siblings('input').show();
                    quantity = +input.data('start-quantity');
                    input.val(quantity);
                    me.Cart.setProductQuantityByHash(hash, quantity);
                    me.update();
                    return !1
                }
                if (product) {
                    if (quantity < min) {
                        quantity = min
                    } else if (quantity > product.max_quantity) {
                        quantity_reached.show().stop().delay(3000).fadeOut('fast');
                        quantity = product.max_quantity
                    } else if (quantity % step !== 0) {
                        quantity = (quantity - quantity % step) + step
                    }
                    me.Cart.setProductQuantityByHash(hash, quantity);
                    me.trigger('onProductChange', hash, quantity);
                    me.update()
                }
                return !1
            });
            me.updateObject(product_object)
        })
    },
    update: function() {
        var products = this.products
          , total = this.Cart.total
          , discount = this.Cart.discount
          , coupon_data = this.Cart.coupon_data;
        var total_p_sum = 0;
        var quantity_text = str_replace(['{quantity}', '{products}', '{on}'], [total.quantity, getCountText(total.quantity), l10n("")], AjaxCart.quantity_mask);
        this.total_quantity.html(quantity_text);
        this.discount_percent.html(discount.discount_percent);
        this.discount_value.html(discount.discount_value > 0 ? '&ndash; ' + this.priceFormat(discount.discount_value) : this.priceFormat(0));
        this.total_sum.html(this.priceFormat(total.sum, AjaxCart.total_sum_wrapper));
        for (var i = 0, length = products.length; i < length; ++i) {
            var product = products[i]
              , data = this.getProductByHash(product.hash);
            if (data) {
                total_p_sum += data.quantity * data.price;
                this.updateObject(product)
            }
        }
        this.total_p_sum.html(this.priceFormat(total_p_sum, AjaxCart.product_sum_wrapper));
        this.coupon_discount_value.html(coupon_data.sum > 0 ? '&ndash; ' + this.priceFormat(coupon_data.sum, AjaxCart.product_sum_wrapper) : this.priceFormat(0));
        coupon_data.showTooltip ? this.coupon_discount_tooltip.show() : this.coupon_discount_tooltip.hide()
    },
    priceFormat: function(price, abbr_wrapper) {
        abbr_wrapper = abbr_wrapper || '';
        return currency.wrap_html(number_format(price, GLOBAL.round_to, '.', ' '), abbr_wrapper)
    },
    appendProduct: function(product, related) {
        this.Cart.appendProduct(product, related)
    },
    appendProducts: function(products) {
        this.Cart.appendProducts(products)
    },
    getProductByHash: function(hash) {
        return this.Cart.getProductByHash(hash)
    },
    getProductById: function(id) {
        return this.Cart.getProductById(id)
    },
    removeProductByHash: function(hash) {
        this.Cart.removeProductByHash(hash)
    },
    setCouponCode: function(code, skin) {
        this.Cart.setCouponCode(code, skin)
    },
    getProductObjByHash: function(hash) {
        for (var i = 0, l = this.products.length; i < l; ++i) {
            var product = this.products[i];
            if (product.hash == hash) {
                return product
            }
        }
        return null
    }
};
/* /vendor/widgets/ajax_comments.js */
(function($, w, u) {
    var AjaxComments = function(token, containerSelector) {
        this.form = $('');
        this.token = token;
        this.commentsContainer = $('');
        this.showMoreButton = $('');
        this.container = $(containerSelector)
    };
    var lastInstance = null;
    AjaxComments.instances = {};
    AjaxComments.getInstance = function(token, containerSelector) {
        if (token == u) {
            return lastInstance
        }
        if (this.instances[token]) {
            lastInstance = this.instances[token];
            if (containerSelector) {
                lastInstance.container = $(containerSelector)
            }
            return lastInstance
        }
        return lastInstance = this.instances[token] = new this(token,containerSelector)
    }
    ;
    AjaxComments.prototype = {
        initComments: function(commentsContainerSelector, showMoreButtonSelector) {
            this.commentsContainer = $(commentsContainerSelector);
            this.showMoreButton = $(showMoreButtonSelector);
            var self = this;
            var isLoading = !1;
            this.showMoreButton.on('click', function() {
                if (self.trigger('beforeLoadComments') === !1) {
                    return !1
                }
                var me = $(this)
                  , href = me.attr('href');
                if (!isLoading) {
                    me.addClass('__disabled');
                    isLoading = !0;
                    sendAjax(href, {}, function(status, response) {
                        me.removeClass('__disabled');
                        isLoading = !1;
                        if (status === "OK") {
                            self.commentsContainer.append(response.html);
                            self.initReply();
                            if (response.show_more) {
                                me.attr('href', response.next_uri)
                            } else {
                                me.parent().remove()
                            }
                        }
                        self.trigger('afterLoadComments', status, response)
                    })
                }
                return !1
            });
            this.initReply()
        },
        initForm: function(selector) {
            var self = this;
            this.form = $(selector);
            this.submitting = !1;
            var inputs = this.form.find(':input');
            this.form.off('submit').on('submit', function() {
                if (self.submitting) {
                    self.trigger('submitPending');
                    return !1
                }
                if (self.trigger('beforeSubmit') === !1) {
                    self.trigger('abortSubmit');
                    return !1
                }
                self.submitting = !0;
                var action = $(this).attr('action')
                  , data = $(this).serializeArray();
                data.push({
                    'name': 'token',
                    'value': self.token
                });
                sendAjax(action, data, function(status, response) {
                    self.submitting = !1;
                    inputs.errorBox();
                    self.trigger('afterSubmit', status, response);
                    if (status === 'VALIDATION_ERROR') {
                        for (var i in response.errors) {
                            if (response.errors.hasOwnProperty(i)) {
                                var code = response.errors[i].code
                                  , message = response.errors[i].message;
                                inputs.filter('[name="form[' + code + ']"]').errorBox(message)
                            }
                        }
                        self.trigger('onCommentError')
                    } else if (status === "OK") {
                        self.form.reset();
                        if (response.CSRFToken) {
                            self.form.find('input[name="CSRFToken"]').val(response.CSRFToken)
                        }
                        self.trigger('onCommentSuccess');
                        self.updateComments(response)
                    }
                });
                return !1
            })
        },
        initReply: function() {
            var self = this;
            var click = function() {
                var me = $(this), href = me.attr('href'), replyTo = me.attr('data-reply') * 1, hide = self.commentsContainer.find('.j-hide-' + replyTo), formSelector = '#reply-form-' + replyTo, formContainer = self.commentsContainer.find('.j-reply-form-' + replyTo), form;
                var loader = self.commentsContainer.find('.j-loader-' + replyTo).show();
                me.addClass('__disabled');
                sendAjax(href, function(status, response) {
                    loader.hide();
                    me.hide();
                    if (status === 'OK') {
                        form = $(response.form);
                        formContainer.empty().append(form);
                        formContainer.show();
                        self.initReplyForm(formSelector);
                        var textValue = form.find(':input:visible:first').val();
                        form.find(':input:visible:first').selectRange(textValue.length, textValue.length).focus()
                    } else {
                        me.show()
                    }
                });
                return !1
            };
            this.commentsContainer.find('.j-reply').off('click').on('click', click)
        },
        initReplyForm: function(selector) {
            var self = this
              , replyForm = $(selector)
              , submitting = !1;
            replyForm.off('submit').on('submit', function() {
                if (self.trigger('beforeReply') === !1) {
                    self.trigger('abortReply');
                    return !1
                }
                var replyTo = replyForm.attr('data-reply')
                  , commentId = replyForm.attr('data-comment')
                  , hide = self.commentsContainer.find('.j-hide-' + commentId)
                  , formContainer = self.commentsContainer.find('.j-reply-form-' + commentId);
                if (!submitting) {
                    submitting = !0;
                    var data = replyForm.serializeArray()
                      , inputs = replyForm.find(':input')
                      , enabledFields = replyForm.find(':input:enabled');
                    data.push({
                        'name': 'token',
                        'value': self.token
                    });
                    enabledFields.prop('disabled', !0).attr('disabled', 'disabled');
                    sendAjax(replyForm.attr('action'), data, function(status, response) {
                        self.trigger('afterReply', status, response);
                        submitting = !1;
                        enabledFields.prop('disabled', !1).removeAttr('disabled');
                        if (status === 'VALIDATION_ERROR') {
                            for (var i in response.errors) {
                                if (response.errors.hasOwnProperty(i)) {
                                    var code = response.errors[i].code
                                      , message = response.errors[i].message;
                                    inputs.filter('[name="form[' + code + ']"]').errorBox(message)
                                }
                            }
                        } else if (status === "OK") {
                            formContainer.hide();
                            replyForm.reset();
                            hide.show();
                            hide.removeClass('__disabled');
                            var obj = $(response.comment_html);
                            self.commentsContainer.find('.j-comment-root-' + replyTo).append(obj);
                            self.initReply()
                        }
                    })
                }
                return !1
            })
        },
        updateComments: function(response) {
            var obj = $(response.comment_html);
            if (response.count === 1) {
                this.commentsContainer.empty()
            }
            this.commentsContainer.prepend(obj);
            var top = obj.offset().top;
            $(window).scrollTop(top);
            this.initReply();
            this.trigger('onUpdateComments', response.comments_count, response.avg_rate)
        }
    };
    $.extend(AjaxComments.prototype, TMEvents);
    w.AjaxComments = AjaxComments
}
)(jQuery, window);
/* /vendor/widgets/filter.js */
var init_number_filter = function(id, min, max, default_min, default_max, filterWasActive) {
    var min_obj = $("#" + id + "_min")
      , max_obj = $("#" + id + "_max")
      , form = min_obj.parents('form.j-number-form')
      , reset = form.find('.j-reset')
      , min_name = min_obj.attr('name') ? min_obj.attr('name') : min_obj.attr('data-name')
      , max_name = max_obj.attr('name') ? max_obj.attr('name') : max_obj.attr('data-name');
    if (filterWasActive == undefined) {
        filterWasActive = !1
    }
    min_obj.attr('data-name', min_name);
    max_obj.attr('data-name', max_name);
    min_obj.parents('form:first').find('[name="' + min_name + '"][type="hidden"],[name="' + max_name + '"][type="hidden"]').remove();
    var check_values = function() {
        var min = min_obj.val() * 1
          , max = max_obj.val() * 1
          , remove_min = min <= default_min * 1
          , remove_max = max >= default_max * 1;
        if (!filterWasActive || (remove_min && remove_max)) {
            min_obj.removeAttr('name');
            max_obj.removeAttr('name')
        } else {
            min_obj.attr('name', min_name);
            max_obj.attr('name', max_name)
        }
        filterWasActive = !0
    };
    var slider = $("#" + id).slider({
        range: !0,
        min: default_min,
        max: default_max,
        values: [min, max],
        slide: function(event, ui) {
            var min_val = ui.values[0]
              , max_val = ui.values[1];
            if (min_val >= max_val) {
                var modifier = max_val != default_min ? -1 : 0;
                min_val = max_val + modifier
            }
            if (max_val <= min_val) {
                var modifier = min_val != default_max - 1 ? +1 : 0;
                max_val = min_val + modifier
            }
            slider.slider('values', 0, min_val);
            slider.slider('values', 1, max_val);
            min_obj.val(min_val);
            max_obj.val(max_val);
            check_values()
        }
    });
    min_obj.on('change', function() {
        var me = $(this)
          , val = me.val() * 1;
        if (val < default_min) {
            val = default_min
        } else if (val > max_obj.val() * 1) {
            val = max_obj.val() * 1
        }
        me.val(val);
        slider.slider('values', 0, val);
        check_values()
    });
    max_obj.on('change', function() {
        var me = $(this)
          , val = me.val() * 1;
        if (val > default_max) {
            val = default_max
        } else if (val < min_obj.val() * 1) {
            val = min_obj.val() * 1
        }
        me.val(val);
        slider.slider('values', 1, val);
        check_values()
    });
    reset.on('click', function() {
        if (min_obj.val() != default_min || max_obj.val() != default_max) {
            slider.slider('values', 0, default_min);
            min_obj.val(default_min);
            slider.slider('values', 1, default_max);
            max_obj.val(default_max);
            check_values();
            form.submit()
        }
    });
    form.off('submit').on('submit', function() {
        var min_val = min_obj.val() * 1
          , max_val = max_obj.val() * 1
          , submit_button = $(document.activeElement);
        if (min_val <= default_min * 1 && max_val >= default_max * 1) {
            min_obj.prop('disabled', !0);
            max_obj.prop('disabled', !0)
        }
        var get_params = form.serialize();
        CatalogBuilder.followLink(form.attr('action') + (get_params ? '?' + get_params : ''));
        if (submit_button.length && form.has(submit_button)) {
            submit_button.addClass('__disabled').append('<div class="loader">')
        }
        return !1
    });
    check_values()
};
/* /vendor/widgets/buy_button.js */
var BuyButton = {
    init: function() {
        this.initButtons();
        var self = this
          , cartHandlers = AjaxCart.getInstance().Cart.events
          , newCartHandlers = {}
          , buyButtonHandlers = {
            onProductAdd: function updateBuyButtons(id) {
                if (id) {
                    self.updateButtons([id])
                }
            },
            onProductRemove: function updateBuyButtons(id) {
                if (id) {
                    self.updateButtons([id])
                }
            },
            onChange: function updateBuyButtons() {
                if (this.total.quantity == 0) {
                    self.updateButtons(self.ids)
                }
            }
        };
        for (var cartTriggerName in buyButtonHandlers) {
            var isCartAlreadyHasHandler = !1;
            cartHandlers && cartHandlers[cartTriggerName] && cartHandlers[cartTriggerName].forEach(function(handler) {
                if (handler.name === 'updateBuyButtons') {
                    isCartAlreadyHasHandler = !0;
                    return !1
                }
            });
            if (!isCartAlreadyHasHandler) {
                newCartHandlers[cartTriggerName] = buyButtonHandlers[cartTriggerName]
            }
        }
        AjaxCart.getInstance().attachEventHandlers(newCartHandlers);
        this.trigger('onInit')
    },
    openCart: function() {
        Modal.open(AjaxCart.getInstance().container)
    },
    initButtons: function() {
        this.addButtons = $('.j-buy-button-add');
        this.removeButtons = $('.j-buy-button-remove');
        this.ids = [];
        var self = this;
        this.addButtons.off('click').on('click', function() {
            var me = $(this)
              , id = me.attr('id').substr('j-buy-button-widget-'.length)
              , gift = me.data('gift') * 1
              , quantity = me.attr('data-quantity') * 1;
            if (isNaN(quantity)) {
                quantity = 1
            }
            self.ids.push(id);
            self.clickedButton = me;
            var product = {
                type: 'product',
                quantity: quantity,
                id: id
            }
              , related = null;
            if (gift) {
                related = [{
                    type: 'gift',
                    quantity: 1,
                    id: gift
                }];
                product.type = 'gift_parent'
            }
            if (self.trigger('onBeforeAdd', product, related, self.clickedButton) !== !1) {
                AjaxCart.openCartOnAdd = !0;
                AjaxCart.getInstance().appendProduct(product, related);
                self.trigger('onAfterAdd', product, related)
            }
            return !1
        });
        this.removeButtons.off('click').on('click', function() {
            self.openCart();
            return !1
        })
    },
    updateButtons: function(ids) {
        var self = this
          , data = {};
        ids = ids instanceof Array ? ids : [ids];
        if (ids.length) {
            if (this.trigger('onBeforeUpdate') === !1) {
                return
            }
            var objects = this.addButtons.add(this.removeButtons);
            for (var i in ids) {
                if (ids.hasOwnProperty(i)) {
                    var id = ids[i];
                    var object = objects.filter('#j-buy-button-widget-' + id);
                    if (object.length) {
                        data[id] = object.data('skin')
                    }
                }
            }
            if (jQuery.isEmptyObject(data)) {
                return
            }
            sendAjax(GLOBAL.URI_PREFIX + '_widget/buy_button/render/', {
                ids: data
            }, function(status, response) {
                if (status === 'OK') {
                    for (var id in response) {
                        var container = $('#j-buy-button-widget-' + id);
                        if (!container.is('.j-ignore')) {
                            container.removeAttr('id');
                            var data = $(response[id]);
                            if (data.find('.j-buy-button-add, .j-buy-button-remove').length) {
                                data = data.find('.j-buy-button-add, .j-buy-button-remove')
                            }
                            data.insertAfter(container);
                            container.remove()
                        }
                        self.trigger('onAfterRender', container)
                    }
                    self.initButtons();
                    self.trigger('onAfterUpdate')
                }
            })
        }
    }
};
$.extend(BuyButton, TMEvents);
$(function() {
    BuyButton.init()
});
/* /vendor/widgets/credit-services.js */
(function($, w) {
    var cache = w.TMCache(24)
      , version = w.GLOBAL.theme === 'horoshop_default' ? 'default' : 'mobile';
    var CreditServices = function(id) {
        this.id = id
    };
    CreditServices.instances = {};
    CreditServices.getInstance = function(id) {
        if (this.instances[id]) {
            return this.instances[id]
        } else {
            this.instances[id] = new this(id);
            return this.instances[id]
        }
    }
    ;
    CreditServices.prototype = {
        ajaxUri: '/_widget/horoshop_creditServices_widget/renderModal/',
        selectors: {
            modal: '#credit-services',
            tabsLinks: '.j-tabs-head a',
            tabsBody: '.j-tabs-body',
            buyButton: function(id) {
                return '.j-buy-credit-button-' + id
            }
        },
        modalHtml: null,
        init: function() {
            this.initButtons()
        },
        initButtons: function() {
            var self = this;
            this.$button = $(this.selectors.buyButton(this.id));
            this.$button.off('click.CreditServices').on('click.CreditServices', function(e) {
                self.clickHandler.call(self, e)
            })
        },
        clickHandler: function(e) {
            var self = this;
            if (cache.read(this.id)) {
                this.modalHtml = cache.read(this.id);
                self.openModal()
            } else {
                self.showButtonLoader();
                w.sendAjax(this.ajaxUri + this.id + '/', null, function(status, response) {
                    if (status === 'OK') {
                        cache.write(self.id, response.html);
                        self.modalHtml = response.html;
                        self.openModal()
                    } else {
                        console.error(response)
                    }
                    self.hideButtonLoader()
                })
            }
            e.preventDefault()
        },
        openModal: function() {
            if (version === 'default') {
                $('body').append(this.modalHtml);
                $(this.selectors.modal).find(this.selectors.tabsLinks).TMTabs();
                $(this.selectors.modal).find(this.selectors.tabsBody).height(function() {
                    return $(this).height()
                });
                w.Modal.open(this.selectors.modal, null, {
                    afterClose: function() {
                        this.remove()
                    }
                })
            } else {
                var self = this;
                $('body').append(this.modalHtml);
                $(this.selectors.modal).mmenu({
                    offCanvas: {
                        position: "bottom",
                        zposition: "front",
                        fullscreen: !0
                    }
                });
                w.App.mmenu.addPanel('creditServices', $(this.selectors.modal));
                w.App.mmenu.getAPI('creditServices').bind('closed', function() {
                    $(self.selectors.modal).remove()
                });
                $(this.selectors.modal).find(this.selectors.tabsLinks).TMTabs({
                    'activeClass': 'is-active'
                });
                w.App.mmenu.getAPI('creditServices').open();
                $(this.selectors.modal).find(this.selectors.tabsBody).height(function() {
                    var $content = $(this)
                      , $modal = $(self.selectors.modal);
                    return $modal.height() - ($content.offset().top - $modal.offset().top)
                })
            }
        },
        showButtonLoader: function() {
            if (version === 'default') {
                this.$button.addClass('is-disabled').append('<div class="loader" />')
            } else {
                this.$button.addClass('is-loading')
            }
        },
        hideButtonLoader: function() {
            if (version === 'default') {
                this.$button.removeClass('is-disabled').find('.loader').remove()
            } else {
                this.$button.removeClass('is-loading')
            }
        }
    };
    w.CreditServices = CreditServices
}
)(jQuery, window);
/* /vendor/widgets/installments-cart.js */
(function(w) {
    var InstallmentsCart = function(containerSelector, productId, skin) {
        this.container = document.querySelector(containerSelector);
        this.productId = productId;
        this.widgetUri = window.GLOBAL.URI_PREFIX + '_widget/installments/';
        this.quantity = 0;
        this.paymentParts = 0;
        this.paymentType = 0;
        this.skin = skin || 'default';
        InstallmentsCart.instance = this
    };
    InstallmentsCart.getInstance = function() {
        if (this.instance === null) {
            return new InstallmentsCart(this.container,this.productId)
        }
        return this.instance
    }
    ;
    InstallmentsCart.prototype = {
        init: function() {
            if (!this.container) {
                return
            }
            this.productContainer = this.container.querySelector('.j-product-container');
            this.installmentsContainer = this.container.querySelector('.j-installments-container');
            this.initInstallmentButtons();
            this.initQuantity();
            this.initQuantityField();
            this.initInstallments();
            this.initCheckoutButton();
            return this
        },
        initInstallmentButtons: function() {
            var self = this;
            this.installmetButtons = document.querySelectorAll('.j-installment-button');
            this.installmetButtons.forEach(function(button) {
                button.addEventListener('click', function(e) {
                    self.paymentType = this.dataset.paymentType;
                    e.preventDefault()
                })
            })
        },
        initCheckoutButton: function() {
            var self = this;
            this.checkoutButton = document.querySelector('.j-installments-checkout-button');
            if (!this.checkoutButton) {
                return
            }
            this.checkoutButton.addEventListener('click', function(e) {
                var button = e.currentTarget;
                var productId = button.dataset.productId;
                var giftId = button.dataset.giftId;
                var product = {
                    type: 'product',
                    quantity: self.quantity,
                    id: productId
                };
                var relatedProducts = null;
                if (Boolean(giftId)) {
                    relatedProducts = [{
                        type: 'gift',
                        quantity: 1,
                        id: giftId
                    }];
                    product.type = 'gift_parent'
                }
                if (self.trigger('onBeforeAdd', product, relatedProducts, button) !== !1) {
                    window.sendAjax(self.widgetUri + 'checkout/', {
                        product: product,
                        related: relatedProducts,
                        paymentType: self.paymentType,
                        paymentParts: self.paymentParts
                    }, function(status, response) {
                        if (status === 'OK') {
                            window.location.href = response.url
                        } else {
                            self.trigger('onAppendProductException', response.errors)
                        }
                    })
                }
                e.preventDefault()
            })
        },
        initQuantityField: function() {
            var self = this;
            this.increaseButton = this.container.querySelector('.j-increase-p');
            this.decreaseButton = this.container.querySelector('.j-decrease-p');
            this.inputField = this.container.querySelector('.j-quantity-p');
            this.select = this.container.querySelector('.j-quantity-s');
            this.inputMessage = this.container.querySelector('.j-quantity-reached-message');
            this.quantity = Number(this.inputField.value);
            this.minQuantity = Number(this.inputField.getAttribute('data-min'));
            this.maxQuantity = Number(this.inputField.getAttribute('data-max'));
            this.step = Number(this.inputField.getAttribute('data-step'));
            this.updateSpinner();
            if (this.increaseButton) {
                var self = this;
                this.increaseButton.addEventListener('click', function(e) {
                    if (self.quantity >= self.maxQuantity) {
                        self.updateSpinner();
                        return
                    }
                    self.updateQuantity(self.quantity + self.step);
                    self.updateSpinner();
                    e.preventDefault()
                })
            }
            if (this.decreaseButton) {
                this.decreaseButton.addEventListener('click', function(e) {
                    if (self.quantity <= self.minQuantity) {
                        return
                    }
                    self.updateQuantity(self.quantity - self.step);
                    self.updateSpinner();
                    e.preventDefault()
                })
            }
            if (this.inputField) {
                this.inputField.addEventListener('change', function(e) {
                    var currentValue = Number(e.target.value);
                    if (currentValue < self.minQuantity) {
                        currentValue = self.minQuantity
                    }
                    if (currentValue > self.maxQuantity) {
                        currentValue = self.maxQuantity
                    }
                    if (currentValue % self.step !== 0) {
                        currentValue = (currentValue - currentValue % self.step) + self.step
                    }
                    self.updateQuantity(currentValue);
                    self.updateSpinner();
                    e.preventDefault()
                })
            }
            if (this.select) {
                this.select.addEventListener('change', function(e) {
                    var currentValue = e.target.value;
                    if (currentValue === 'more') {
                        self.select.parentElement.style.display = 'none';
                        self.inputField.style.display = 'block';
                        self.inputField.value = self.inputField.dataset.startQuantity;
                        setTimeout(function() {
                            self.inputField.focus()
                        }, 1);
                        return
                    }
                    self.updateQuantity(Number(currentValue), !1);
                    e.preventDefault()
                })
            }
        },
        updateSpinner: function() {
            if (!(this.decreaseButton && this.increaseButton)) {
                return
            }
            if (this.quantity <= this.minQuantity) {
                this.decreaseButton.classList.add('__disabled')
            } else {
                this.decreaseButton.classList.remove('__disabled')
            }
            if (this.quantity >= this.maxQuantity) {
                this.increaseButton.classList.add('__disabled');
                this.inputMessage.style.display = 'block';
                var self = this;
                setTimeout(function() {
                    $(self.inputMessage).fadeOut("slow", function() {
                        self.inputMessage.style.display = 'none'
                    })
                }, 2000)
            } else {
                this.increaseButton.classList.remove('__disabled');
                this.inputMessage.style.display = 'none'
            }
        },
        initInstallments: function() {
            var self = this;
            this.container.querySelectorAll('.j-installment-item').forEach(function(item) {
                var select = item.querySelector('.j-payments-number');
                var paymentsValue = item.querySelector('.j-payments-value');
                var paymentsText = item.querySelector('.j-payments-text');
                var countText = paymentsText.dataset.countText.split(',');
                self.paymentParts = Number(select.value);
                $(select).on('change', function() {
                    self.paymentParts = Number(select.value);
                    paymentsValue.innerHTML = select.options[select.selectedIndex].dataset.price;
                    paymentsText.innerHTML = window.getCountText(select.value, countText[0], countText[1], countText[2])
                })
            })
        },
        updateQuantity: function(value, updateInput=!0) {
            var self = this;
            this.quantity = value;
            if (updateInput) {
                if (this.inputField) {
                    this.inputField.value = value
                }
                if (this.select) {
                    this.select.value = value
                }
            }
            clearTimeout(this.debounceTimer);
            this.debounceTimer = setTimeout(function() {
                if (self.sendAjaxFn) {
                    self.sendAjaxFn.abort()
                }
                self.sendAjaxFn = window.sendAjax(self.widgetUri + 'update/', {
                    productId: self.productId,
                    quantity: self.quantity,
                    paymentParts: self.paymentParts,
                    skin: self.skin
                }, function(status, response) {
                    self.sendAjaxFn = null;
                    if (status === 'OK') {
                        self.productContainer.innerHTML = '';
                        self.installmentsContainer.innerHTML = '';
                        self.productContainer.insertAdjacentHTML('beforeend', response.productHtml);
                        self.installmentsContainer.insertAdjacentHTML('beforeend', response.installmentsHtml);
                        self.initQuantityField();
                        self.initInstallments();
                        self.trigger('onAfterAppendHtml', self.container)
                    }
                })
            }, 100)
        },
        initQuantity: function() {
            var self = this;
            var ajaxCart = AjaxCart.getInstance();
            ajaxCart.attachEventHandler('onQuantityChange', function(product) {
                if (product.quantity !== self.quantity) {
                    self.updateQuantity(product.quantity)
                }
            })
        }
    };
    Object.assign(InstallmentsCart.prototype, TMEvents);
    w.InstallmentsCart = InstallmentsCart
}
)(window);
/* /themes/horoshop_default/layout/js/frontend/easyzoom.js */
(function($) {
    $.easyZoom = function(options, el) {
        this.init(options, el)
    }
    ;
    $.fn.easyZoom = function(options) {
        return this.each(function() {
            if (!$.data(this, 'easyZoom')) {
                $.data(this, 'easyZoom', new $.easyZoom(options,this))
            }
        })
    }
    ;
    $.easyZoom.defaults = {
        class: 'zoomPhoto',
        parent: !1,
        parentClass: !1,
        wrapper: 'zoomWrapper',
        append: !0,
        showLens: !1,
        lensMargin: 30,
        preload: '...',
        error: '    .',
        onShow: null,
        onHide: null
    };
    $.easyZoom.prototype.init = function(options, el) {
        var opts = $.extend({}, $.easyZoom.defaults, options || {});
        var obj = el;
        var img = new Image();
        var loaded = !1;
        var found = !0;
        var timeout;
        var w1, w2, w3, w4, h1, h2, h3, h4, rw, rh;
        var lens, lensL, lensT, box, boxW, boxH, imgH, imgW, boxP, LensX, LensY, LensW, LensH, sfx, sfy, Loop, zoomPlacer, loader;
        var lensBorder = 0;
        var lensMargin = opts.showLens ? 0 : opts.lensMargin;
        var over = !1;
        var prefix;
        var href = $(obj).attr('href') || $(obj).data('href') || !1;
        var disabled = !1;
        var sized = !1;
        var $this = $(obj);
        var t1, t2;
        prefix = (opts.parentClass) ? (opts.parentClass + '-') : '';
        if (!href)
            return;
        if (!opts.parent) {
            opts.parent = $this.parent()
        }
        var parent = opts.parent;
        loader = $('<div class="zoomOverlay"><div class="loader"></div></div>').hide().appendTo(parent);
        lens = $('<div/>').addClass(prefix + 'zoomLens').hide();
        lensBorder = parseFloat(lens.css('border-left-width'));
        img.src = href;
        $(img).error(function() {
            found = !1
        });
        if (!$(opts.wrapper).length) {
            $this.wrap('<div class="' + opts.wrapper + '"/>')
        }
        var currentEvent;
        var addEvents = function() {
            $this.parent().click(function(e) {
                e.preventDefault()
            }).on('mouseenter', function(e) {
                var currentBlock = $(this);
                t1 = setTimeout(function() {
                    over = !0;
                    move($this, currentEvent);
                    show($this)
                }, 200);
                clearTimeout(t2)
            }).on('mousemove', function(e) {
                var currentBlock = $(this);
                currentEvent = e;
                if (over) {
                    move($this, currentEvent)
                }
            }).on('mouseleave', function() {
                var currentBlock = $(this);
                t2 = setTimeout(function() {
                    hide(currentBlock)
                }, 200);
                clearTimeout(t1)
            })
        };
        addEvents();
        $(img).one('load', function() {
            loaded = !0;
            start();
            if (over) {
                $this.parent().trigger('mouseenter')
            }
        }).each(function() {
            if (this.complete) {
                $(this).load()
            }
        });
        $(window).resize(function() {
            if (loaded && !disabled) {
                windowSize()
            }
        });
        var kh;
        var kw;
        var vl;
        var hl;
        function start(e) {
            if (!found) {
                error()
            } else {
                loader.remove();
                $(img).css({
                    'position': 'absolute',
                    'top': '0',
                    'left': '0'
                });
                w1 = $('img', obj).width();
                h1 = $('img', obj).height();
                w3 = img.width;
                h3 = img.height;
                sfx = w3 / w1;
                sfy = h3 / h1;
                box = $this.parent();
                boxW = box.outerWidth();
                boxH = box.outerHeight();
                if (w3 <= boxW && h3 <= boxH) {
                    $this.parent().off();
                    disabled = !0;
                    return !1
                } else {
                    if (href) {
                        zoomPlacer = $('<a class="' + opts.class + '" href="' + href + '" onclick="' + obj.getAttribute('onclick') + '" />')
                    } else {
                        zoomPlacer = $('<div class="' + opts.class + '" />')
                    }
                    zoomPlacer.bind('contextmenu', function(e) {
                        e.preventDefault()
                    });
                    zoomPlacer.appendTo(opts.parent);
                    zoomPlacer.addClass('__loaded').html('').append(img);
                    windowSize();
                    kw = (w3 - w2) / w2 * lensMargin;
                    kh = (h3 - h2) / h2 * lensMargin;
                    w4 = w3 + kw * 2 - w2;
                    h4 = h3 + kh * 2 - h2;
                    rw = w4 / w2;
                    rh = h4 / h2;
                    vl = (kw / rw).toFixed(2);
                    hl = (kh / rh).toFixed(2);
                    imgW = $this.find('img').width();
                    imgH = $this.find('img').height();
                    boxP = box.offset();
                    if (over) {
                        zoomPlacer.show();
                        move($this, currentEvent)
                    }
                }
            }
        }
        function windowSize() {
            w2 = zoomPlacer.outerWidth();
            h2 = zoomPlacer.outerHeight();
            var _loopW = Math.round(w2 / sfx);
            var _loopH = h2 / sfy;
            if (_loopH > h1) {
                _loopH = h1;
                zoomPlacer.css('height', boxH)
            }
            if (_loopW > w1) {
                _loopW = w1;
                zoomPlacer.css('height', boxW)
            }
            lens.width(_loopW - lensBorder * 2);
            lens.height(_loopH - lensBorder * 2);
            LensW = _loopW / 2;
            LensH = _loopH / 2;
            sized = !0
        }
        function loop(e) {
            if (loaded) {
                start(e);
                clearTimeout(timeout)
            } else {
                timeout = setTimeout(function() {
                    loop(e)
                }, 50)
            }
        }
        function show(elem) {
            if (!loaded) {
                loader.stop(!0, !0).fadeIn(150)
            } else {
                zoomPlacer.stop(!0, !0).fadeIn(150)
            }
            if (opts.onShow && typeof opts.onShow === 'function') {
                opts.onShow($this)
            }
        }
        function hide(elem) {
            if (!loaded) {
                loader.stop(!0, !0).fadeOut(250)
            } else {
                zoomPlacer.stop(!0, !0).fadeOut(250)
            }
            over = !1;
            if (opts.onHide && typeof opts.onHide === 'function') {
                opts.onHide($this)
            }
        }
        function error() {
            zoomPlacer.html(opts.error)
        }
        function move(elem, e) {
            if (!loaded || !sized)
                return;
            var p = parent.offset();
            var pl = e.pageX - p.left;
            var pt = e.pageY - p.top;
            var xl, xt;
            if (opts.showLens) {
                lensL = pl - LensW;
                lensT = pt - LensH;
                xl = lensL * sfx;
                xt = lensT * sfy;
                if (pl < LensW) {
                    lensL = 0
                }
                if (imgW - pl < LensW) {
                    lensL = imgW - LensW * 2
                }
                if (pt < LensH) {
                    lensT = 0
                }
                if (imgH - pt < LensH) {
                    lensT = imgH - LensH * 2
                }
                if (w3 <= boxW) {
                    lens.css({
                        'left': '50%',
                        'margin-left': LensW / 2,
                        'top': lensT
                    });
                    $('img', zoomPlacer).css({
                        'left': '50%',
                        'margin-left': -w3 / 2,
                        'top': -xt
                    })
                } else if (h3 <= boxH) {
                    lens.css({
                        'left': lensL,
                        'top': '50%',
                        'margin-top': LensH / 2
                    });
                    $('img', zoomPlacer).css({
                        'left': -xl,
                        'top': '50%',
                        'margin-top': h3 / 2
                    })
                } else {
                    lens.css({
                        'left': lensL,
                        'top': lensT
                    });
                    $('img', zoomPlacer).css({
                        'left': -xl,
                        'top': -xt
                    })
                }
            } else {
                xl = rw * pl;
                xt = rh * pt;
                if (pl < vl) {
                    xl = 0
                }
                if (pl > w2 - vl) {
                    xl = w3 - w2
                }
                if (pt < hl) {
                    xt = 0
                }
                if (pt > h2 - hl) {
                    xt = h3 - h2
                }
                if (w3 <= boxW) {
                    $('img', zoomPlacer).css({
                        'left': '50%',
                        'top': -xt,
                        'margin-left': -w3 / 2,
                        'margin-top': pt < hl || pt > h2 - hl ? 0 : kh
                    })
                } else if (h3 <= boxH) {
                    $('img', zoomPlacer).css({
                        'left': -xl,
                        'top': '50%',
                        'margin-top': -h3 / 2,
                        'margin-left': pl < vl || pl > w2 - vl ? 0 : kw
                    })
                } else {
                    $('img', zoomPlacer).css({
                        'left': -xl,
                        'top': -xt,
                        'margin-top': pt < hl || pt > h2 - hl ? 0 : kh,
                        'margin-left': pl < vl || pl > w2 - vl ? 0 : kw
                    })
                }
            }
        }
    }
}
)(jQuery);
/* /themes/horoshop_default/layout/js/frontend/productGallery.js */
var initProductGallery = function() {
    var photos = $('.gallery-photo-inner');
    photos.not(':first-child').hide();
    if ($.fn.easyZoom) {
        var $firstZoomElem = $('.gallery-photo-inner').eq(0).find('.gallery-link.__zoom');
        $firstZoomElem.easyZoom({
            wrapper: '.gallery-photo-inner'
        })
    }
    $('.gallery-thumb-a').on('click', function(e) {
        e.preventDefault();
        var $this = $(this)
          , activeThumb = $this.parent()
          , activeIndex = activeThumb.index();
        if (activeThumb.hasClass('__active')) {
            e.preventDefault();
            return !1
        }
        activeThumb.addClass('__active').siblings().removeClass('__active');
        photos.hide().eq(activeIndex).show();
        if ($.fn.easyZoom) {
            photos.eq(activeIndex).find('.gallery-link.__zoom').easyZoom({
                wrapper: '.gallery-photo-inner'
            })
        }
        return !1
    })
};
/* /vendor/widgets/special_offers.js */
(function($, w) {
    var SpecialOffers = {
        init: function(options) {
            this.ops = $.extend({
                widget_name: 'special_offers',
                token: null,
                active_block: null,
                activeClass: '__active',
                settingsStorage: {
                    type: 'session'
                }
            }, options);
            var widget_name = this.ops.widget_name
              , token = this.ops.token
              , active_block = this.ops.active_block
              , activeClass = this.ops.activeClass;
            var cache = {
                store: {},
                write: function(key, data) {
                    this.store[key] = data
                },
                read: function(key) {
                    return this.store[key] != undefined ? this.store[key] : !1
                }
            };
            var self = this;
            var container = $("#special_offers_" + token);
            cache.write(active_block, container.find('.j-special-offers-content').html());
            var tabs = container.find('.j-special-offers-tab');
            tabs.off('click').on('click', function() {
                var data = {
                    token: token,
                    settingsStorage: self.ops.settingsStorage
                };
                var me = $(this)
                  , name = me.attr('rel');
                var init_html = function(html) {
                    tabs.removeClass(activeClass);
                    me.addClass(activeClass);
                    container.find('.j-special-offers-content').html(html);
                    self.trigger('onChange')
                };
                var html;
                if (html = cache.read(name)) {
                    init_html(html)
                } else {
                    self.trigger('onBeforeAjax', container);
                    sendAjax(GLOBAL.URI_PREFIX + '_widget/' + widget_name + '/block/' + name + '/', data, function(status, response) {
                        self.trigger('onAjax', container);
                        if (status === 'OK') {
                            cache.write(name, response.html);
                            init_html(response.html)
                        }
                        self.trigger('onAfterAjax', container)
                    })
                }
                return !1
            })
        }
    };
    $.extend(SpecialOffers, TMEvents);
    w.SpecialOffers = SpecialOffers
}
)(jQuery, window);
/* /vendor/widgets/comparison_table.js */
(function($, w, u) {
    var ComparisonTable = function(skin, selector, events) {
        this.skin = skin;
        this.container = $(selector);
        this.selectedContentId = 0;
        this.attachEventHandlers(events);
        this.showAllParamsStatus = !0;
        this.init()
    };
    ComparisonTable.instance = null;
    ComparisonTable.ajaxUri = GLOBAL.URI_PREFIX + '_widget/comparison_table/';
    ComparisonTable.createInstance = function(selector, events) {
        this.instance = new this(selector,events)
    }
    ;
    ComparisonTable.getInstance = function(selector, events) {
        if (selector) {
            this.createInstance(selector, events)
        }
        return this.instance
    }
    ;
    ComparisonTable.prototype = {
        init: function() {
            this.loader = this.container.find('.j-loader');
            this.content = this.container.find('.j-content');
            this.tabs_container = this.container.find('.j-tabs');
            this.close = this.container.find('.j-close');
            this.clear = this.container.find('.j-clear');
            this.initTabs();
            this.initDifference();
            this.initProducts();
            this.initDOMEvents();
            this.trigger('onInit')
        },
        initDOMEvents: function() {
            var self = this;
            this.close.off('click').on('click', function(e) {
                Modal.close();
                e.preventDefault()
            });
            this.clear.off('click').on('click', function() {
                if (self.trigger('onBeforeClear', self.selectedContentId) !== !1) {
                    self.clearProducts()
                }
                return !1
            })
        },
        clearProducts: function() {
            var self = this;
            if (this.contentIds.length <= 1) {
                Modal.close()
            }
            ComparisonList.clear(this.selectedContentId, function() {
                self.loadContent()
            })
        },
        initProducts: function() {
            this.products = this.container.find('.j-comparison-product');
            this.productsIds = [];
            var self = this;
            this.products.each(function() {
                var me = $(this)
                  , id = me.data('id');
                me.find('.j-remove').off('.ComparisonTable').on('click.ComparisonTable', function() {
                    if (self.trigger('onBeforeRemoveProduct') !== !1) {
                        if (self.productsIds.length <= 1 && self.contentIds.length <= 1) {
                            Modal.close()
                        }
                        ComparisonList.removeProduct(self.selectedContentId, id, function() {
                            self.loadContent()
                        })
                    }
                    return !1
                });
                if ($.inArray(id, self.productsIds) === -1) {
                    self.productsIds.push(id)
                }
            })
        },
        initTabs: function() {
            var self = this;
            this.tabs = this.container.find('.j-compare-tab');
            this.contentIds = [];
            this.tabs.off('.ComparisonTable').on('click.ComparisonTable', function() {
                var content_id = $(this).data('id');
                self.loadContent(content_id);
                return !1
            }).each(function() {
                var id = $(this).data('id');
                if ($.inArray(id, self.contentIds) === -1) {
                    self.contentIds.push(id)
                }
            });
            this.selectedContentId = this.tabs.filter('.__active').data('id') * 1
        },
        initDifference: function() {
            this.paramsAllButton = this.container.find('.j-params-all');
            this.paramsDifferencesButton = this.container.find('.j-params-differences');
            this.noDifferencesContainers = this.container.find('.j-no-difference');
            var self = this;
            this.paramsAllButton.off('.ComparisonTable').on('click.ComparisonTable', function() {
                self.showAllParams();
                return !1
            });
            this.paramsDifferencesButton.off('.ComparisonTable').on('click.ComparisonTable', function() {
                self.showParamsDifferences();
                return !1
            })
        },
        showAllParams: function() {
            this.paramsAllButton.addClass('__active');
            this.paramsDifferencesButton.removeClass('__active');
            this.noDifferencesContainers.show();
            this.showAllParamsStatus = !0
        },
        showParamsDifferences: function() {
            this.paramsAllButton.removeClass('__active');
            this.paramsDifferencesButton.addClass('__active');
            this.noDifferencesContainers.hide();
            this.showAllParamsStatus = !1
        },
        toggleParamsDifference: function() {
            if (this.showAllParamsStatus) {
                this.showParamsDifferences()
            } else {
                this.showAllParams()
            }
        },
        loadContent: function(content_id) {
            content_id = content_id || this.selectedContentId;
            this.selectedContentId = content_id;
            this.tabs.removeClass('__active').filter('[data-id="' + content_id + '"]').addClass('__active');
            this.trigger('onBeforeLoadContent', content_id);
            var self = this;
            this.ajax('loadContent/' + this.skin + '/' + content_id, null, function(status, response) {
                if (status === 'OK') {
                    self.content.empty().append(response.content);
                    self.tabs_container.empty().append(response.tabs);
                    self.trigger('onBeforeContentInit');
                    self.init();
                    self.trigger('onAfterContentInit')
                }
            })
        },
        ajax: function(action, params, callback) {
            var self = this;
            this.loader.show();
            this.trigger('onBeforeAjax', action, params);
            return sendAjax(ComparisonTable.ajaxUri + action + '/', params, function(status, response) {
                self.loader.hide();
                self.trigger('onAfterAjax', action, status, response);
                if (typeof callback === 'function') {
                    callback(status, response)
                }
            })
        },
        openModal: function(content_id) {
            var self = this;
            this.loadContent(content_id);
            Modal.open(this.container, null, {
                beforeOpen: function() {
                    return self.trigger('onBeforeOpenModal')
                },
                afterOpen: function() {
                    return self.trigger('onAfterOpenModal')
                },
                beforeClose: function() {
                    return self.trigger('onBeforeCloseModal')
                },
                afterClose: function() {
                    return self.trigger('onAfterCloseModal')
                }
            }, !0)
        }
    };
    $.extend(ComparisonTable.prototype, TMEvents);
    w.ComparisonTable = ComparisonTable
}
)(jQuery, window);
/* /vendor/libs/spritespin.js */
(function() {
    var Loader = this.SpriteLoader = {};
    Loader.preload = function(images, callback) {
        if (typeof (images) === "string") {
            images = [images]
        }
        var i, data = {
            callback: callback,
            numLoaded: 0,
            numImages: images.length,
            images: []
        };
        for (i = 0; i < images.length; i += 1) {
            Loader.load(images[i], data)
        }
    }
    ;
    Loader.load = function(imageSource, data) {
        var image = new Image();
        data.images.push(image);
        image.onload = function() {
            data.numLoaded += 1;
            if (data.numLoaded === data.numImages) {
                data.callback(data.images)
            }
        }
        ;
        image.src = imageSource
    }
}());
(function($, window) {
    var Spin = window.SpriteSpin = {};
    var api = Spin.api = {};
    Spin.modules = {};
    Spin.behaviors = {};
    Spin.disableSelection = function(e) {
        e.attr('unselectable', 'on').css({
            "-moz-user-select": "none",
            "-khtml-user-select": "none",
            "-webkit-user-select": "none",
            "user-select": 'none'
        }).on('selectstart', !1);
        return e
    }
    ;
    Spin.updateInput = function(e, data) {
        if (e.touches === undefined && e.originalEvent !== undefined) {
            e.touches = e.originalEvent.touches
        }
        data.oldX = data.currentX;
        data.oldY = data.currentY;
        if (e.touches !== undefined && e.touches.length > 0) {
            data.currentX = e.touches[0].clientX;
            data.currentY = e.touches[0].clientY
        } else {
            data.currentX = e.clientX;
            data.currentY = e.clientY
        }
        if (data.startX === undefined || data.startY === undefined) {
            data.startX = data.currentX;
            data.startY = data.currentY;
            data.clickframe = data.frame
        }
        if (data.oldX === undefined || data.oldY === undefined) {
            data.oldX = data.currentX;
            data.oldY = data.currentY
        }
        data.dX = data.currentX - data.startX;
        data.dY = data.currentY - data.startY;
        data.dW = data.dX * data.dragDirX + data.dY * data.dragDirY;
        data.ddX = data.currentX - data.oldX;
        data.ddY = data.currentY - data.oldY;
        data.ddW = data.ddX * data.dragDirX + data.ddY * data.dragDirY;
        return !1
    }
    ;
    Spin.resetInput = function(data) {
        data.startX = undefined;
        data.startY = undefined;
        data.currentX = undefined;
        data.currentY = undefined;
        data.oldX = undefined;
        data.oldY = undefined;
        data.dX = 0;
        data.dY = 0;
        data.dW = 0;
        data.ddX = 0;
        data.ddY = 0;
        data.ddW = 0;
        if (typeof (data.module.resetInput) === "function") {
            data.module.resetInput(data)
        }
    }
    ;
    Spin.clamp = function(value, min, max) {
        return (value > max ? max : (value < min ? min : value))
    }
    ;
    Spin.wrap = function(value, min, max, size) {
        while (value > max) {
            value -= size
        }
        while (value < min) {
            value += size
        }
        return value
    }
    ;
    Spin.reload = function(data, andInit) {
        if (andInit && data.module.initialize) {
            data.module.initialize(data)
        }
        Spin.prepareBackground(data);
        Spin.preloadImages(data, function() {
            Spin.rebindEvents(data);
            data.module.reload(data);
            data.target.trigger("onLoad", data)
        })
    }
    ;
    Spin.preloadImages = function(data, callback) {
        data.preload.fadeIn(250, function() {
            SpriteLoader.preload(data.source, function(images) {
                data.preload.fadeOut(250, function() {
                    data.preload.hide()
                });
                data.stage.show();
                if (data.canvas) {
                    data.canvas.show()
                }
                data.images = images;
                callback.apply(data.target, [data])
            })
        })
    }
    ;
    Spin.prepareBackground = function(data) {
        var w = [data.width, "px"].join("");
        var h = [data.height, "px"].join("");
        data.target.css({
            width: w,
            height: h,
            position: "absolute"
        });
        var css = {
            width: w,
            height: h,
            top: "0px",
            left: "0px",
            position: "absolute"
        };
        $.extend(css, data.preloadCSS || {});
        data.preload.css(css).html(data.preloadHtml || "").hide();
        data.stage.css({
            width: w,
            height: h,
            top: "0px",
            left: "0px",
            position: "absolute"
        }).hide();
        if (data.canvas) {
            data.canvas[0].width = data.width;
            data.canvas[0].height = data.height;
            data.canvas.css({
                width: w,
                height: h,
                top: "0px",
                left: "0px",
                position: "absolute"
            }).hide()
        }
    }
    ;
    Spin.draw = function(data) {
        data.module.draw(data)
    }
    ;
    Spin.rebindEvents = function(data) {
        var target = data.target;
        target.unbind('.spritespin');
        var beh = data.behavior;
        if (typeof (data.behavior) === "string") {
            beh = Spin.behaviors[data.behavior]
        }
        beh = beh || {};
        var prevent = function(e) {
            if (e.cancelable) {
                e.preventDefault()
            }
            return !1
        };
        target.bind('mousedown.spritespin', beh.mousedown || $.noop);
        target.bind('mousemove.spritespin', beh.mousemove || $.noop);
        target.bind('mouseup.spritespin', beh.mouseup || $.noop);
        target.bind('mouseenter.spritespin', beh.mouseenter || $.noop);
        target.bind('mouseover.spritespin', beh.mouseover || $.noop);
        target.bind('mouseleave.spritespin', beh.mouseleave || $.noop);
        target.bind('dblclick.spritespin', beh.dblclick || $.noop);
        target.bind('onFrame.spritespin', beh.onFrame || $.noop);
        if (data.touchable) {
            target.bind('touchstart.spritespin', beh.mousedown || $.noop);
            target.bind('touchmove.spritespin', beh.mousemove || $.noop);
            target.bind('touchend.spritespin', beh.mouseup || $.noop);
            target.bind('touchcancel.spritespin', beh.mouseleave || $.noop);
            target.bind('click.spritespin', prevent);
            target.bind('gesturestart.spritespin', prevent);
            target.bind('gesturechange.spritespin', prevent);
            target.bind('gestureend.spritespin', prevent)
        }
        target.bind("mousedown.spritespin selectstart.spritespin", prevent);
        target.bind("onFrame.spritespin", function(event, data) {
            Spin.draw(data)
        });
        target.bind("onLoad.spritespin", function(event, data) {
            data.target.spritespin("animate", data.animate, data.loop)
        });
        if (typeof (data.onFrame) === "function") {
            target.bind("onFrame.spritespin", data.onFrame)
        }
        if (typeof (data.onLoad) === "function") {
            target.bind("onLoad.spritespin", data.onLoad)
        }
    }
    ;
    $.fn.spritespin = function(method) {
        if (api[method]) {
            return api[method].apply(this, Array.prototype.slice.call(arguments, 1))
        }
        if (typeof (method) === 'object' || !method) {
            return api.init.apply(this, arguments)
        }
        $.error('Method ' + method + ' does not exist on jQuery.spritespin')
    }
    ;
    api.init = function(options) {
        var settings = {
            width: undefined,
            height: undefined,
            frames: 36,
            frame: 0,
            module: "360",
            behavior: "drag",
            animate: !0,
            loop: !1,
            loopFrame: 0,
            frameStep: 1,
            frameTime: 36,
            frameWrap: !0,
            reverse: !1,
            sense: 1,
            orientation: "horizontal",
            source: undefined,
            preloadHtml: undefined,
            preloadCSS: undefined,
            onFrame: undefined,
            onLoad: undefined,
            touchable: undefined
        };
        options = (options || {});
        $.extend(settings, options);
        return this.each(function() {
            var $this = $(this);
            var data = $this.data('spritespin');
            if (!data) {
                var images = $this.find("img");
                var i = 0;
                if (images.length > 0) {
                    settings.source = [];
                    for (i = 0; i < images.length; i += 1) {
                        settings.source.push($(images[i]).attr("src"))
                    }
                }
                if (typeof (settings.source) === "string") {
                    settings.source = [settings.source]
                }
                Spin.disableSelection($this).css({
                    overflow: "hidden",
                    position: "relative"
                });
                $this.empty();
                $this.append($("<div class='spritespin-stage'/>"));
                $this.append($("<div class='spritespin-preload'/>"));
                $this.addClass("spritespin-instance");
                if (settings.enableCanvas) {
                    var canvas = $("<canvas class='spritespin-canvas'/>")[0];
                    var supported = !!(canvas.getContext && canvas.getContext('2d'));
                    if (supported) {
                        settings.canvas = $(canvas);
                        settings.context = canvas.getContext("2d");
                        $this.append(settings.canvas)
                    }
                }
                if (typeof (settings.module) === "string") {
                    settings.module = SpriteSpin.modules[settings.module]
                }
                settings.target = $this;
                settings.stage = $this.find(".spritespin-stage");
                settings.preload = $this.find(".spritespin-preload");
                settings.animation = null;
                settings.touchable = (settings.touchable || (/iphone|ipod|ipad|android/i).test(window.navigator.userAgent));
                $this.data('spritespin', settings);
                SpriteSpin.reload(settings, !0)
            } else {
                $.extend(data, options);
                if (options.source) {
                    SpriteSpin.reload(data)
                } else {
                    $this.spritespin("animate", data.animate, data.loop)
                }
            }
        })
    }
    ;
    api.destroy = function() {
        return this.each(function() {
            var $this = $(this);
            $this.unbind('.spritespin');
            var data = $this.data('spritespin');
            if (data && data.animation) {
                window.clearInterval(data.animation);
                data.animation = null
            }
            $this.removeData('spritespin')
        })
    }
    ;
    api.update = function(frame) {
        return this.each(function() {
            var $this = $(this);
            var data = $this.data('spritespin');
            if (frame === undefined || isNaN(frame)) {
                data.frame += ((data.animation && data.reverse) ? -data.frameStep : data.frameStep)
            } else {
                data.frame = frame
            }
            if (data.animation || (!data.animation && data.frameWrap)) {
                data.frame = Spin.wrap(data.frame, 0, data.frames - 1, data.frames)
            } else {
                data.frame = Spin.clamp(data.frame, 0, data.frames - 1)
            }
            if (!data.loop && data.animation && (data.frame === data.loopFrame)) {
                api.animate.apply(data.target, [!1])
            }
            data.target.trigger("onFrame", data)
        })
    }
    ;
    api.animate = function(animate, loop) {
        if (animate === undefined) {
            return $(this).data('spritespin').animation !== null
        }
        return this.each(function() {
            var $this = $(this);
            var data = $this.data('spritespin');
            if (typeof (loop) === "boolean") {
                data.loop = loop
            }
            if (animate === "toggle") {
                data.animate = !data.animate
            }
            if (typeof (animate) === "boolean") {
                data.animate = animate
            }
            if (data.animation) {
                window.clearInterval(data.animation);
                data.animation = null
            }
            if (data.animate) {
                data.animation = window.setInterval(function() {
                    try {
                        $this.spritespin("update")
                    } catch (err) {}
                }, data.frameTime)
            }
        })
    }
    ;
    api.frame = function(frame) {
        if (frame === undefined) {
            return $(this).data('spritespin').frame
        }
        return this.each(function() {
            $(this).spritespin("update", frame)
        })
    }
    ;
    api.loop = function(value) {
        if (value === undefined) {
            return $(this).data('spritespin').loop
        }
        return this.each(function() {
            var $this = $(this);
            $this.spritespin("animate", $this.data('spritespin').animate, value)
        })
    }
    ;
    api.next = function() {
        return this.each(function() {
            var $this = $(this);
            $this.spritespin("frame", $this.spritespin("frame") + 1)
        })
    }
    ;
    api.prev = function() {
        return this.each(function() {
            var $this = $(this);
            $this.spritespin("frame", $this.spritespin("frame") - 1)
        })
    }
    ;
    api.animateTo = function(frame) {
        return this.each(function() {
            var $this = $(this);
            $this.spritespin({
                animate: !0,
                loop: !1,
                loopFrame: frame
            })
        })
    }
    ;
    Spin.behaviors.none = {
        name: "none",
        mousedown: $.noop,
        mousemove: $.noop,
        mouseup: $.noop,
        mouseenter: $.noop,
        mouseover: $.noop,
        mouseleave: $.noop,
        dblclick: $.noop,
        onFrame: $.noop
    }
}(jQuery, window));
(function($, window, Spin) {
    Spin.behaviors.click = {
        name: "click",
        mouseup: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.updateInput(e, data);
            $this.spritespin("animate", !1);
            var h, p, o = data.target.offset();
            if (data.orientation == "horizontal") {
                h = data.width / 2;
                p = data.currentX - o.left
            } else {
                h = data.height / 2;
                p = data.currentY - o.top
            }
            if (p > h) {
                $this.spritespin("frame", data.frame + 1);
                data.reverse = !1
            } else {
                $this.spritespin("frame", data.frame - 1);
                data.reverse = !0
            }
        }
    }
}(jQuery, window, window.SpriteSpin));
(function($, window, Spin) {
    Spin.behaviors.drag = {
        name: "drag",
        mousedown: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.updateInput(e, data);
            data.onDrag = !0
        },
        mousemove: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            if (data.onDrag) {
                Spin.updateInput(e, data);
                var d;
                if (data.orientation == "horizontal") {
                    d = data.dX / data.width
                } else {
                    d = data.dY / data.height
                }
                var dFrame = d * data.frames * data.sense;
                var frame = Math.round(data.clickframe + dFrame);
                $this.spritespin("update", frame);
                $this.spritespin("animate", !1)
            }
        },
        mouseup: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.resetInput(data);
            data.onDrag = !1
        },
        mouseleave: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.resetInput(data);
            data.onDrag = !1
        }
    }
}(jQuery, window, window.SpriteSpin));
(function($, window, Spin) {
    Spin.behaviors.hold = {
        name: "hold",
        mousedown: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.updateInput(e, data);
            data.onDrag = !0;
            $this.spritespin("animate", !0)
        },
        mousemove: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            if (data.onDrag) {
                Spin.updateInput(e, data);
                var h, d, o = data.target.offset();
                if (data.orientation == "horizontal") {
                    h = (data.width / 2);
                    d = (data.currentX - o.left - h) / h
                } else {
                    h = (data.height / 2);
                    d = (data.currentY - o.top - h) / h
                }
                data.reverse = d < 0;
                d = d < 0 ? -d : d;
                data.frameTime = 80 * (1 - d) + 20
            }
        },
        mouseup: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.resetInput(data);
            data.onDrag = !1;
            $this.spritespin("animate", !1)
        },
        mouseleave: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.resetInput(data);
            data.onDrag = !1;
            $this.spritespin("animate", !1)
        },
        onFrame: function(e) {
            var $this = $(this);
            $this.spritespin("animate", !0)
        }
    }
}(jQuery, window, window.SpriteSpin));
(function($, window, Spin) {
    Spin.behaviors.swipe = {
        name: "swipe",
        mousedown: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            Spin.updateInput(e, data);
            data.onDrag = !0
        },
        mousemove: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            if (data.onDrag) {
                Spin.updateInput(e, data);
                var frame = data.frame;
                var snap = data.snap || 0.25;
                var d, s;
                if (data.orientation == "horizontal") {
                    d = data.dX;
                    s = data.width * snap
                } else {
                    d = data.dY;
                    s = data.height * snap
                }
                if (d > s) {
                    frame = data.frame - 1;
                    data.onDrag = !1
                } else if (d < -s) {
                    frame = data.frame + 1;
                    data.onDrag = !1
                }
                $this.spritespin("update", frame);
                $this.spritespin("animate", !1)
            }
        },
        mouseup: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            data.onDrag = !1;
            Spin.resetInput(data)
        },
        mouseleave: function(e) {
            var $this = $(this)
              , data = $this.data('spritespin');
            data.onDrag = !1;
            Spin.resetInput(data)
        }
    }
}(jQuery, window, window.SpriteSpin));
(function($, window) {
    var Module = window.SpriteSpin.modules["360"] = {};
    Module.reload = function(data) {
        var images = $(data.images);
        data.stage.empty()
        data.modopts = {
            is_sprite: (data.images.length == 1),
            resX: (data.resolutionX || data.images[0].width),
            resY: (data.resolutionY || data.images[0].height),
            offX: (data.offsetX || 0),
            offY: (data.offsetY || 0),
            stepX: (data.stepX || data.width),
            stepY: (data.stepY || data.height),
            numFramesX: (data.framesX || data.frames),
            oldFrame: data.frame,
            images: images
        };
        if (!data.modopts.is_sprite && !data.canvas) {
            data.stage.append(images)
        }
        images.css({
            width: data.modopts.resX,
            height: data.modopts.resY
        });
        Module.draw(data)
    }
    ;
    Module.draw = function(data) {
        if (data.modopts.is_sprite) {
            Module.drawSpritesheet(data)
        } else {
            Module.drawImages(data)
        }
    }
    ;
    Module.drawSpritesheet = function(data) {
        var opts = data.modopts;
        var image = data.source[0];
        var frameX = (data.frame % opts.numFramesX);
        var frameY = (data.frame / opts.numFramesX) | 0;
        var x = opts.offX + frameX * opts.stepX;
        var y = opts.offY + frameY * opts.stepY;
        if (data.canvas) {
            data.context.clearRect(0, 0, data.width, data.height);
            data.context.drawImage(data.images[0], x, y, data.width, data.height, 0, 0, data.width, data.height);
            return
        }
        data.stage.css({
            width: [data.width, "px"].join(""),
            height: [data.height, "px"].join(""),
            "background-image": ["url('", image, "')"].join(""),
            "background-repeat": "no-repeat",
            "background-position": [-x, "px ", -y, "px"].join(""),
            "-webkit-background-size": [opts.resX, "px ", opts.resY, "px"].join("")
        })
    }
    ;
    Module.drawImages = function(data) {
        var img = data.images[data.frame];
        if (data.canvas) {
            data.context.clearRect(0, 0, data.width, data.height);
            data.context.drawImage(img, 0, 0);
            return
        }
        var frame = data.stage.css({
            width: [data.width, "px"].join(""),
            height: [data.height, "px"].join("")
        }).children().hide()[data.frame];
        SpriteSpin.disableSelection($(frame)).show()
    }
}(window.jQuery, window));
(function($, window) {
    var Module = window.SpriteSpin.modules.gallery = {};
    Module.reload = function(data) {
        data.images = [];
        data.offsets = [];
        data.stage.empty();
        data.speed = 500;
        data.opacity = 0.25;
        data.oldFrame = 0;
        var size = 0
          , i = 0;
        for (i = 0; i < data.source.length; i += 1) {
            var img = $("<img src='" + data.source[i] + "'/>");
            data.stage.append(img);
            data.images.push(img);
            data.offsets.push(-size + (data.width - img[0].width) / 2);
            size += img[0].width;
            img.css({
                opacity: 0.25
            })
        }
        data.stage.css({
            width: size
        });
        data.images[data.oldFrame].animate({
            opacity: 1
        }, data.speed)
    }
    ;
    Module.draw = function(data) {
        if ((data.oldFrame != data.frame) && data.offsets) {
            data.stage.stop(!0, !1);
            data.stage.animate({
                "left": data.offsets[data.frame]
            }, data.speed);
            data.images[data.oldFrame].animate({
                opacity: data.opacity
            }, data.speed);
            data.oldFrame = data.frame;
            data.images[data.oldFrame].animate({
                opacity: 1
            }, data.speed)
        } else {
            data.stage.css({
                "left": data.offsets[data.frame] + data.dX
            })
        }
    }
    ;
    Module.resetInput = function(data) {
        if (!data.onDrag) {
            data.stage.animate({
                "left": data.offsets[data.frame]
            })
        }
    }
}(jQuery, window));
(function($, window) {
    var Module = window.SpriteSpin.modules.panorama = {};
    Module.reload = function(data) {
        data.stage.empty();
        var opts = data.modopts = {};
        opts.resX = (data.resolutionX || data.images[0].width);
        opts.resY = (data.resolutionY || data.images[0].height);
        if (data.orientation == "horizontal") {
            opts.frames = (data.frames || opts.resX)
        } else {
            opts.frames = (data.frames || opts.resY)
        }
        Module.drawFirst(data)
    }
    ;
    Module.draw = function(data) {
        var opts = data.modopts;
        var x, y;
        if (data.orientation == "horizontal") {
            x = (data.frame % opts.frames);
            y = 0
        } else {
            x = 0;
            y = (data.frame % opts.frames)
        }
        data.stage.css({
            "background-position": [-x, "px ", -y, "px"].join("")
        })
    }
    ;
    Module.drawFirst = function(data) {
        var opts = data.modopts;
        var x, y;
        if (data.orientation == "horizontal") {
            x = (data.frame % opts.frames);
            y = 0
        } else {
            x = 0;
            y = (data.frame % opts.frames)
        }
        data.stage.css({
            width: [data.width, "px"].join(""),
            height: [data.height, "px"].join(""),
            "background-image": ["url('", data.source[0], "')"].join(""),
            "background-repeat": "repeat-both",
            "background-position": [-x, "px ", -y, "px"].join(""),
            "-webkit-background-size": [opts.resX, "px ", opts.resY, "px"].join("")
        })
    }
}(window.jQuery, window));
/* /themes/horoshop_default/layout/js/main/main.js */
Modal.max_top = 100;
$(document).on('afterSendAjax', function() {
    Modal.autoOpen()
});
function reloadUserBar() {
    $('[data-widget="userbar"]').each(function() {
        var me = $(this)
          , skin = me.attr('data-skin')
          , href = GLOBAL.URI_PREFIX + '_widget/userbar/' + skin;
        sendAjax(href, {}, function(status, response) {
            if (status === 'OK') {
                var obj = $(response.html);
                me.removeAttr('id');
                obj.insertAfter(me);
                me.remove();
                initUserMenu && initUserMenu()
            }
        })
    })
}
function initInteractiveElements() {
    ComparisonList.init();
    FavoritesList.init();
    BuyButton.init();
    initProductQuantityCounter();
    Face.catalogListImages();
    $('select.select').selectBoxIt({
        autoWidth: !1,
        copyClasses: "container"
    });
    $('.j-catalog-card-select').each(function() {
        var $select = $(this);
        $select.selectBoxIt({
            autoWidth: !1,
            copyClasses: "container",
            viewport: $select.parents('.j-catalog-card')
        })
    })
}
function initFilterElements() {
    filterScrollInit();
    filterItemScrollInit();
    Face.filterTooltip();
    window.FakeHrefDirector.init()
}
function initProductQuantityCounter() {
    $('.j-product-card-quantity[data-id]').productCounter({
        onQuantityChange: function(quantity) {
            var id = $(this).attr('data-id');
            $('#j-buy-button-widget-' + id).attr('data-quantity', quantity * 1)
        }
    })
}
function updateSeoTextToggle() {
    var $seoText = $('.j-seo-text-expander');
    if ($.fn.seoBlockToggle && $seoText.length > 0) {
        $seoText.seoBlockToggle()
    }
}
$(function() {
    Modal.autoOpen();
    $('.info-row').fadeTo(200, 1);
    $('.scroll-section').fadeTo(200, 1);
    setBasket();
    CatalogBuilder.initAdditionalDataLoading && CatalogBuilder.initAdditionalDataLoading();
    window.FakeHrefDirector.init();
    var tabus = $('.product-tabs')
      , tab = tabus.find('.j-tabs').children('li')
      , wp = tabus.find('.tab-content')
      , content = wp.children().hide()
      , active = !1;
    var $_HASH = parseHashParams()
      , first = !0;
    tab.click(function(e) {
        var index = $(this).index();
        content.hide().eq(index).show();
        tab.removeClass('active').eq(index).addClass('active');
        e.preventDefault();
        var $_GET = parseHashParams();
        $_GET.tab = $(this).attr("name");
        if ($_GET.tab == "review" && first) {
            $_GET = parseHashParams()
        }
        changeHashHistory('', $_GET);
        if ($(this).index() == 0 && first) {
            changeHistory(window.location.href.split('#')[0])
        }
        first = !1
    });
    ($_HASH.tab && tab.is("[name='" + $_HASH.tab + "']")) ? tab.filter("[name='" + $_HASH.tab + "']").trigger("click") : tab.first().trigger("click");
    $('#j-currency-selector').change(function() {
        var currency = $(this).val();
        sendAjax('_widget/ajax/currency/change/' + currency, {}, function(status) {
            if (status === 'OK') {
                reloadPage()
            }
        })
    });
    $('.j-widget-ajax-link').off('click').on('click', ajax_link_click);
    $(document).on('afterSendAjax', function() {
        $('.j-widget-ajax-link').off('click').on('click', ajax_link_click)
    });
    Modal.autoOpen();
    OAuth.getScenario('default').attachEventHandlers({
        'OAuthError': function() {
            zteel_set_message(l10n("   .   .    ."), 'error', '.j-login-info-message:visible, .j-signup-info-message:visible', !0)
        },
        'OAuthSuccess': reloadPage
    });
    OAuth.attachEventHandler('OAuthSuccess', function() {
        reloadUserBar()
    });
    ComparisonList.attachEventHandlers({
        'onAddProduct': function(objects) {
            $.each(objects, function(i, obj) {
                obj.obj.addClass('__active')
            })
        },
        'onRemoveProduct': function(objects) {
            $.each(objects, function(i, obj) {
                obj.obj.removeClass('__active')
            })
        },
        'onChange': function() {
            CatalogBuilder && CatalogBuilder.clearCache()
        },
        'onAfterClear': function() {
            $.each(this.data, function(i, obj) {
                obj.obj.removeClass('is-active __active')
            })
        }
    });
    FavoritesList.attachEventHandlers({
        'onAddProduct': function(objects) {
            if (!GLOBAL.isGuest) {
                $.each(objects, function(i, obj) {
                    obj.obj.addClass('__active')
                })
            } else {
                $.each(objects, function(i, obj) {
                    obj.obj.removeClass('__active')
                })
            }
        },
        'onRemoveProduct': function(objects) {
            if (!GLOBAL.isGuest) {
                $.each(objects, function(i, obj) {
                    obj.obj.removeClass('__active')
                })
            }
        },
        'onChange': function() {
            CatalogBuilder && CatalogBuilder.clearCache()
        }
    });
    CatalogBuilder.attachEventHandlers({
        'onFollowLink': function() {
            var tooltip = $('[data-tooltip^="filter-hint"]').data('hsTooltip');
            if (tooltip) {
                tooltip.destroy()
            }
        },
        'onChange': function() {
            initInteractiveElements();
            initFilterElements();
            if ($.fn.FilterToggle) {
                $('.js-filter__box').FilterToggle()
            }
            reloadLangWidget();
            var $catalogContent = $('.j-catalog-sticker-parent');
            if ($catalogContent.length && $(document).scrollTop() > $catalogContent.offset().top) {
                $('html, body').animate({
                    scrollTop: $catalogContent.offset().top - 10
                }, 300)
            }
        },
        'onChangeModification': initInteractiveElements,
        'onAdditionalDataLoaded': initInteractiveElements,
        'onMetaDataSet': updateSeoTextToggle
    });
    SpecialOffers.attachEventHandlers({
        'onChange': function() {
            initInteractiveElements();
            CatalogBuilder && CatalogBuilder.initAdditionalDataLoading();
            new Face.PromoSlider($('.promo-slider', '#special_offers_' + SpecialOffers.ops.token))
        }
    });
    ModificationChange.isInitialized() && ModificationChange.getInstance().attachEventHandlers({
        'onBeforeAppendHtml': function() {
            $('#checkout-quick').remove()
        },
        'onAfterAppendHtml': function() {
            initInteractiveElements();
            initCommentsRating();
            if ($.fn.selectBoxIt) {
                $('select.select').selectBoxIt({
                    autoWidth: !1,
                    copyClasses: "container"
                })
            }
            initFrontendSwipers();
            Face.userDiscountDropdown();
            Face.productTooltip()
        },
        'onBeforeAjax': function(changedProp, caller) {
            var prop = this.form.find('[name="param[' + changedProp + ']"]');
            if ($(caller).hasClass('productCard-colors-i')) {
                $(caller).addClass('__loading').append('<div class="loader">')
            }
            prop.parents('.productCard-select-field:first').addClass('__loading').append('<div class="loader">');
            prop.parents('.productCard-select').find('.btn').filter(function() {
                return String($(this).data('value')) === prop.val()
            }).addClass('__disabled').append('<div class="loader">');
            prop.parents('.modification').find('.selectboxit').addClass('is-loading').after('<div class="loader">');
            prop.parents('.modification').find('.modification__button').filter(function() {
                return String($(this).data('value')) === prop.val()
            }).addClass('is-disabled').append('<div class="loader">');
            if ($(caller).hasClass('j-color-modification-change')) {
                $(caller).addClass('is-loading').append('<div class="loader">')
            }
        },
        'onAfterAjax': function(changedProp) {
            var prop = this.form.find('[name="param[' + changedProp + ']"]');
            prop.parents('.productCard-select-field:first').removeClass('__loading');
            this.form.find('.loader').remove()
        }
    });
    var comments;
    if (comments = AjaxComments.getInstance()) {
        comments.attachEventHandlers({
            'afterSubmit': function(status, response) {
                if (status === 'OK') {
                    $('.j-comments-count').html(response.comments_count)
                }
            }
        })
    }
    if (GLOBAL.open_cart_on_add) {
        AjaxCart.getInstance().attachEventHandlers({
            onProductAdd: function() {
                if (AjaxCart.openCartOnAdd) {
                    Modal.open(AjaxCart.selector)
                }
            }
        })
    }
    var associatedTimer = null;
    var loadAssociatedCart = function() {
        clearInterval(associatedTimer);
        var container = AjaxCart.getInstance().container.find('.j-cart-additional')
          , slider = container.find('.productsSlider');
        if (container.length !== 0) {
            if (slider.length === 0) {
                sendAjax(GLOBAL.URI_PREFIX + '_widget/cart_associated/default', {}, function(status, response) {
                    if (status === 'OK') {
                        AjaxCart.getInstance().container.find('.j-cart-additional').html(response.html);
                        if (response.html) {
                            loadAssociatedCart()
                        }
                    }
                })
            } else {
                if (!slider.is(':visible')) {
                    associatedTimer = setInterval(function() {
                        if (slider.is(':visible')) {
                            initCartSwipers();
                            clearInterval(associatedTimer)
                        }
                    }, 100)
                } else {
                    initCartSwipers()
                }
            }
        }
    };
    AjaxCart.getInstance().attachEventHandlers({
        onBeforeProductRemove: function() {
            return confirm(l10n("      ?"))
        },
        onReloadHtml: loadAssociatedCart,
        onInit: loadAssociatedCart
    });
    initPhoneMask();
    $(document.body).on('focus', '.j-phone:not(.j-phone-masked)', initPhoneMask);
    if (window.CheckoutModule) {
        var checkouts = CheckoutModule.getInstances();
        for (var i = checkouts.length; --i >= 0; ) {
            checkouts[i].attachEventHandler('afterAjax', initPhoneMask)
        }
        var paymentComponent = CheckoutModule.getInstance().getComponentByName('Payment');
        if (paymentComponent) {
            paymentComponent.attachEventHandlers({
                'removedDisallowedProducts': function() {
                    Modal.close()
                },
                'onInitWarning': function() {
                    Modal.open(paymentComponent.warningContainer)
                }
            });
            paymentComponent.initWarning()
        }
    }
    ComparisonTable && ComparisonTable.getInstance() && ComparisonTable.getInstance().attachEventHandlers({
        onBeforeContentInit: function() {
            Face.compareLayout.init()
        },
        onAfterContentInit: function() {
            BuyButton.initButtons();
            Face.Popover('.compare .js-popover')
        },
        onBeforeRemoveProduct: function() {
            return !!confirm(l10n("    ?"))
        },
        onBeforeClear: function() {
            return !!confirm(l10n("  ?"))
        }
    });
    initProductQuantityCounter();
    BuyButton && BuyButton.attachEventHandlers({
        onBeforeAdd: function(product, related, button) {
            button.addClass('__disabled');
            self.loader = $('<i class="loader" />').appendTo(button)
        },
        onAfterRender: function(button) {
            if (button.is('.j-ignore')) {
                button.removeClass('__disabled').find('.loader').remove()
            }
        }
    })
});
function initPhoneMask() {
    if (GLOBAL.enable_phone_mask_on_input && !GLOBAL.use_countries) {
        $('.j-phone').each(function() {
            var me = $(this);
            if (!me.hasClass('j-phone-masked')) {
                me.inputmask({
                    "mask": GLOBAL.phone_mask
                });
                me.addClass('j-phone-masked')
            }
        })
    } else {
        $('.j-phone').each(function() {
            var me = $(this);
            if (!me.hasClass('j-phone-masked')) {
                me.inputmask({
                    regex: '[+]?[0-9 ()\\-]*'
                });
                me.addClass('j-phone-masked')
            }
        })
    }
}
;/* /vendor/widgets/countdown.js */
(function(w) {
    var Countdown = function(id, endTime) {
        this.id = id;
        this.endTime = new Date(endTime.replace(/-/g, '/'))
    };
    Countdown.instances = {};
    Countdown.getInstance = function(id, endTime) {
        if (this.instances[id]) {
            return this.instances[id]
        } else {
            this.instances[id] = new this(id,endTime);
            return this.instances[id]
        }
    }
    ;
    Countdown.prototype = {
        selectors: {
            days: '.j-countdown-days',
            hours: '.j-countdown-hours',
            minutes: '.j-countdown-minutes',
            seconds: '.j-countdown-seconds'
        },
        timer: null,
        days: null,
        hours: null,
        minutes: null,
        seconds: null,
        timeIntervalId: null,
        init: function() {
            this.setContainers();
            this.initializeClock()
        },
        setContainers: function() {
            try {
                this.timer = document.querySelector('#' + this.id);
                this.days = this.timer.querySelector(this.selectors.days);
                this.hours = this.timer.querySelector(this.selectors.hours);
                this.minutes = this.timer.querySelector(this.selectors.minutes);
                this.seconds = this.timer.querySelector(this.selectors.seconds)
            } catch (e) {
                throw new Error(e.message)
            }
        },
        getTimeRemaining: function() {
            var t = this.endTime - (new Date())
              , seconds = Math.floor((t / 1000) % 60)
              , minutes = Math.floor((t / 1000 / 60) % 60)
              , hours = Math.floor((t / (1000 * 60 * 60)) % 24)
              , days = Math.floor(t / (1000 * 60 * 60 * 24));
            return {
                'total': t,
                'days': days,
                'hours': hours,
                'minutes': minutes,
                'seconds': seconds
            }
        },
        initializeClock: function() {
            this.updateClock();
            this.timeIntervalId = setInterval(this.tick(), 500)
        },
        updateClock: function() {
            var t = this.getTimeRemaining(this.endTime);
            this.days.innerHTML = t.days;
            this.hours.innerHTML = ('0' + t.hours).slice(-2);
            this.minutes.innerHTML = ('0' + t.minutes).slice(-2);
            this.seconds.innerHTML = ('0' + t.seconds).slice(-2);
            if (t.total <= 0) {
                clearInterval(this.timeIntervalId);
                this.remove()
            }
        },
        tick: function() {
            var self = this;
            return function() {
                self.updateClock()
            }
        },
        remove: function() {
            this.timer.remove()
        }
    };
    w.Countdown = Countdown
}
)(window);
